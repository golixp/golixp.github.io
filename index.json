[{"categories":null,"content":" å®é™…å†…å®¹ ä»£ç å—è¯­è¨€æ ‡è¯† ~/.ssh/config ssh-config /etc/environment bash or env pacmanç›¸å…³é…ç½® conf or ini å‘½ä»¤è¡Œè¾“å‡º console ~/.config/environment.d/10-wayland.conf conf ä¸€èˆ¬çš„é…ç½®æ–‡ä»¶ conf ","date":"2026-01-18","objectID":"/posts/markdown%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%E6%A0%87%E7%A4%BA/:0:0","series":null,"tags":null,"title":"Markdownä»£ç å—çš„æ ‡ç¤º","uri":"/posts/markdown%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%E6%A0%87%E7%A4%BA/#"},{"categories":null,"content":".gitignore å†™å…¥é…ç½®å¦‚ä¸‹: gitignore # ç™½åå•æ¨¡å¼ .gitignore è§„åˆ™ # å¿½ç•¥æ‰€æœ‰å†…å®¹å¹¶å…è®¸è¿½è¸ªå­ç›®å½•å†…å®¹ * !*/ # README å’Œ gitignore åŠ å…¥ç™½åå• !/.gitignore !README* å…·ä½“åŸç†ä¸º: é¦–å…ˆä½¿ç”¨ * å…ˆå¿½ç•¥å…¨éƒ¨æ–‡ä»¶ä¸ç›®å½•, ç„¶åä½¿ç”¨ !*/ å…è®¸ Git è¿½è¸ªå­ç›®å½•ç»“æ„, ç„¶åå°±å¯ä»¥ç”¨ ! + æ–‡ä»¶åæ¥åŠ å…¥éœ€è¦ Git è¿½è¸ªçš„æ–‡ä»¶. ","date":"2026-01-18","objectID":"/posts/gitignore%E7%99%BD%E5%90%8D%E5%8D%95%E5%86%99%E6%B3%95/:0:0","series":null,"tags":null,"title":"gitignoreç™½åå•å†™æ³•","uri":"/posts/gitignore%E7%99%BD%E5%90%8D%E5%8D%95%E5%86%99%E6%B3%95/#"},{"categories":null,"content":" å®‰è£…ç³»ç»Ÿå¿«ç…§å¤‡ä»½å¸¸ç”¨å¿«ç…§ç»„ä»¶æœ‰ TimeShift å’Œ Snapper . ","date":"2026-01-18","objectID":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/:1:0","series":null,"tags":null,"title":"Linux ä¸‹ Btrfs æ–‡ä»¶ç³»ç»Ÿå¿«ç…§","uri":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/#å®‰è£…ç³»ç»Ÿå¿«ç…§å¤‡ä»½"},{"categories":null,"content":" TimeShiftTimeShift æ˜¯ Ubuntu å¸¸ç”¨çš„å¿«ç…§è½¯ä»¶, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… text yay -S timeshift ä¹‹åå¯ä»¥å¯åŠ¨ timeshift åœ¨ GUI ç•Œé¢è¿›è¡Œè¯¦ç»†é…ç½®, ä¹‹åå®‰è£… timeshift-autosnap å®ç°æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½. text yay -S timeshift-autosnap ","date":"2026-01-18","objectID":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/:1:1","series":null,"tags":null,"title":"Linux ä¸‹ Btrfs æ–‡ä»¶ç³»ç»Ÿå¿«ç…§","uri":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/#timeshift"},{"categories":null,"content":" SnapperSnapper åŠŸèƒ½æ›´å¼ºå¤§, æ˜¯ OpenSuse ç³»ç»Ÿçš„ç»„ä»¶, é»˜è®¤æ²¡æœ‰å›¾å½¢ç•Œé¢, é…åˆ Btrfs Assistant ä½¿ç”¨. text yay -S snapper btrfs-assistant åœ¨ Snapper Settings ç•Œé¢å¯ä»¥åˆ›å»ºå¯¹ä¸åŒå­å·çš„é…ç½®, å¯ä»¥åˆ†åˆ«åˆ›å»ºå¯¹äº root å’Œ home ç›®å½•çš„å¤‡ä»½è§„åˆ™, å¯ç”¨ Enable timeline snapshots åå¯ä»¥é…ç½®å¤‡ä»½å‘¨æœŸ, ç„¶åç‚¹å‡» Save ä¿å­˜. å¯¹ root å’Œ home åˆ†åˆ«é…ç½®åå‹¾é€‰ systemd Unit Settings ä¸­çš„é€‰é¡¹, ç„¶å Apply systemd changes å³å¯å¯ç”¨å¿«ç…§æœåŠ¡, ä¸‰ä¸ªæœåŠ¡ä¸­ timeline ä»£è¡¨ä¸Šé¢é…ç½®çš„å‘¨æœŸå¿«ç…§, cleanup ä»£è¡¨å‘¨æœŸæŒ‰ç…§é™åˆ¶æ¸…ç†å¿«ç…§, boot ä»£è¡¨å¼€æœºè‡ªåŠ¨å¿«ç…§, æ ¹æ®éœ€æ±‚é€‰æ‹©. æ³¨æ„å¦‚æœä¸ä½¿ç”¨å›¾å½¢ç•Œé¢é…ç½®, è®°å¾—å°† Snapper çš„å¤‡ä»½ç›®å½•é…ç½®ä¸º Btrfs å­å·, è€Œä¸æ˜¯é»˜è®¤çš„æ™®é€šç›®å½•, ä»¥å…å‡ºç°é€’å½’å¿«ç…§, Btrfs Assistant ä¼šè‡ªåŠ¨è¿›è¡Œè¿™æ ·çš„æ“ä½œ, è€Œå‘½ä»¤è¡Œä¸­ä¸ä¼šå¦‚æ­¤. å®‰è£…snap-pacæ¥åœ¨ pacman æ›´æ–°å‰è‡ªåŠ¨å¿«ç…§. text yay -S snap-pac ","date":"2026-01-18","objectID":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/:1:2","series":null,"tags":null,"title":"Linux ä¸‹ Btrfs æ–‡ä»¶ç³»ç»Ÿå¿«ç…§","uri":"/posts/linux/linux%E4%B8%8Bbtrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7/#snapper"},{"categories":null,"content":" å®‰è£… ShellArch Linux ä¸»æµé€‰æ‹©æœ‰ Fish å’Œ Zsh, Fish å¼€ç®±å³ç”¨ä½†æ˜¯ä¸å…¼å®¹ Bash, é…ç½®ä¸ºç³»ç»Ÿé»˜è®¤ Shell ä¼šæœ‰å¾ˆå¤šé—®é¢˜, Zsh å…¼å®¹ Bash, å¯ä»¥ä½œä¸ºç³»ç»Ÿé»˜è®¤ Shell, ä½†æ˜¯é…ç½®æ¯”è¾ƒå¤æ‚å¹¶ä¸”å¯åŠ¨é€Ÿåº¦ä¸å¦‚ Fish. é¦–å…ˆå®‰è£… Zsh æœ¬ä½“: sh yay -S zsh oh-my-zsh é¡¹ç›®æ˜¯ Zsh é…ç½®çš„ä¸»æµé€‰æ‹©, ä½†æ˜¯å®‰è£…ä¹‹åæ— æ’ä»¶å¯åŠ¨ Shell å¯åŠ¨é€Ÿåº¦ä¹Ÿä¼šå¾ˆæ…¢, å¤§æ¦‚ä¼šåˆ° 200ms å·¦å³, å¯ç”¨ä¸€äº›æ’ä»¶ä¹‹åä¼šæ›´æ…¢, æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©è‡ªè¡Œå®‰è£…æ’ä»¶ç®¡ç†å™¨ Antidote æ¥é…ç½®æ’ä»¶: sh yay -S zsh-antidote Antidote å¯ä»¥å¯¹æ’ä»¶è¿›è¡Œå£°æ˜å¼é…ç½®, é¦–å…ˆä¸º .zshrc åŠ å…¥ Antidote çš„å¯åŠ¨é…ç½®: sh zsh_plugins=${ZDOTDIR:-~}/.zsh_plugins [[ -f ${zsh_plugins}.txt ]] || touch ${zsh_plugins}.txt fpath=(/usr/share/zsh-antidote/functions $fpath) autoload -Uz antidote if [[ ! ${zsh_plugins}.zsh -nt ${zsh_plugins}.txt ]]; then antidote bundle \u003c${zsh_plugins}.txt \u003e|${zsh_plugins}.zsh fi source ${zsh_plugins}.zsh è¿™æ˜¯å®˜ç½‘æ¨èçš„é«˜æ€§èƒ½å¯åŠ¨æ–¹å¼. ä¹‹åé…ç½®æ’ä»¶åˆ—è¡¨, åœ¨ ~/.zsh_plugins.txt ä¸‹æ·»åŠ å†…å®¹: text # Zsh è¡¥å…¨ç³»ç»Ÿ mattmc3/ez-compinit # åŠ è½½ Zsh è¡¥å…¨ç³»ç»Ÿ zsh-users/zsh-completions kind:fpath path:src # å¢å¼ºå‘½ä»¤è¡¥å…¨ # zephyr å¥—ä»¶è¡¥å…¨ zsh çš„é»˜è®¤é…ç½® mattmc3/zephyr path:plugins/color # è‰²å½©ç›¸å…³ mattmc3/zephyr path:plugins/directory # ç›®å½•æ“ä½œ mattmc3/zephyr path:plugins/editor # ç¼–è¾‘æ“ä½œ mattmc3/zephyr path:plugins/environment # ç¯å¢ƒå˜é‡ç›¸å…³ mattmc3/zephyr path:plugins/history # å‘½ä»¤å†å² mattmc3/zephyr path:plugins/utility # å·¥å…· # é›†æˆ fzf å’Œ zoxide ajeetdsouza/zoxide Aloxaf/fzf-tab # P10k ä¸»é¢˜ romkatv/powerlevel10k # è¯­æ³•é«˜äº®å’Œè‡ªåŠ¨æç¤º zsh-users/zsh-autosuggestions # è‡ªåŠ¨æç¤º zsh-users/zsh-history-substring-search # å†å²æœç´¢ zdharma-continuum/fast-syntax-highlighting kind:defer # è¯­æ³•é«˜äº® (å»¶è¿ŸåŠ è½½) å…¶ä¸­ fzf-tab å’Œ zoxide æ’ä»¶ä¾èµ–å¤–éƒ¨ç¨‹åº, éœ€è¦ä¸‹è½½: sh yay -S eza fzf zoxide å¦‚æœä¸æƒ³ä¾èµ–å¤–éƒ¨äºŒè¿›åˆ¶ç¨‹åº, å¯ä»¥æ”¹ç”¨çº¯ zsh ç‰ˆæœ¬çš„ zsh-z æ’ä»¶æ›¿ä»£ zoxide. ç„¶åæ‰“å¼€é…ç½®æ–‡ä»¶ .zshrc ç›®å½•, æ·»åŠ æ’ä»¶é…ç½®é¡¹: sh # P10k å³æ—¶æç¤º if [[ -r \"${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh\" ]]; then source \"${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh\" fi # ez-compinité…ç½®: å¼€å¯è¡¥å…¨ç³»ç»Ÿç¼“å­˜ # è·¯å¾„ä¼˜å…ˆçº§ $ZSH_COMPDUMP \u003e $XDG_CACHE_HOME/zsh/zcompdump \u003e ~/.cache/zsh/zcompdump zstyle ':plugin:ez-compinit' 'use-cache' 'yes' # ez-compinité…ç½®: ä½¿ç”¨oh-my-zsh é£æ ¼çš„è¡¥å…¨ # å®˜æ–¹æä¾› styles: gremlin, ohmy, prez, zshzoo # åªæœ‰ ohmy é¢„è®¾ä¸ fzf-tab å…¼å®¹, å…¶å®ƒæ¨¡å¼ group æ ‡é¢˜ä¼šæœ‰æ— æ³•æ¸²æŸ“çš„å ä½ç¬¦ zstyle ':plugin:ez-compinit' 'compstyle' 'ohmy' # zephyré…ç½®: å¯ç”¨å’Œå…³é—­ä¸€äº› editor é¢„è®¾åŠŸèƒ½ zstyle ':zephyr:plugin:editor' 'prepend-sudo' yes # å¿«æ·é”®åŠ  sudo åŠŸèƒ½ zstyle ':zephyr:plugin:editor' 'pound-toggle' no # ç©ºæ ¼åæ˜¾ç¤ºåˆ«ååŸå§‹å½¢æ€ zstyle ':zephyr:plugin:editor' 'magic-enter' no # å›è½¦è‡ªåŠ¨æ‰§è¡Œ ls æˆ– git å‘½ä»¤ # é…åˆ fzf-tab ç›¸å…³è¡¥å…¨é€‰é¡¹ zstyle ':completion:*:git-checkout:*' sort false # git-checkout å…³é—­æŒ‰å­—æ¯æ’åº zstyle ':completion:*:descriptions' format '[%d]' # çª—å£å¢åŠ  group æ ‡é¢˜ # fzf-tab å†…éƒ¨é…ç½® zstyle ':fzf-tab:*' fzf-flags --bind=tab:accept # ä½¿ç”¨ Tab é”®ç¡®è®¤ fzf-tab ä¸­çš„é€‰é¡¹ zstyle ':fzf-tab:complete:cd:*' fzf-preview 'eza -1 --color=always $realpath' # åœ¨ cd ç•Œé¢ä½¿ç”¨ eza æ˜¾ç¤ºç›®å½•å†…å®¹ # --- Antidote å¯åŠ¨éƒ¨åˆ† --- # å®˜æ–¹æ¨èçš„é«˜æ€§èƒ½å¯åŠ¨æ–¹å¼ zsh_plugins=${ZDOTDIR:-~}/.zsh_plugins [[ -f ${zsh_plugins}.txt ]] || touch ${zsh_plugins}.txt fpath=(/usr/share/zsh-antidote/functions $fpath) autoload -Uz antidote if [[ ! ${zsh_plugins}.zsh -nt ${zsh_plugins}.txt ]]; then antidote bundle \u003c${zsh_plugins}.txt \u003e|${zsh_plugins}.zsh fi source ${zsh_plugins}.zsh # --- Antidote å¯åŠ¨ç»“æŸ --- # å¯åŠ¨ P10k ä¸»é¢˜ [[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh # å¯åŠ¨fzf-tab enable-fzf-tab # ä¿®å¤ zephyr-directory é¢„è®¾ä¸è¡¥å…¨ç³»ç»Ÿçš„é—®é¢˜ # é˜²æ­¢æ“ä½œç›®å½•å‘½ä»¤çš„ Tab é€‰é¡¹ä¸­å‡ºç°éšè—æ–‡ä»¶ unsetopt glob_dots # å»æ‰ zephyr-editor ä¿®æ”¹å…‰æ ‡æ ·å¼åŠŸèƒ½å¹¶æ¢å¤ç»ˆç«¯é»˜è®¤å½¢æ€ function update-cursor-style { : } printf '\\e[0 q' # --- å¿«æ·é”®ç»‘å®š --- # ç»‘å®š Alt + S ä¸ºå‘½ä»¤å‰å¢åŠ  sudo bindkey '\\es' prepend-sudo # é…ç½® zsh-history-substring-search å¿«æ·é”® bindkey '^[[A' history-substring-search-up 2\u003e/dev/null # '^[[A' åºåˆ—çš„ä¸Šæ–¹å‘é”® bindkey '^[OA' history-substring-search-up 2\u003e/dev/null # '^[[A' åºåˆ—çš„ä¸Šæ–¹å‘é”® bindkey '^[[B' history-substring-search-down 2\u003e/dev/null # '^[[B' åºåˆ—çš„ä¸‹æ–¹å‘é”® bindkey '^[OB' history-substring-search-down 2\u003e/dev/null # '^[OB' åºåˆ—çš„ä¸‹æ–¹å‘é”® å…¶ä¸­é¡¶éƒ¨å’Œåº•éƒ¨ P10k ä¸»é¢˜çš„é…ç½®ç¨åå¯åŠ¨æ—¶ P10k ä¼šè‡ªåŠ¨æ·»åŠ . ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç”¨å‘½ä»¤è§¦å‘ p10k configure eza å¯ä»¥ä»£æ›¿ ls , fzf æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„æœç´¢è½¯ä»¶, zoxide å¯ä»¥æ ¹æ®æ¨¡ç³Šåç§°æ™ºèƒ½è·³è½¬ç›®å½•. ä¹‹åè¿›å…¥ Zsh ç»ˆç«¯ sh zsh å¯åŠ¨æ—¶ Antidote ä¼šä» GitHub ä¸‹è½½æ’ä»¶, ç­‰æ’ä»¶åŠ è½½å¥½, ç¬¬ä¸€æ¬¡è¿›å…¥ä¼šæœ‰ P10k çš„ä¸»é¢˜é€‰é¡¹, é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜é…ç½®å³å¯è¿›å…¥. è¿›å…¥ Shell ä¹‹å, å¯ä»¥è¿›ä¸€æ­¥åŠ å¿«é€Ÿåº¦, ç”±äº fzf-tab æ’ä»¶éœ€è¦æ¸²æŸ“é¢œè‰², å¦‚æœæ¸²æŸ“é‡å¾ˆå¤§, ä½¿ç”¨å†…éƒ¨ Zsh è„šæœ¬æ¸²æŸ“ä¼šå¾ˆæ…¢, æ‰€ä»¥å¯ä»¥ç¼–è¯‘ C ç‰ˆæœ¬çš„æ¸²æŸ“æ¨¡å—åŠ é€Ÿ fzf-tab ç•Œé¢, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: sh build-fzf-tab-module ä¹‹åé‡å¯ Zsh å³å¯çœ‹åˆ°æ¸²æŸ“å¤§é‡é¢œè‰²æ—¶ fzf-tab é€Ÿåº¦ä¼šæœ‰æ˜æ˜¾æå‡. æ‰€æœ‰æ’ä»¶é…ç½®å®Œæˆå¯ä»¥æµ‹è¯•å¯¹æ¯”ä¸€","date":"2026-01-18","objectID":"/posts/linux/zsh%E9%85%8D%E7%BD%AE/:1:0","series":null,"tags":null,"title":"Zsh å®‰è£…é…ç½®","uri":"/posts/linux/zsh%E9%85%8D%E7%BD%AE/#å®‰è£…-shell"},{"categories":null,"content":"ä½¿ç”¨ Arch Linux ç³»ç»Ÿ, é¦–å…ˆå®‰è£… Fcitx5 å’Œ Rime. bash sudo pacman -S fcitx5-im fcitx5-rime /etc/environmentä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ text XMODIFIERS=@im=fcitx æ¥ä¸‹æ¥å®‰è£…é›¾å‡‡æ‹¼éŸ³é¡¹ç›®, æ”¯æŒå…¨æ‹¼å’Œå¤šç§åŒæ‹¼æ–¹æ¡ˆ, é‡‡ç”¨ ArchLinuxCN ç‰ˆæœ¬åŠ å¿«å›½å†…ä¸‹è½½é€Ÿåº¦. text yay -S archlinuxcn/rime-ice-git ä¸‹è½½åä¼šå°†é…ç½®æ–‡ä»¶æ·»åŠ åˆ° /usr/share/rime-data ä¸‹, è¿™é‡Œæ˜¯ fcitx5-rime çš„é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„ä¹‹ä¸€, ä¹‹ååœ¨ç”¨æˆ·è·¯å¾„ä¸‹ç¼–å†™é…ç½®å¼•ç”¨å’Œä¿®æ”¹å…¶ä¸­çš„ä¸€äº›é…ç½®, åœ¨ ~/.local/share/fcitx5/rime/ ä¸‹åˆ›å»ºæ–‡ä»¶ default.custom.yaml , å†™å…¥ä»¥ä¸‹å†…å®¹: text patch: # å¯¼å…¥é›¾å‡‡æ‹¼éŸ³é»˜è®¤æ–¹æ¡ˆ # rime_ice_suggestion ä¸ºé›¾å‡‡æ–¹æ¡ˆçš„é»˜è®¤é¢„è®¾ __include: rime_ice_suggestion:/ schema_list: - schema: double_pinyin_flypy # å°é¹¤åŒæ‹¼ menu/page_size: 8 # å€™é€‰è¯ä¸ªæ•° # è¦†ç›–æ–¹æ¡ˆé€‰å•å¿«æ·é”®, é˜²æ­¢ä¸ VS Code å¿«æ·é”®å†²çª switcher/hotkeys: - F4 # ä¿®æ”¹ä¸­è‹±åˆ‡æ¢ç›¸å…³å¿«æ·é”®é€»è¾‘ # åˆ‡æ¢ä¸­è‹±ï¼š # ä¸åŒçš„é€‰é¡¹è¡¨ç¤ºï¼šæ‰“å­—æ‰“åˆ°ä¸€åŠæ—¶æŒ‰ä¸‹äº† CapsLockã€Shiftã€Control åï¼š # commit_code ä¸Šå±åŸå§‹çš„ç¼–ç ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # commit_text ä¸Šå±æ‹¼å‡ºçš„è¯å¥ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # clear æ¸…é™¤æœªä¸Šå±å†…å®¹ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # inline_ascii åˆ‡æ¢åˆ°ä¸´æ—¶è‹±æ–‡æ¨¡å¼ï¼ŒæŒ‰å›è½¦ä¸Šå±åå›åˆ°ä¸­æ–‡çŠ¶æ€ # noop å±è”½å¿«æ·é”®ï¼Œä¸åˆ‡æ¢ä¸­è‹±ï¼Œä½†ä¸è¦å±è”½ CapsLock ascii_composer/switch_key: Caps_Lock: commit_text # commit_code | commit_text | clear Shift_L: noop # commit_code | commit_text | inline_ascii | clear | noop Shift_R: noop # commit_code | commit_text | inline_ascii | clear | noop Control_L: noop # commit_code | commit_text | inline_ascii | clear | noop Control_R: noop # commit_code | commit_text | inline_ascii | clear | noop default.custom.yaml å«ä¹‰ä¸ºä¿®æ”¹é»˜è®¤é…ç½®, __include: rime_ice_suggestion:/ å¯¼å…¥äº†é…ç½®, åœ¨ä¸‹é¢å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ä¸€äº›é”®å€¼. åŒæ ·ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶å®ƒæ–‡ä»¶, æ¯”å¦‚è¦é’ˆå¯¹å°é¹¤åŒæ‹¼ double_pinyin_flypy.schema.yaml æ–¹æ¡ˆå•ç‹¬ä¿®æ”¹, å¯ä»¥åˆ›å»ºæ–‡ä»¶ double_pinyin_flypy.custom.yaml æ¥ä¿®æ”¹, å¦‚ä¸‹ä¸ºä¿®æ”¹è¾“å…¥æ³•é»˜è®¤è‹±æ–‡æ ‡ç‚¹. text patch: # ä¿®æ”¹é»˜è®¤è‹±æ–‡æ ‡ç‚¹ # reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚ # states: æ–¹æ¡ˆé€‰å•æ˜¾ç¤ºçš„åç§°ã€‚å¯ä»¥æ³¨é‡Šæ‰ï¼Œä»å¯ä»¥é€šè¿‡å¿«æ·é”®åˆ‡æ¢ã€‚ # abbrev: é»˜è®¤çš„ç¼©å†™å– states çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œabbrev å¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦ switches: - name: ascii_mode states: [ ä¸­, ï¼¡ ] - name: ascii_punct # ä¸­è‹±æ ‡ç‚¹ states: [ Â¥, $ ] reset: 1 - name: traditionalization states: [ ç®€, ç¹ ] - name: emoji states: [ ğŸ’€, ğŸ˜„ ] reset: 1 - name: full_shape states: [ åŠè§’, å…¨è§’ ] - name: search_single_char # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ states: [æ­£å¸¸, å•å­—] abbrev: [è¯, å•] å…·ä½“é…ç½®è¦†ç›–è¯­æ³•ä¸º: text patch: \"ä¸€çº§è®¾å®šé¡¹/äºŒçº§è®¾å®šé¡¹/ä¸‰çº§è®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å¦ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å†ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@n\": åˆ—è¡¨ç¬¬nä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ï¼Œä»0å¼€å§‹è®¡æ•° \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@last\": åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@before 0\": åœ¨åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@after last\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@next\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/+\": ä¸åˆ—è¡¨åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºåˆ—è¡¨ï¼‰ \"å«å­—å…¸çš„è®¾å®šé¡¹/+\": ä¸å­—å…¸åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºå­—å…¸ï¼Œæ³¨æ„YAMLå­—å…¸çš„æ— åºæ€§ï¼‰ ç„¶åç‚¹å‡»æ‰˜ç›˜å›¾æ ‡é‡æ–°éƒ¨ç½², ä¹‹åæ¨èåœ¨ fcitx5 é…ç½®ç•Œé¢ä¸­åˆ é™¤æ‰€æœ‰å…¨å±€å¿«æ·é”®é¿å…ä¸ niri å†²çª, ç„¶åé…ç½®è‡ªå·±éœ€è¦çš„å¿«æ·é”®. ç”¨æˆ·ç›®å½• ~/.local/share/fcitx5/rime/ ä¸‹æœ‰ installation.yaml , è¿™æ˜¯åŒæ­¥ç›¸å…³é…ç½®çš„æ–‡ä»¶, éœ€è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªé”®å€¼. text # æœ¬æœºçš„ ID æ ‡å¿—, é»˜è®¤æ˜¯ä¸€ä¸² UUID # åŒæ­¥ç›®å½•æœ¬æœºç”Ÿæˆçš„æ–‡ä»¶å¤¹æ˜¯è¿™ä¸ªåå­—, å¯ä»¥æ”¹æˆæ›´å¥½è¯†åˆ«çš„åç§° installation_id: \"Arch-001\" # åŒæ­¥çš„è·¯å¾„, å¦‚æœä¸é…ç½®, é»˜è®¤æ˜¯å½“å‰é…ç½®ç›®å½•ä¸‹çš„ `sync/` sync_dir: \"/file/path/sync\" ç‚¹å‡»æ‰˜ç›˜çš„åŒæ­¥æŒ‰é’®å, rime ä¼šå…ˆåœ¨åŒæ­¥ç›®å½•ä¸­æœç´¢å¹¶åˆå¹¶å…¶å®ƒç”¨æˆ·è¯å…¸, åˆå¹¶åˆ°æœ¬åœ°, ç„¶åé‡æ–°ç”Ÿæˆæœ¬æœºæœ€æ–°ç‰ˆçš„ç”¨æˆ·è¯å…¸åˆ°åŒæ­¥ç›®å½•. Linux ä¸‹ Rime çš„å¤–è§‚è¢« Fcitx5 æ¥ç®¡, ä¸åƒ Win æˆ–è€… MacOS å¹³å°ä¸€æ ·å¯ä»¥åœ¨ Rime é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¤–è§‚, éœ€è¦åœ¨ Fcitx5 ä¸­é…ç½®. è¿è¡Œ \" Fcitx5 é…ç½®\" å¯ä»¥åœ¨ â€œé™„åŠ ç»„ä»¶ -\u003e ç»å…¸ç”¨æˆ·ç•Œé¢â€ ä¸­è°ƒæ•´å­—ä½“ä»¥åŠå…¶å®ƒå¤–è§‚, 4K åˆ†è¾¨ç‡ 1.5 å€ç¼©æ”¾ä¸‹ 12-14 æ¯”è¾ƒå¥½, çš®è‚¤å¯ä»¥è‡ªè¡Œé€‰æ‹©, è¿™é‡Œé€‰æ‹©ä»¥ä¸‹çš®è‚¤, yay ä¸‹è½½åå°±å¯ä»¥åœ¨ç•Œé¢ä¸­é€‰æ‹©. text yay -S fcitx5-skin-ori-git ","date":"2026-01-18","objectID":"/posts/linux/fcitx5+rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Fcitx5+Rime è¾“å…¥æ³•å®‰è£…","uri":"/posts/linux/fcitx5+rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/#"},{"categories":null,"content":"å¦‚æœä½¿ç”¨äº† Timeshift æˆ–è€… Snapper çš„å¿«ç…§åŠŸèƒ½, å®‰è£… grub-btrfs å®ç°åœ¨ Grub ç•Œé¢ç›´æ¥ä»å¿«ç…§å¯åŠ¨, è¿™æ ·åœ¨ç³»ç»ŸæŒ‚æ‰åå¯ä»¥ä»å¿«ç…§å¯åŠ¨è¿›å…¥ç³»ç»Ÿè€Œä¸éœ€è¦ LiveCD . sh yay -S grub-btrfs åœ¨/etc/grub.d/å¯ä»¥æŸ¥çœ‹å¼•å¯¼ç”Ÿæˆè„šæœ¬, å†³å®š Grub å¼•å¯¼é¡ºåº, ä¿®æ”¹å®ƒä»¬å°±å¯ä»¥ä¿®æ”¹ Grub ç•Œé¢çš„å¯åŠ¨é¡ºåº, å†…å®¹å¦‚ä¸‹: text \u003e ls /etc/grub.d/ -l æ€»è®¡ 124 -rwxr-xr-x 1 root root 9816 12æœˆ 1æ—¥ 22:52 00_header* -rwxr-xr-x 1 root root 12831 12æœˆ 1æ—¥ 22:52 08_os-prober* -rwxr-xr-x 1 root root 286 1æœˆ10æ—¥ 23:05 09_eos_windows* -rwxr-xr-x 1 root root 12631 12æœˆ 1æ—¥ 22:52 10_linux* -rwxr-xr-x 1 root root 14393 12æœˆ 1æ—¥ 22:52 20_linux_xen* -rwxr-xr-x 1 root root 786 12æœˆ 1æ—¥ 22:52 25_bli* -rwxr-xr-x 1 root root 1174 12æœˆ 1æ—¥ 22:52 30_uefi-firmware* -rwxr-xr-x 1 root root 744 12æœˆ19æ—¥ 18:31 35_fwupd* -rwxr-xr-x 1 root root 214 12æœˆ 1æ—¥ 22:52 40_custom* -rwxr-xr-x 1 root root 215 12æœˆ 1æ—¥ 22:52 41_custom* -rwxr-xr-x 1 root root 29811 9æœˆ17æ—¥ 23:59 41_snapshots-btrfs* -rwxr-xr-x 1 root root 1394 2024å¹´12æœˆ26æ—¥ 60_memtest86+-efi* -rw-r--r-- 1 root root 483 12æœˆ 1æ—¥ 22:52 README å…¶ä¸­ 10_linux å¼•å¯¼ Linux ç³»ç»Ÿ, 08_os-prober æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æœç´¢å·¥å…·, å®ƒä¼šæ‰«ææ‰€æœ‰ç¡¬ç›˜åˆ†åŒºï¼Œå¯»æ‰¾ Windows æˆ–å…¶ä»–å·²å®‰è£…çš„ Linux å‘è¡Œç‰ˆï¼Œå¹¶å°†å®ƒä»¬åŠ å…¥å¯åŠ¨èœå•, 41_snapshots-btrfsæ˜¯åˆšæ‰å®‰è£…çš„ snapshots-btrfs , 09_eos_windowsæ˜¯ EndeavourOS ç³»ç»Ÿçš„ Windows æœç´¢è„šæœ¬, é˜²æ­¢ os-prober å¤±æ•ˆ, ä¿®æ”¹å…¶ä¸­æ•°å­—é¡ºåºå³å¯å†³å®š Grub å¯åŠ¨èœå•é¡ºåº, å¯ä»¥è‡ªè¡Œè°ƒæ•´. æ‰€æœ‰é…ç½®å®Œæˆé‡å»º Grub é…ç½®: sh sudo grub-mkconfig -o /boot/grub/grub.cfg ","date":"2026-01-18","objectID":"/posts/linux/%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%9B%B4%E6%94%B9grub%E5%90%AF%E5%8A%A8%E9%A1%BA%E5%BA%8F/:0:0","series":null,"tags":null,"title":"åŒç³»ç»Ÿæ›´æ”¹ Grub å¯åŠ¨é¡ºåº","uri":"/posts/linux/%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%9B%B4%E6%94%B9grub%E5%90%AF%E5%8A%A8%E9%A1%BA%E5%BA%8F/#"},{"categories":null,"content":"é¦–å…ˆåœ¨ Arch Linux ä¸­å®‰è£…: bash yay -S helix ArchLinux ä¸­ helix çš„é»˜è®¤åˆ«åå¹¶ä¸æ˜¯ hx, å¯ä»¥æ‰‹åŠ¨è½¯é“¾æ¥ bash sudo ln -s /usr/bin/helix /usr/local/bin/hx é…ç½®æ–‡ä»¶é»˜è®¤è·¯å¾„åœ¨ ~/.config/helix/config.toml , å†™å…¥ä»¥ä¸‹å†…å®¹: toml # é€‰æ‹©ä¸»é¢˜ theme = \"tokyonight\" [editor.cursor-shape] insert = \"bar\" # æ’å…¥æ¨¡å¼å…‰æ ‡ä¸ºç«–çº¿ normal = \"block\" # æ™®é€šæ¨¡å¼å…‰æ ‡ä¸ºæ–¹å— select = \"underline\" # é€‰æ‹©æ¨¡å¼å…‰æ ‡ä¸ºä¸‹åˆ’çº¿ # åº•éƒ¨çŠ¶æ€æ æ ·å¼å®˜æ–¹æ–‡æ¡£é…ç½® [editor.statusline] left = [\"mode\", \"spinner\"] center = [\"file-name\"] right = [\"diagnostics\", \"selections\", \"position\", \"file-encoding\", \"file-line-ending\", \"file-type\"] separator = \"â”‚\" mode.normal = \"NORMAL\" mode.insert = \"INSERT\" mode.select = \"SELECT\" [editor.file-picker] hidden = false # æ–‡ä»¶æœç´¢æ—¶æ˜¾ç¤ºéšè—æ–‡ä»¶ ","date":"2026-01-18","objectID":"/posts/hleix%E9%85%8D%E7%BD%AE/:0:0","series":null,"tags":null,"title":"Helix é…ç½®","uri":"/posts/hleix%E9%85%8D%E7%BD%AE/#"},{"categories":null,"content":"å…ˆå°è¯•å¸è½½ä¹‹å‰å®‰è£…çš„æ®‹ç•™: text sudo /opt/VBoxGuestAdditions-*/uninstall.sh ç„¶åå®‰è£…: text # 1. å®‰è£…å·¥å…·åŒ… sudo pacman -Syu virtualbox-guest-utils # 2. å¯åŠ¨æœåŠ¡ï¼ˆå®ç°åˆ†è¾¨ç‡è‡ªåŠ¨é€‚é…å’Œå‰ªè´´æ¿åŒæ­¥ï¼‰ sudo systemctl enable --now vboxservice.service # 3. å°†è‡ªå·±åŠ å…¥å…±äº«æ–‡ä»¶å¤¹ç”¨æˆ·ç»„ sudo usermod -aG vboxsf $USER ","date":"2026-01-17","objectID":"/posts/linux/virtualbox%E5%AE%89%E8%A3%85archlinux%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%BC%BA/:0:0","series":null,"tags":null,"title":"VirtualBoxå®‰è£…ArchLinuxè™šæ‹Ÿæœºå¢å¼º","uri":"/posts/linux/virtualbox%E5%AE%89%E8%A3%85archlinux%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%BC%BA/#"},{"categories":null,"content":" é…ç½®æ–‡ä»¶ä½¿ç”¨é›¾å‡‡æ‹¼éŸ³æ–¹æ¡ˆ(Rime-ICE), Rime-ICE æ˜¯ç¤¾åŒºç»´æŠ¤çš„ Rime é…ç½®, é¡¹ç›®åœ°å€ä¸º https://github.com/iDvel/rime-ice , é›†æˆäº†å¾ˆå¤šå¸¸ç”¨åŠŸèƒ½, æ”¯æŒåŒæ‹¼å’Œå…¨æ‹¼, ç”±äºä¼šç»å¸¸æ›´æ–°, æ‰€ä»¥ç”¨æˆ·è‡ªå·±å¯¹é…ç½®æ–‡ä»¶ç›´æ¥ä¿®æ”¹ä¼šåœ¨æ›´æ–°æ—¶è¢«è¦†ç›–æ‰, æ‰€ä»¥æ¨èç”¨ Rime ä¸­å¯¹é…ç½®æ–‡ä»¶ Patch çš„æœºåˆ¶æ¥åµŒå…¥è‡ªå·±çš„é…ç½®å†…å®¹, Rime å®˜æ–¹æ–‡æ¡£çš„é…ç½®è§„åˆ™ä¸ºä»¥ä¸‹å†…å®¹: text patch: \"ä¸€çº§è®¾å®šé¡¹/äºŒçº§è®¾å®šé¡¹/ä¸‰çº§è®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å¦ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å†ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@n\": åˆ—è¡¨ç¬¬nä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ï¼Œä»0å¼€å§‹è®¡æ•° \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@last\": åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@before 0\": åœ¨åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@after last\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@next\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/+\": ä¸åˆ—è¡¨åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºåˆ—è¡¨ï¼‰ \"å«å­—å…¸çš„è®¾å®šé¡¹/+\": ä¸å­—å…¸åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºå­—å…¸ï¼Œæ³¨æ„YAMLå­—å…¸çš„æ— åºæ€§ï¼‰ åœ¨ Arch Linux ä¸‹å¯ä»¥ä½¿ç”¨ç³»ç»ŸåŒ…ç®¡ç†å™¨å®‰è£…é›¾å‡‡æ–¹æ¡ˆ, ç„¶ååœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶å¼•å…¥é›¾å‡‡æ–¹æ¡ˆ, å¦‚æœæ˜¯ Windows å¯ä»¥ç›´æ¥æŠŠé¡¹ç›®æ–‡ä»¶ç²˜è´´åˆ°ç”¨æˆ·ç›®å½•, ç„¶åæ·»åŠ è‡ªå·±çš„è¡¥ä¸æ¥è¦†ç›–é»˜è®¤é…ç½®. åˆ›å»º default.custom.yaml æ¥è¦†ç›– default.yaml ä¸­çš„é»˜è®¤å…¨å±€é…ç½®. text patch: # å¯¼å…¥é›¾å‡‡æ‹¼éŸ³é»˜è®¤æ–¹æ¡ˆ, ç›´æ¥è¦†ç›–æ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½•åˆ™ä¸éœ€è¦æ­¤è¡Œ # rime_ice_suggestion ä¸º Arch Linux ä¸­é›¾å‡‡æ–¹æ¡ˆçš„é»˜è®¤é¢„è®¾åç§° __include: rime_ice_suggestion:/ schema_list: - schema: double_pinyin_flypy # å°é¹¤åŒæ‹¼ menu/page_size: 8 # å€™é€‰è¯ä¸ªæ•° # è¦†ç›–æ–¹æ¡ˆé€‰å•å¿«æ·é”®, é˜²æ­¢ä¸ VS Code å¿«æ·é”®å†²çª switcher/hotkeys: - F4 # ä¿®æ”¹ä¸­è‹±åˆ‡æ¢ç›¸å…³å¿«æ·é”®é€»è¾‘ # åˆ‡æ¢ä¸­è‹±ï¼š # ä¸åŒçš„é€‰é¡¹è¡¨ç¤ºï¼šæ‰“å­—æ‰“åˆ°ä¸€åŠæ—¶æŒ‰ä¸‹äº† CapsLockã€Shiftã€Control åï¼š # commit_code ä¸Šå±åŸå§‹çš„ç¼–ç ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # commit_text ä¸Šå±æ‹¼å‡ºçš„è¯å¥ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # clear æ¸…é™¤æœªä¸Šå±å†…å®¹ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # inline_ascii åˆ‡æ¢åˆ°ä¸´æ—¶è‹±æ–‡æ¨¡å¼ï¼ŒæŒ‰å›è½¦ä¸Šå±åå›åˆ°ä¸­æ–‡çŠ¶æ€ # noop å±è”½å¿«æ·é”®ï¼Œä¸åˆ‡æ¢ä¸­è‹±ï¼Œä½†ä¸è¦å±è”½ CapsLock ascii_composer/switch_key: Caps_Lock: commit_text # commit_code | commit_text | clear Shift_L: noop # commit_code | commit_text | inline_ascii | clear | noop Shift_R: noop # commit_code | commit_text | inline_ascii | clear | noop Control_L: noop # commit_code | commit_text | inline_ascii | clear | noop Control_R: noop # commit_code | commit_text | inline_ascii | clear | noop æ³¨æ„ __include: rime_ice_suggestion:/ æ˜¯ Arch Linux ä¸­å¯¼å…¥åŒ…ç®¡ç†å™¨å®‰è£…çš„é›¾å‡‡æ–¹æ¡ˆ, Windows ä¸­åˆ™ä¸éœ€è¦è¿™ä¸€è¡Œ. åŒæ ·ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶å®ƒæ–‡ä»¶, æ¯”å¦‚è¦é’ˆå¯¹å°é¹¤åŒæ‹¼ double_pinyin_flypy.schema.yaml æ–¹æ¡ˆå•ç‹¬ä¿®æ”¹, å¯ä»¥åˆ›å»ºæ–‡ä»¶ double_pinyin_flypy.custom.yaml æ¥ä¿®æ”¹, å¦‚ä¸‹ä¸ºä¿®æ”¹è¾“å…¥æ³•é»˜è®¤è‹±æ–‡æ ‡ç‚¹. text patch: # ä¿®æ”¹é»˜è®¤è‹±æ–‡æ ‡ç‚¹ # reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚ # states: æ–¹æ¡ˆé€‰å•æ˜¾ç¤ºçš„åç§°ã€‚å¯ä»¥æ³¨é‡Šæ‰ï¼Œä»å¯ä»¥é€šè¿‡å¿«æ·é”®åˆ‡æ¢ã€‚ # abbrev: é»˜è®¤çš„ç¼©å†™å– states çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œabbrev å¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦ switches: - name: ascii_mode states: [ ä¸­, ï¼¡ ] - name: ascii_punct # ä¸­è‹±æ ‡ç‚¹ states: [ Â¥, $ ] reset: 1 - name: traditionalization states: [ ç®€, ç¹ ] - name: emoji states: [ ğŸ’€, ğŸ˜„ ] reset: 1 - name: full_shape states: [ åŠè§’, å…¨è§’ ] - name: search_single_char # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ states: [æ­£å¸¸, å•å­—] abbrev: [è¯, å•] ç”¨æˆ·ç›®å½• ~/.local/share/fcitx5/rime/ ä¸‹æœ‰ installation.yaml , è¿™æ˜¯åŒæ­¥ç›¸å…³é…ç½®çš„æ–‡ä»¶, éœ€è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªé”®å€¼. text # æœ¬æœºçš„ ID æ ‡å¿—, é»˜è®¤æ˜¯ä¸€ä¸² UUID # åŒæ­¥ç›®å½•æœ¬æœºç”Ÿæˆçš„æ–‡ä»¶å¤¹æ˜¯è¿™ä¸ªåå­—, å¯ä»¥æ”¹æˆæ›´å¥½è¯†åˆ«çš„åç§° installation_id: \"Arch-001\" # åŒæ­¥çš„è·¯å¾„, å¦‚æœä¸é…ç½®, é»˜è®¤æ˜¯å½“å‰é…ç½®ç›®å½•ä¸‹çš„ `sync/` sync_dir: \"/file/path/sync\" å³é”®é€‰æ‹©æ‰˜ç›˜çš„åŒæ­¥å, rime ä¼šå…ˆåœ¨åŒæ­¥ç›®å½•ä¸­æœç´¢å¹¶åˆå¹¶å…¶å®ƒç”¨æˆ·è¯å…¸, åˆå¹¶åˆ°æœ¬åœ°, ç„¶åé‡æ–°ç”Ÿæˆæœ¬æœºæœ€æ–°ç‰ˆçš„ç”¨æˆ·è¯å…¸åˆ°åŒæ­¥ç›®å½•. ","date":"2026-01-13","objectID":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/:1:0","series":null,"tags":null,"title":"Rimeè¾“å…¥æ³•å®‰è£…","uri":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/#é…ç½®æ–‡ä»¶"},{"categories":null,"content":" Arch Linux å®‰è£…è¿™é‡Œä½¿ç”¨ Fcitx5-Rime è¾“å…¥æ³•. bash sudo pacman -S fcitx5-im fcitx5-rime ç³»ç»Ÿæ¨è Wayland ç¯å¢ƒ, åœ¨/etc/environmentä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡, X11 ç¯å¢ƒç¯å¢ƒå˜é‡æœ‰æ‰€ä¸åŒ, å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢. text XMODIFIERS=@im=fcitx æ¥ä¸‹æ¥å®‰è£…é›¾å‡‡æ‹¼éŸ³é¡¹ç›®, é‡‡ç”¨ ArchLinuxCN ç‰ˆæœ¬åŠ å¿«å›½å†…ä¸‹è½½é€Ÿåº¦ text yay -S archlinuxcn/rime-ice-git ä¸‹è½½åä¼šå°†é…ç½®æ–‡ä»¶æ·»åŠ åˆ° /usr/share/rime-data ä¸‹, è¿™é‡Œæ˜¯ fcitx5-rime çš„é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„ä¹‹ä¸€, ä¹‹ååœ¨ç”¨æˆ·è·¯å¾„ä¸‹ç¼–å†™é…ç½®å¼•ç”¨å’Œä¿®æ”¹å…¶ä¸­çš„ä¸€äº›é…ç½®, åœ¨ ~/.local/share/fcitx5/rime/ ä¸‹åˆ›å»ºæ–‡ä»¶ default.custom.yaml , å†™å…¥ä¸Šé¢æåˆ°çš„é…ç½®å†…å®¹. default.custom.yaml å«ä¹‰ä¸ºä¿®æ”¹é»˜è®¤é…ç½®, æ³¨æ„ä¸è¦å¿˜è®° __include: rime_ice_suggestion:/ , è¿™ä¸€æ­¥å¯¼å…¥äº†é…ç½®, åœ¨ä¸‹é¢å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ä¸€äº›é”®å€¼. åŒæ ·ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶å®ƒæ–‡ä»¶, æ¯”å¦‚è¦é’ˆå¯¹å°é¹¤åŒæ‹¼ double_pinyin_flypy.schema.yaml æ–¹æ¡ˆå•ç‹¬ä¿®æ”¹, å¯ä»¥åƒä¸Šé¢ä¸€æ ·åˆ›å»ºæ–‡ä»¶ double_pinyin_flypy.custom.yaml æ¥ä¿®æ”¹. ç„¶åç‚¹å‡»æ‰˜ç›˜å›¾æ ‡é‡æ–°éƒ¨ç½², ä¹‹ååœ¨ Fcitx5 é…ç½®ç•Œé¢å¯ä»¥é…ç½®è‡ªå·±éœ€è¦çš„å¿«æ·é”®. Linux ä¸‹ Rime çš„å¤–è§‚è¢« Fcitx5 æ¥ç®¡, ä¸åƒ Win æˆ–è€… MacOS å¹³å°ä¸€æ ·å¯ä»¥åœ¨ Rime é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¤–è§‚, éœ€è¦åœ¨ Fcitx5 ä¸­é…ç½®. è¿è¡Œ \" Fcitx5 é…ç½®\" å¯ä»¥åœ¨ â€œé™„åŠ ç»„ä»¶ -\u003e ç»å…¸ç”¨æˆ·ç•Œé¢â€ ä¸­è°ƒæ•´å­—ä½“ä»¥åŠå…¶å®ƒå¤–è§‚, 4K åˆ†è¾¨ç‡ 1.5 å€ç¼©æ”¾ä¸‹ 12-14 æ¯”è¾ƒå¥½, å…¶ä¸­ä¸­å‹¾é€‰\"ä¼˜å…ˆä½¿ç”¨æ–‡å­—å›¾æ ‡\"å³å¯é¿å…æ‰˜ç›˜å›¾æ ‡æ¸²æŸ“å¤±è´¥, å¯¼è‡´æ‰˜ç›˜å›¾æ ‡å˜é»‘ç´«è‰²çš„é—®é¢˜, çš®è‚¤å¯ä»¥è‡ªè¡Œé€‰æ‹©, è¿™é‡Œé€‰æ‹©ä»¥ä¸‹çš®è‚¤, yay ä¸‹è½½åå°±å¯ä»¥åœ¨ç•Œé¢ä¸­é€‰æ‹©. text yay -S fcitx5-skin-ori-git ","date":"2026-01-13","objectID":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/:2:0","series":null,"tags":null,"title":"Rimeè¾“å…¥æ³•å®‰è£…","uri":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/#arch-linux-å®‰è£…"},{"categories":null,"content":" Windowsé¦–å…ˆåœ¨ Rime å®˜ç½‘ https://rime.im/download/ ä¸‹è½½ Windows ç‰ˆçš„ Rime (å°ç‹¼æ¯«), å®‰è£…ä¹‹åè¿›å…¥é…ç½®ç›®å½•, ä¸€èˆ¬æ˜¯ C:\\Users\\Lixp\\Application Data\\Rime\\ , å³é”®æ‰˜ç›˜ç‚¹å‡»ç”¨æˆ·é…ç½®ç›®å½•å¯ä»¥ç›´æ¥æ‰“å¼€. ä¹‹åä¸‹è½½é›¾å‡‡æ–¹æ¡ˆé…ç½®æ–‡ä»¶, å¯ä»¥ç›´æ¥ä½¿ç”¨ Git Clone é¡¹ç›®, æˆ–è€…åœ¨ https://github.com/iDvel/rime-ice/releases ä¸‹è½½å‘è¡ŒåŒ…, ä¸‹è½½åå°†æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°ç”¨æˆ·ç›®å½•, å¯ä»¥åˆ é™¤ .github ç›®å½•, å®ƒæ˜¯é¡¹ç›®åœ¨ GitHub çš„ä¸€äº›é…ç½®. ä¹‹åæ”¾å…¥è‡ªå·±çš„ default.custom.yaml é…ç½®, å¦‚ä¸‹å±•ç¤º text patch: schema_list: - schema: double_pinyin_flypy # å°é¹¤åŒæ‹¼ menu/page_size: 8 # å€™é€‰è¯ä¸ªæ•° # è¦†ç›–æ–¹æ¡ˆé€‰å•å¿«æ·é”®, é˜²æ­¢ä¸ VS Code å¿«æ·é”®å†²çª switcher/hotkeys: - F4 # ä¿®æ”¹ä¸­è‹±åˆ‡æ¢ç›¸å…³å¿«æ·é”®é€»è¾‘ # åˆ‡æ¢ä¸­è‹±ï¼š # ä¸åŒçš„é€‰é¡¹è¡¨ç¤ºï¼šæ‰“å­—æ‰“åˆ°ä¸€åŠæ—¶æŒ‰ä¸‹äº† CapsLockã€Shiftã€Control åï¼š # commit_code ä¸Šå±åŸå§‹çš„ç¼–ç ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # commit_text ä¸Šå±æ‹¼å‡ºçš„è¯å¥ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # clear æ¸…é™¤æœªä¸Šå±å†…å®¹ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # inline_ascii åˆ‡æ¢åˆ°ä¸´æ—¶è‹±æ–‡æ¨¡å¼ï¼ŒæŒ‰å›è½¦ä¸Šå±åå›åˆ°ä¸­æ–‡çŠ¶æ€ # noop å±è”½å¿«æ·é”®ï¼Œä¸åˆ‡æ¢ä¸­è‹±ï¼Œä½†ä¸è¦å±è”½ CapsLock ascii_composer/switch_key: Caps_Lock: commit_text # commit_code | commit_text | clear Shift_L: noop # commit_code | commit_text | inline_ascii | clear | noop Shift_R: noop # commit_code | commit_text | inline_ascii | clear | noop Control_L: noop # commit_code | commit_text | inline_ascii | clear | noop Control_R: noop # commit_code | commit_text | inline_ascii | clear | noop æ³¨æ„æ²¡æœ‰ __include: rime_ice_suggestion:/ . ä¹‹åä¹Ÿå¯ä»¥å¯¹å…¶å®ƒé…ç½®è¿›è¡Œè‡ªå®šä¹‰çš„é…ç½®. æ³¨æ„ weasel.yaml æ˜¯ä¸“å±äº Windows ä¸‹ Rime çš„å¤–è§‚é…ç½®, ä¾ç„¶å¯ä»¥å¯¹å…¶è¿›è¡Œè‡ªå·±é…ç½®çš„è¦†ç›–, æ¯”å¦‚åˆ›å»º weasel.custom.yaml , å°†å…¶ä¸­å­—ä½“ä¿®æ”¹ä¸º 14. text patch: style/font_point: 14 ","date":"2026-01-13","objectID":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/:3:0","series":null,"tags":null,"title":"Rimeè¾“å…¥æ³•å®‰è£…","uri":"/posts/rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85/#windows"},{"categories":null,"content":"Windows å¯ä»¥åœ¨ https://git-scm.com/ ä¸‹è½½å®‰è£…, Linux ä¸€èˆ¬å‘è¡Œç‰ˆéƒ½è‡ªå¸¦ Git . ä½¿ç”¨ ssh-keygen å‘½ä»¤å¯ä»¥ç”Ÿæˆ ssh-key , åœ¨ Windows å’Œ Linux ä¸€èˆ¬éƒ½æ˜¯è‡ªå¸¦çš„, ç»ˆç«¯è¿è¡Œåå¯ä»¥äº¤äº’å¼ç”Ÿæˆ, æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚ç›´æ¥æŒ‰ä¸‰æ¬¡å›è½¦å³å¯. ç”Ÿæˆçš„å¯†é’¥å¯¹åœ¨ç”¨æˆ·ç›®å½•çš„ .ssh ç›®å½•ä¸‹, å…¶ä¸­åç§°ä¸º xxx.pub çš„æ˜¯å…¬é’¥, åç§°å–å†³äºåŠ å¯†æ–¹å¼, æ¯”å¦‚ id_ed25519.pub . å°†å…¬é’¥æ–‡ä»¶ä¸­çš„å†…å®¹å¯ä»¥æ·»åŠ åˆ° GitHub é…ç½®ä¸­æˆ–è€…è¿œç«¯æœåŠ¡å™¨, å®ç°æ— å¯†ç  SSH é€šä¿¡. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é…ç½® Git åç§°ä¸é‚®ç®±. bash git config --global user.name \"name\" git config --global user.email \"email@example.com\" é»˜è®¤ Git åœ¨ç»ˆç«¯æ— æ³•è¾“å‡ºä¸­æ–‡, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è®©ç»ˆç«¯ Git å‘½ä»¤å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡. bash git config --global core.quotepath false å¦‚æœç³»ç»Ÿé…ç½®äº†ä»£ç†, HTTP(S) çš„ä»“åº“æºä¼šèµ°ä»£ç†, ä½†æ˜¯ SSH æºä¸ä¼šèµ°ä»£ç†, å¦‚æœæ˜¯ç§æœ‰ä»“åº“ HTTP(S) æ–¹å¼ Pull/Push éœ€è¦è¾“å¯†ç , SSH æ–¹å¼åˆä¼šå¾ˆæ…¢, æ‰€ä»¥éœ€è¦è®©æœ¬æœºå’Œ GitHub çš„ SSH è¿æ¥ä¹Ÿç»è¿‡ä»£ç†. Linux ä¸‹, åœ¨ ~/.ssh/config ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹è®© GitHub çš„ SSH è¿æ¥çš„ push/pull/clone èµ°ä»£ç† text Host github.com # ä½¿githubçš„sshè¿æ¥èµ°ä»£ç† ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=7897 å¦‚æœæ²¡æœ‰ socat éœ€è¦è‡ªè¡Œå®‰è£…. Windows ä¸‹, å¯ä»¥åœ¨ C:\\Users\\ä½ çš„ç”¨æˆ·å\\.ssh\\config æ·»åŠ ä»¥ä¸‹å†…å®¹ text Host github.com # ä½¿githubçš„sshè¿æ¥èµ°ä»£ç† ProxyCommand \"C:\\Program Files\\Git\\mingw64\\bin\\connect.exe\" -S 127.0.0.1:7897 %h %p æ³¨æ„ C:\\Program Files\\Git æ›¿æ¢æˆä½ å®‰è£… Git çš„è·¯å¾„, Git å®‰è£…æ—¶ä¼šé»˜è®¤å‹¾é€‰å®‰è£… mingw64 , å¦‚æœä½ çš„ Git ç›®å½•ä¸‹é¢æ²¡æœ‰è¿™ä¸ªå¯ä»¥å°è¯•é‡æ–°å®‰è£…ä¸€ä¸‹ Git . é…ç½®æ–‡ä»¶ä¸­çš„ä»£ç† IP å’Œç«¯å£è¦æ³¨æ„æ›¿æ¢æˆè‡ªå·±çš„. é…ç½®å®Œæˆåä½¿ç”¨ ssh -T git@github.com å¯ä»¥æµ‹è¯•è¿é€šæ€§æ£€éªŒé…ç½®æ˜¯å¦æˆåŠŸ. ","date":"2026-01-13","objectID":"/posts/git%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/:0:0","series":null,"tags":null,"title":"Git åŸºæœ¬é…ç½®","uri":"/posts/git%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/#"},{"categories":null,"content":" å®‰è£…è¿™é‡Œé€‰æ‹© EndeavourOS , å®ƒæ˜¯ä¸€ä¸ª Arch Linux çš„å‘è¡Œç‰ˆ, å®‰è£…æ›´åŠ æ–¹ä¾¿, åˆå§‹å®‰è£…è‡ªå¸¦æ¡Œé¢, æ–¹ä¾¿è¿›è¡Œåç»­æ“ä½œ, åŒæ—¶æ¥è¿‘ä¸Šæ¸¸, ä¸åƒ Manjaro ä¸€æ ·å¯¹ Arch Linux æœ‰å¾ˆå¤šæ”¹åŠ¨. å®‰è£…æ—¶æ³¨æ„é€‰æ‹© Btrfs + Grub . æ¨èç¦»çº¿å®‰è£…ç›´æ¥å¯ä»¥å®‰è£… KDE ç‰ˆæœ¬. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:1:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…"},{"categories":null,"content":" ä¿®æ”¹ Home ç›®å½•ä¸­çš„ä¸­æ–‡åœ¨å®‰è£…ç³»ç»Ÿæ—¶å¦‚æœé€‰æ‹©ä¸­æ–‡, Home ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€äº›ä¸­æ–‡ç›®å½•, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹å…¶ä¸ºè‹±æ–‡æ–¹ä¾¿ç»ˆç«¯æ“ä½œ. bash LC_ALL=en_US.UTF-8 xdg-user-dirs-update --force rmdir æ¡Œé¢ å…¬å…± è§†é¢‘ å›¾ç‰‡ æ–‡æ¡£ éŸ³ä¹ ä¸‹è½½ æ¨¡æ¿ xdg-user-dirs-update ä¸ä¼šåˆ é™¤æ—§çš„ä¸­æ–‡ç›®å½•, rmdiråªä¼šåˆ é™¤ç©ºç›®å½•, åˆ é™¤å¤±è´¥çš„éœ€è¦æ£€æŸ¥å…¶ä¸­çš„æ–‡ä»¶å¹¶è¿ç§». ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:2:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#ä¿®æ”¹-home-ç›®å½•ä¸­çš„ä¸­æ–‡"},{"categories":null,"content":" æ·»åŠ å›½å†…æºreflector æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ£€æµ‹ Pacman é•œåƒæºé€Ÿåº¦å¹¶åº”ç”¨çš„å·¥å…·, EndeavourOS å®‰è£…è‡ªå¸¦, å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æµ‹é€Ÿåº¦æœ€å¿«çš„æº. bash sudo reflector --country China \\ --protocol https \\ --latest 3 \\ --save /etc/pacman.d/mirrorlist æˆ–è€…åªåŠ sudo reflector --country Chinaä¹Ÿå¯ä»¥, å…¶å®ƒé€‰é¡¹å¯ä»¥é»˜è®¤. ç”±äº Arch Linux çš„å®˜æ–¹ç›‘æµ‹æœåŠ¡å™¨ä½äºæµ·å¤–, å¯èƒ½ä¼šè¿æ¥å›½å†…é•œåƒæºè¶…æ—¶å¯¼è‡´é•œåƒè¯„ä¼°å¼‚å¸¸, æ‰€ä»¥è¿˜æ˜¯æ‰‹åŠ¨æ·»åŠ é•œåƒæºæ¯”è¾ƒå¥½, ä» https://archlinux.org/mirrors/ å¯ä»¥ç­›é€‰é•œåƒ. å°†ä»¥ä¸‹é•œåƒæºå†™å…¥ /etc/pacman.d/mirrorlist text Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch Server = https://mirrors.aliyun.com/archlinux/$repo/os/$arch Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch ç„¶å sudo pacman -Syyu æ›´æ–°ç³»ç»Ÿ, å¦‚æœæœ‰å†…æ ¸æ›´æ–°å¯èƒ½éœ€è¦é‡å¯, é‡å¯å³å¯. ä¹‹åæ·»åŠ  ArchLinuxCN é•œåƒæº, åœ¨/etc/pacman.confæ·»åŠ : text [archlinuxcn] Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch Server = https://mirrors.aliyun.com/archlinuxcn/$arch Server = https://mirrors.cloud.tencent.com/archlinuxcn/$arch ç„¶åæ‰§è¡Œå‘½ä»¤: bash sudo pacman -Sy sudo pacman -S archlinuxcn-keyring ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:3:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#æ·»åŠ å›½å†…æº"},{"categories":null,"content":" é…ç½®ä»£ç†ArchlinuxCN ä¸­æœ‰ Clash Verge Rev , å›½å†…å¯ä»¥ç›´è¿, ç›´æ¥ä½¿ç”¨ pacman å®‰è£…. bash pacman -S archlinuxcn/clash-verge-rev å®‰è£…æ‰“å¼€è®¢é˜…å¥½é…ç½®æ–‡ä»¶å¹¶å¼€å¯ä»£ç†å, åœ¨/etc/environmentä¸­è¿½åŠ å†™å…¥ä»¥ä¸‹å†…å®¹ text http_proxy=http://127.0.0.1:7897 https_proxy=http://127.0.0.1:7897 ftp_proxy=http://127.0.0.1:7897 all_proxy=socks5://127.0.0.1:7897 no_proxy=\"localhost,127.0.0.1,localaddress,.localdomain.com\" æ ¹æ®è‡ªå·±çš„ç«¯å£è‡ªè¡Œä¿®æ”¹ç»†èŠ‚, å†™å…¥å®Œæˆåéœ€è¦é‡å¯æ‰å¯ä»¥è®©è¯»å–æ–°å†™å…¥çš„å…¨å±€ç¯å¢ƒå˜é‡. å¦‚æœä½ ä½¿ç”¨è™šæ‹Ÿæœº, å¯ä»¥ç›´æ¥è¿æ¥å®¿ä¸»æœºçš„ä»£ç†, VirtualBox é»˜è®¤æŒ‡å‘æœ¬æœºç½‘ç»œåœ°å€ä¸º192.168.56.1 æˆ–è€… 10.0.2.2 , å®¿ä¸»æœºä»£ç†è½¯ä»¶å…è®¸å±€åŸŸç½‘è¿æ¥å³å¯. é‡å¯ä¹‹åç¡®ä¿ç½‘ç»œç•…é€š, å°±å¯ä»¥æ›´æ–° Aur äº†, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°. bash yay -Syu ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:4:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®ä»£ç†"},{"categories":null,"content":" é…ç½® SSHä½¿ç”¨ ssh-keygen å‘½ä»¤å¯ä»¥ç”Ÿæˆ ssh-key , å¯ä»¥æ·»åŠ åˆ° GitHub ä»“åº“æˆ–è€…è¿œç«¯æœåŠ¡å™¨, å®ç°æ— å¯†ç  SSH é€šä¿¡. å¦‚æœæœºå™¨æœ‰è¿œç¨‹ SSH è¿æ¥çš„éœ€æ±‚, å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å¯ sshd æœåŠ¡. bash sudo systemctl enable --now sshd sudo systemctl status sshd ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:5:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®-ssh"},{"categories":null,"content":" é…ç½® Gitä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é…ç½® Git åç§°ä¸é‚®ç®±. bash git config --global user.name \"name\" git config --global user.email \"email@example.com\" æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è®©ç»ˆç«¯ Git å‘½ä»¤å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡. bash git config --global core.quotepath false åœ¨~/.ssh/configä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹è®© GitHub çš„ SSH è¿æ¥çš„ push/pull/clone èµ°ä»£ç† text Host github.com # ä½¿githubçš„sshè¿æ¥èµ°ä»£ç† ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=7897 å¦‚æœæ²¡æœ‰ socat éœ€è¦è‡ªè¡Œå®‰è£…. é…ç½®ä¸­ä»£ç† IP å’Œç«¯å£ä¹Ÿè¦æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±çš„. ä½¿ç”¨ ssh -T git@github.com å¯ä»¥æµ‹è¯•è¿é€šæ€§æ£€éªŒé…ç½®æ˜¯å¦æˆåŠŸ. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:6:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®-git"},{"categories":null,"content":" å®‰è£…æ¡Œé¢ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä½¿ç”¨ Dank Material Shell é¡¹ç›®çš„å®‰è£…å™¨å®‰è£… Niri + Dank Material Shell æ•´å¥—é…ç½®. bash curl -fsSL https://install.danklinux.com | sh å‡ºç°Error: Could not fetch latest versionæ˜¯å› ä¸ºèŠ‚ç‚¹è¢« github é™åˆ¶è®¿é—®æ— æ³•è·å–ç‰ˆæœ¬å·, å¯ä»¥æ›´æ¢çº¯å‡€èŠ‚ç‚¹æˆ–è€…æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬å·. å®‰è£…è¿‡ç¨‹ä¸­å¯ä»¥é€‰æ‹© Wayland åˆæˆå™¨ä¸º Niri æˆ–è€… Hyprland , ç»ˆç«¯å¯ä»¥é€‰æ‹© Ghostty/Alacritty/Kitty , è¿™é‡Œé€‰æ‹© Niri + Ghostty . å®‰è£…å®Œæˆåæ³¨é”€ç„¶ååœ¨å¯åŠ¨ç•Œé¢å·¦ä¸‹è§’å¯ä»¥é€‰æ‹©è¿›å…¥ niri æ¡Œé¢. é»˜è®¤ Mod + T å¼€å¯ç»ˆç«¯, Mod + ç©ºæ ¼ å¯ä»¥æœç´¢å¹¶è¿è¡Œç¨‹åº, Mod é”®å¯é…ç½®, é»˜è®¤æ˜¯ Super , å°±æ˜¯ Windows ä¸‹çš„ Win é”®. ä½¿ç”¨ dms ipc call keybinds toggle niri å‘½ä»¤å¯ä»¥å¼¹å‡ºä¸€ä¸ªæ‚¬æµ®çª—å£æŸ¥çœ‹æ‰€æœ‰å¿«æ·é”®, ä½¿ç”¨ dms keybinds show niri å¯ä»¥åœ¨ç»ˆç«¯è¾“å‡ºæ‰€æœ‰å¿«æ·é”®çš„ JSON æ ¼å¼. è¿˜å¯ä»¥é€‰æ‹©å®‰è£… dsearch , å®‰è£…å¹¶å¯åŠ¨ååœ¨å¯åŠ¨å™¨ç•Œé¢å¼€å¤´è¾“å…¥ / å¯ä»¥è¿›è¡Œæ–‡ä»¶æœç´¢, è¿˜æ”¯æŒæœç´¢æ–‡ä»¶å†…å®¹. sh yay -S aur/dsearch-bin å®‰è£…åå¯åŠ¨ sh systemctl --user enable --now dsearch ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:7:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…æ¡Œé¢"},{"categories":null,"content":" è°ƒæ•´ Grubå¦‚æœä½¿ç”¨äº† Timeshift æˆ–è€… Snapper çš„å¿«ç…§åŠŸèƒ½, å®‰è£… grub-btrfs å®ç°åœ¨ Grub ç•Œé¢ç›´æ¥ä»å¿«ç…§å¯åŠ¨, è¿™æ ·åœ¨ç³»ç»ŸæŒ‚æ‰åå¯ä»¥ä»å¿«ç…§å¯åŠ¨è¿›å…¥ç³»ç»Ÿè€Œä¸éœ€è¦ LiveCD . sh yay -S grub-btrfs åœ¨/etc/grub.d/å¯ä»¥æŸ¥çœ‹å¼•å¯¼ç”Ÿæˆè„šæœ¬, å†³å®š Grub å¼•å¯¼é¡ºåº, ä¿®æ”¹å®ƒä»¬å°±å¯ä»¥ä¿®æ”¹ Grub ç•Œé¢çš„å¯åŠ¨é¡ºåº, å†…å®¹å¦‚ä¸‹: text \u003e ls /etc/grub.d/ -l æ€»è®¡ 124 -rwxr-xr-x 1 root root 9816 12æœˆ 1æ—¥ 22:52 00_header* -rwxr-xr-x 1 root root 12831 12æœˆ 1æ—¥ 22:52 08_os-prober* -rwxr-xr-x 1 root root 286 1æœˆ10æ—¥ 23:05 09_eos_windows* -rwxr-xr-x 1 root root 12631 12æœˆ 1æ—¥ 22:52 10_linux* -rwxr-xr-x 1 root root 14393 12æœˆ 1æ—¥ 22:52 20_linux_xen* -rwxr-xr-x 1 root root 786 12æœˆ 1æ—¥ 22:52 25_bli* -rwxr-xr-x 1 root root 1174 12æœˆ 1æ—¥ 22:52 30_uefi-firmware* -rwxr-xr-x 1 root root 744 12æœˆ19æ—¥ 18:31 35_fwupd* -rwxr-xr-x 1 root root 214 12æœˆ 1æ—¥ 22:52 40_custom* -rwxr-xr-x 1 root root 215 12æœˆ 1æ—¥ 22:52 41_custom* -rwxr-xr-x 1 root root 29811 9æœˆ17æ—¥ 23:59 41_snapshots-btrfs* -rwxr-xr-x 1 root root 1394 2024å¹´12æœˆ26æ—¥ 60_memtest86+-efi* -rw-r--r-- 1 root root 483 12æœˆ 1æ—¥ 22:52 README å…¶ä¸­ 10_linux å¼•å¯¼ Linux ç³»ç»Ÿ, 08_os-prober æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æœç´¢å·¥å…·, å®ƒä¼šæ‰«ææ‰€æœ‰ç¡¬ç›˜åˆ†åŒºï¼Œå¯»æ‰¾ Windows æˆ–å…¶ä»–å·²å®‰è£…çš„ Linux å‘è¡Œç‰ˆï¼Œå¹¶å°†å®ƒä»¬åŠ å…¥å¯åŠ¨èœå•, 41_snapshots-btrfsæ˜¯åˆšæ‰å®‰è£…çš„ snapshots-btrfs , 09_eos_windowsæ˜¯ EndeavourOS ç³»ç»Ÿçš„ Windows æœç´¢è„šæœ¬, é˜²æ­¢ os-prober å¤±æ•ˆ, ä¿®æ”¹å…¶ä¸­æ•°å­—é¡ºåºå³å¯å†³å®š Grub å¯åŠ¨èœå•é¡ºåº, å¯ä»¥è‡ªè¡Œè°ƒæ•´. æ‰€æœ‰é…ç½®å®Œæˆé‡å»º Grub é…ç½®: sh sudo grub-mkconfig -o /boot/grub/grub.cfg ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:8:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#è°ƒæ•´-grub"},{"categories":null,"content":" æ¡Œé¢ç›¸å…³é…ç½®","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#æ¡Œé¢ç›¸å…³é…ç½®"},{"categories":null,"content":" QT åº”ç”¨å®‰è£…ç›¸å…³ QT5/QT6 æ ·å¼é…ç½®å·¥å…· bash yay -S qt6ct-kde qt5ct qt6ct-kde æ˜¯ qt6ct é’ˆå¯¹ kde åº”ç”¨çš„è¡¥ä¸ç‰ˆæœ¬, å¦‚æœä¸ä½¿ç”¨ kde ç›¸å…³è½¯ä»¶å¯ä»¥è£…qt6ct. å®‰è£… QT5/QT6 Wayland è¿è¡Œç¯å¢ƒ bash yay -S qt6-wayland qt5-wayland åœ¨ ~/.config/environment.d ä¸‹åˆ›å»ºç¯å¢ƒå˜é‡æ˜¯ç°ä»£ Linux å‘è¡Œç‰ˆæ¨èçš„è®¾ç½®å…¨å±€å›¾å½¢ç•Œé¢ç”¨æˆ·å˜é‡çš„æ–¹å¼, åœ¨è¿™é‡Œåˆ›å»ºæ–‡ä»¶ 10-wayland.conf, å†™å…¥ä»¥ä¸‹å†…å®¹: text # æŒ‡å®š qt6ct é…ç½® QT åº”ç”¨ä¸»é¢˜ QT_QPA_PLATFORMTHEME=qt6ct # æŒ‡å®š QT åº”ç”¨ä¼˜å…ˆä½¿ç”¨ Wayland QT_QPA_PLATFORM=\"wayland;xcb\" # è§£å†³éƒ¨åˆ† XWayland åº”ç”¨çš„è¾“å…¥é—®é¢˜ XMODIFIERS=@im=fcitx ç¯å¢ƒå˜é‡åŠ å…¥æŒ‡å®š QT åº”ç”¨é…ç½®å·¥å…·, QT5 åº”ç”¨è¯†åˆ«åˆ°QT_QPA_PLATFORMTHEME=qt6ctç¯å¢ƒå˜é‡ä¼šè‡ªåŠ¨å»æ‰¾ qt5ct, æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒ QT5 åº”ç”¨å…¼å®¹æ€§. QT_QPA_PLATFORM=\"wayland;xcb\"æ˜¯æŒ‡å®š QT åº”ç”¨ä¼˜å…ˆä½¿ç”¨ Wayland, å¦‚æœä¸å…¼å®¹åˆ™ä½¿ç”¨ XWayland. ç„¶ååœ¨ DMS çš„ä¸»é¢˜é…ç½®ç•Œé¢ä¸­, ç‚¹å‡»åº”ç”¨ QT é…è‰²å³å¯åœ¨ qt6ct å’Œ qt5ct é…ç½®ç›®å½•ä¸‹ç”Ÿæˆ Matugen ä¸»é¢˜, åˆ†åˆ«æ‰“å¼€ä¸¤ä¸ªé…ç½®æ–‡ä»¶é…ç½®åº”ç”¨è¿™ä¸ªä¸»é¢˜å³å¯. ç”±äºæˆ‘ä»¬ç¯å¢ƒå˜é‡åœ¨ç”¨æˆ·ç«¯é…ç½®, æŸäº› root æƒé™å¯åŠ¨çš„åº”ç”¨æ— æ³•è¯»å–è¿™äº›é…ç½®, æ‰€ä»¥å¯ä»¥æŠŠç”¨æˆ·ç›®å½•çš„ç›¸å…³é…ç½®æ–‡ä»¶è½¯é“¾æ¥åˆ° root ç›®å½•ä¸­. bash sudo mkdir -p /root/.config/qt6ct/colors/ sudo ln -s ~/.config/qt6ct/qt6ct.conf /root/.config/qt6ct/qt6ct.conf sudo ln -s ~/.config/qt6ct/colors/matugen.conf /root/.config/qt6ct/colors/matugen.conf sudo mkdir -p /root/.config/qt5ct/colors/ sudo ln -s ~/.config/qt5ct/qt5ct.conf /root/.config/qt5ct/qt5ct.conf sudo ln -s ~/.config/qt5ct/colors/matugen.conf /root/.config/qt5ct/colors/matugen.conf ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:1","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#qt-åº”ç”¨"},{"categories":null,"content":" GTK åº”ç”¨GTK åº”ç”¨æ¯”è¾ƒå°é—­, ä¸åƒ Qt åº”ç”¨ä¸€æ ·å¯ä»¥ç›´æ¥é…ç½® Matugen ç”Ÿæˆçš„é¢œè‰²æ–¹æ¡ˆ, æ‰€ä»¥ DMS ä½¿ç”¨ CSS æ³¨å…¥çš„æ–¹å¼æ¥è®© GTK åº”ç”¨ä½¿ç”¨ Matugen é¢œè‰²æ–¹æ¡ˆ, å…·ä½“æ¥è¯´å°±æ˜¯è¦†ç›– ~/.config/gtk-3.0/gtk.css å’Œ ~/.config/gtk-4.0/gtk.css ä¸¤ä¸ªæ–‡ä»¶. å¯¹äº GTK3 åº”ç”¨, ä¼šå°è¯•è¯»å– ~/.config/gtk-3.0/settings.ini, å¦‚æœå­˜åœ¨æ­¤æ–‡ä»¶åˆ™ä½¿ç”¨ ~/.config/gtk-3.0/gtk.css çš„å†…å®¹, ä¸å­˜åœ¨åˆ™ä¼šä½¿ç”¨å†…ç½®é…è‰²å’Œä¸»é¢˜; è€Œ GTK4 åº”ç”¨ä½¿ç”¨libadwaitaåº“, åªä¼šé»˜è®¤è¯»å– ~/.config/gtk-4.0/gtk.css, é…ç½®åˆ™ç›‘å¬ xdg-desktop-portal ç›¸å…³ä¿¡æ¯. æ‰€ä»¥é¦–å…ˆå®‰è£… GTK3 é…ç½®ç”Ÿæˆå·¥å…·nwg-lookå’Œä¸Libadwaitaæ ·å¼ç›¸ä¼¼çš„ GTK3 ä¸»é¢˜adw-gtk-theme: bash yay -S nwg-look adw-gtk-theme æ‰“å¼€nwg-lookåœ¨é…ç½®ä¸­é€‰æ‹©adw-gtk3ä¸»é¢˜å¹¶åº”ç”¨, å°±ä¼šç”Ÿæˆ GTK3 é…ç½®æ–‡ä»¶. ç„¶ååœ¨ DMS ä¸»é¢˜é…ç½®ä¸­å¯ä»¥ç‚¹å‡»åº”ç”¨ GTK é…è‰², è®© DMS çš„é…ç½®æ³¨å…¥å³å¯. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:2","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#gtk-åº”ç”¨"},{"categories":null,"content":" Electron åº”ç”¨æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡å¯ä»¥ä¿®å¤ Wayland ç¯å¢ƒä¸‹ Electron åº”ç”¨çš„å¾ˆå¤šé—®é¢˜. text ELECTRON_OZONE_PLATFORM_HINT=auto å¦‚æœä½¿ç”¨ DankMaterialShell å®‰è£…, ç¯å¢ƒå˜é‡åœ¨ä¼šåœ¨ ~/.config/environment.d/90-dms.conf é…ç½®æ— éœ€ç”¨æˆ·å†™å…¥. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:3","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#electron-åº”ç”¨"},{"categories":null,"content":" å®‰è£…å›¾æ ‡åŒ…å®‰è£… papirus å›¾æ ‡åŒ… bash yay -S papirus-icon-theme papirus å›¾æ ‡åŒ…æ˜¯å¾ˆæµè¡Œçš„ä¸€å¥—å¼€æºå›¾æ ‡åŒ…, é€‚é…åº”ç”¨ç¨‹åºèŒƒå›´è¾ƒå¹¿, åœ¨å³ä¸Šè§’ DMS é…ç½®ç•Œé¢ä¸­ä¸»é¢˜é…ç½®æ å¯ä»¥é€‰æ‹©è¿™ä¸ªå›¾æ ‡åŒ…. ä¾èµ–ä¸Šé¢é…ç½®çš„ QT_QPA_PLATFORMTHEME=qt6ct ç¯å¢ƒå˜é‡, ä¸Šä¸€æ­¥é…ç½®å®Œéœ€è¦é‡å¯æ‰èƒ½è¯»åˆ°é…ç½®çš„ç¯å¢ƒå˜é‡. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:4","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…å›¾æ ‡åŒ…"},{"categories":null,"content":" é…ç½®é¼ æ ‡æŒ‡é’ˆDMSé…ç½®ç•Œé¢å¯ä»¥é…ç½®é¼ æ ‡æŒ‡é’ˆ, æ¨ècapitaine-cursorsåœ¨é«˜åˆ†å±å¹•è¡¨ç°æ¯”è¾ƒå¥½. bash yay -S extra/capitaine-cursors ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:9:5","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®é¼ æ ‡æŒ‡é’ˆ"},{"categories":null,"content":" é…ç½®æ˜¾ç¤ºå™¨Dank Material Shell 1.2 ç‰ˆæœ¬å·²ç»é›†æˆäº†é…ç½®ç•Œé¢é…ç½®æ˜¾ç¤ºå™¨çš„åŠŸèƒ½, ç›´æ¥åœ¨é…ç½®ç•Œé¢é…ç½®å³å¯. åœ¨ Niri é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹å¯ä»¥é…ç½®æ˜¾ç¤ºå±, ä½ç½®é€šå¸¸æ˜¯ ~/.config/niri/config.kdl . text output \"DP-3\" { // åˆ†è¾¨ç‡ mode \"3840x2160@160\" // 1.5 å€ç¼©æ”¾ scale 1.5 // ç¡®ä¿ä½ç½®åœ¨åŸç‚¹ position x=0 y=0 // é«˜åˆ·æ”¯æŒ variable-refresh-rate } åœ¨ä½ æ²¡å†™å…¥è¿™äº›é…ç½®æ—¶ Niri ä¼šè‡ªåŠ¨æ£€æµ‹æ˜¾ç¤ºå™¨é…ç½®, é€šè¿‡ niri msg outputs æŸ¥çœ‹å½“å‰é…ç½®æ¥è·å–æ˜¾ç¤ºå™¨åç§°å’Œå…¶å®ƒä¿¡æ¯. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:10:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®æ˜¾ç¤ºå™¨"},{"categories":null,"content":" é…ç½®é¼ æ ‡åœ¨ niri é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹, ä½ç½®é€šå¸¸æ˜¯ ~/.config/niri/config.kdl . text input { mouse { // å…³é—­é¼ æ ‡åŠ é€Ÿï¼Œä½¿ç”¨ 1:1 çš„æ˜ å°„ accel-profile \"flat\" // å–å€¼èŒƒå›´é€šå¸¸æ˜¯ -1.0 åˆ° 1.0ã€‚ accel-speed 0.0 } } ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:11:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®é¼ æ ‡"},{"categories":null,"content":" å®‰è£…ç³»ç»Ÿå¿«ç…§å¤‡ä»½å¸¸ç”¨å¿«ç…§ç»„ä»¶æœ‰ TimeShift å’Œ Snapper . ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:12:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…ç³»ç»Ÿå¿«ç…§å¤‡ä»½"},{"categories":null,"content":" TimeShiftTimeShift æ˜¯ Ubuntu å¸¸ç”¨çš„å¿«ç…§è½¯ä»¶, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… text yay -S timeshift ä¹‹åå¯ä»¥å¯åŠ¨ timeshift åœ¨ GUI ç•Œé¢è¿›è¡Œè¯¦ç»†é…ç½®, ä¹‹åå®‰è£… timeshift-autosnap å®ç°æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½. text yay -S timeshift-autosnap ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:12:1","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#timeshift"},{"categories":null,"content":" SnapperSnapper åŠŸèƒ½æ›´å¼ºå¤§, æ˜¯ OpenSuse ç³»ç»Ÿçš„ç»„ä»¶, é»˜è®¤æ²¡æœ‰å›¾å½¢ç•Œé¢, é…åˆ Btrfs Assistant ä½¿ç”¨. text yay -S snapper btrfs-assistant åœ¨ Snapper Settings ç•Œé¢å¯ä»¥åˆ›å»ºå¯¹ä¸åŒå­å·çš„é…ç½®, å¯ä»¥åˆ†åˆ«åˆ›å»ºå¯¹äº root å’Œ home ç›®å½•çš„å¤‡ä»½è§„åˆ™, å¯ç”¨ Enable timeline snapshots åå¯ä»¥é…ç½®å¤‡ä»½å‘¨æœŸ, ç„¶åç‚¹å‡» Save ä¿å­˜. å¯¹ root å’Œ home åˆ†åˆ«é…ç½®åå‹¾é€‰ systemd Unit Settings ä¸­çš„é€‰é¡¹, ç„¶å Apply systemd changes å³å¯å¯ç”¨å¿«ç…§æœåŠ¡, ä¸‰ä¸ªæœåŠ¡ä¸­ timeline ä»£è¡¨ä¸Šé¢é…ç½®çš„å‘¨æœŸå¿«ç…§, cleanup ä»£è¡¨å‘¨æœŸæŒ‰ç…§é™åˆ¶æ¸…ç†å¿«ç…§, boot ä»£è¡¨å¼€æœºè‡ªåŠ¨å¿«ç…§, æ ¹æ®éœ€æ±‚é€‰æ‹©. æ³¨æ„å¦‚æœä¸ä½¿ç”¨å›¾å½¢ç•Œé¢é…ç½®, è®°å¾—å°† Snapper çš„å¤‡ä»½ç›®å½•é…ç½®ä¸º Btrfs å­å·, è€Œä¸æ˜¯é»˜è®¤çš„æ™®é€šç›®å½•, ä»¥å…å‡ºç°é€’å½’å¿«ç…§, Btrfs Assistant ä¼šè‡ªåŠ¨è¿›è¡Œè¿™æ ·çš„æ“ä½œ, è€Œå‘½ä»¤è¡Œä¸­ä¸ä¼šå¦‚æ­¤. å®‰è£…snap-pacæ¥åœ¨ pacman æ›´æ–°å‰è‡ªåŠ¨å¿«ç…§. text yay -S snap-pac ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:12:2","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#snapper"},{"categories":null,"content":" å®‰è£…ç»ˆç«¯ç¼–è¾‘å™¨EndeavourOS é»˜è®¤åªæœ‰ Vi , ä¸å¤ªå¥½ç”¨, è¿™é‡Œå®‰è£… Helix ä½œä¸ºç»ˆç«¯ç¼–è¾‘å™¨, ä¹Ÿå¯ä»¥å®‰è£… Vim/NeoVim . bash yay -S helix ArchLinux ä¸­ helix çš„é»˜è®¤åˆ«åå¹¶ä¸æ˜¯ hx, å¯ä»¥æ‰‹åŠ¨è½¯é“¾æ¥ bash sudo ln -s /usr/bin/helix /usr/local/bin/hx ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:13:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…ç»ˆç«¯ç¼–è¾‘å™¨"},{"categories":null,"content":" å®‰è£…å­—ä½“ text yay -S noto-fonts noto-fonts-cjk noto-fonts-emoji noto-fonts-extra yay -S ttf-sarasa-gothic yay -S ttf-maplemononormal-nf-cn-unhinted yay -S ttf-lxgw-wenkai ttf-lxgw-wenkai-mono noto Noto ç³»åˆ—å­—ä½“, åŒ…å«ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†è¯­è¨€çš„å­—ç¬¦, ä¿è¯ç³»ç»Ÿä¸ä¼šå› ä¸ºæ²¡æœ‰å­—ä½“æ˜¾ç¤ºæ–¹å— ttf-sarasa-gothic æ›´çº±é»‘ä½“, åŒ…å«æ‰€æœ‰ç‰ˆæœ¬å­—ä½“, åŒ…æ‹¬ç­‰å®½å’Œ UI ç­‰å„ç§ç‰ˆæœ¬ ttf-maplemono-nf-cn-unhinted é€‚åˆä½œä¸ºç¼–ç¨‹ç­‰å®½å­—ä½“. normalæ˜¯è®©å­—ä½“ä¸­çš„ä¸€äº›å­—ç¬¦æ›´åŠ æ­£å¸¸, é»˜è®¤é¢„è®¾æ¯”è¾ƒæœ‰ä¸ªæ€§, nf æ„ä¸ºåµŒå…¥ Nerd-Font çš„ç‰ˆæœ¬; cn æ„ä¸ºä¸­æ–‡ç‰ˆæœ¬, åµŒå…¥ä¸­æ–‡å’Œæ—¥æ–‡å­—å½¢; unhinted æ„ä¸ºé€‚é…é«˜åˆ†è¾¨ç‡å±å¹•. Aur å’Œ ArchLinuxCN è¿˜æœ‰å¾ˆå¤šå…¶å®ƒç‰ˆæœ¬, å…¨éƒ¨æ ‡ç­¾å«ä¹‰å¯ä»¥å» Maple Mono é¡¹ç›®å®˜ç½‘ æŸ¥è¯¢. ttf-lxgw-wenkai éœé¹œæ–‡æ¥·, æ¯”è¾ƒç¾è§‚, é€‚åˆé˜…è¯» ttf-lxgw-wenkai-mono éœé¹œæ–‡æ¥·ç­‰å®½ç‰ˆæœ¬ niri ä¸åƒ KDE é‚£æ ·æœ‰ GUI ç•Œé¢å¯ä»¥æŒ‡å®šç³»ç»Ÿå­—ä½“, æ‰€ä»¥æœ‰æ—¶ä¼šå‡ºç°ä¼˜å…ˆæ˜¾ç¤ºæ—¥å¼å­—å½¢çš„æƒ…å†µ, å¹¶ä¸”ç³»ç»Ÿé»˜è®¤å­—ä½“æ˜¯ä»¥å­—ä½“åç§°æ¥æ’åºæœç´¢åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨å­—ä½“, éå¸¸ä¸ç¨³å®š, æ‰€ä»¥éœ€è¦ç¼–å†™å­—ä½“é…ç½®æ–‡ä»¶, æŒ‡å®šç³»ç»Ÿæœç´¢å­—ä½“é¡ºåº, åœ¨ ~/.config/fontconfig/fonts.conf åˆ›å»ºç”¨æˆ·é…ç½®æŒ‡å®šå­—ä½“ç›¸å…³å†…å®¹, ä¼˜å…ˆçº§é«˜äº KDE ç­‰æ¡Œé¢ç¯å¢ƒçš„é…ç½®. text \u003c?xml version=\"1.0\"?\u003e \u003c!DOCTYPE fontconfig SYSTEM \"fonts.dtd\"\u003e \u003cfontconfig\u003e \u003c!-- æ— è¡¬çº¿å­—ä½“é…ç½® --\u003e \u003calias\u003e \u003cfamily\u003esans-serif\u003c/family\u003e \u003cprefer\u003e \u003cfamily\u003eNoto Sans\u003c/family\u003e \u003cfamily\u003eNoto Sans CJK SC\u003c/family\u003e \u003cfamily\u003eSarasa Gothic SC\u003c/family\u003e \u003c/prefer\u003e \u003c/alias\u003e \u003c!-- è¡¬çº¿å­—ä½“é…ç½® --\u003e \u003calias\u003e \u003cfamily\u003eserif\u003c/family\u003e \u003cprefer\u003e \u003cfamily\u003eNoto Serif\u003c/family\u003e \u003cfamily\u003eNoto Serif CJK SC\u003c/family\u003e \u003c/prefer\u003e \u003c/alias\u003e \u003c!-- ç­‰å®½å­—ä½“é…ç½® --\u003e \u003calias\u003e \u003cfamily\u003emonospace\u003c/family\u003e \u003cprefer\u003e \u003cfamily\u003eSarasa Mono SC\u003c/family\u003e \u003cfamily\u003eNoto Sans Mono\u003c/family\u003e \u003cfamily\u003eNoto Sans Mono CJK SC\u003c/family\u003e \u003c/prefer\u003e \u003c/alias\u003e \u003c!-- emoji é…ç½® --\u003e \u003calias\u003e \u003cfamily\u003eemoji\u003c/family\u003e \u003cprefer\u003e \u003cfamily\u003eNoto Color Emoji\u003c/family\u003e \u003c/prefer\u003e \u003c/alias\u003e \u003c/fontconfig\u003e ä¿å­˜é…ç½®åè¿è¡Œ fc-cache -fv æ¥åˆ·æ–°ç¼“å­˜åº”ç”¨æœ€æ–°ä¿®æ”¹ ä½¿ç”¨ä»¥ä¸‹ä¸‰æ¡å‘½ä»¤å¯ä»¥åˆ†åˆ«æŸ¥çœ‹å½“å‰ç³»ç»Ÿå„ç±»å­—ä½“çš„æœç´¢é¡ºåº, è¿è¡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æŒ‡å®šçš„å­—ä½“æ’åœ¨æ‰€æœ‰å…¶å®ƒç³»ç»Ÿå­—ä½“ä¹‹å‰. text fc-match -s sans-serif fc-match -s serif fc-match -s monospace é…ç½®æŒ‡å®šäº†å„ç±»å­—ä½“é»˜è®¤æœç´¢é¡ºåº, å½“ç„¶åœ¨å„è‡ªåº”ç”¨ä¹Ÿå¯ä»¥å­—å½¢æŒ‡å®šä»»æ„å­—ä½“, å…¶ä¸­ noto ç³»åˆ—å­—ä½“åº”è¯¥æ˜¯ KDE æ¡Œé¢ç¯å¢ƒè‡ªå¸¦, å¦‚æœæ²¡æœ‰éœ€è¦å­—å½¢å®‰è£…, fc-list å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ‰€æœ‰å­—ä½“. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:14:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…å­—ä½“"},{"categories":null,"content":" é…ç½® Ghosttyåœ¨ ~/.config/ghostty/config ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®. text # Font Configuration font-size = 14 font-family = \"Maple Mono Normal NF CN\" # å¢åŠ æ–‡æœ¬å†…å®¹ä¸çª—å£è¾¹ç¼˜ä¹‹é—´çš„å†…è¾¹è· window-padding-x = 12 window-padding-y = 12 # è¾“å…¥æ—¶éšè—é¼ æ ‡ mouse-hide-while-typing = true # å…³é—­ Ghostty æ— é¡»ç¡®è®¤ confirm-close-surface = false theme = TokyoNight ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:15:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#é…ç½®-ghostty"},{"categories":null,"content":" å®‰è£… Shellä¸»æµé€‰æ‹©æœ‰ Fish å’Œ Zsh, Fish å¼€ç®±å³ç”¨ä½†æ˜¯ä¸å…¼å®¹ Bash, é…ç½®ä¸ºç³»ç»Ÿé»˜è®¤ Shell ä¼šæœ‰å¾ˆå¤šé—®é¢˜, Zsh å…¼å®¹ Bash, å¯ä»¥ä½œä¸ºç³»ç»Ÿé»˜è®¤ Shell, ä½†æ˜¯é…ç½®æ¯”è¾ƒå¤æ‚å¹¶ä¸”å¯åŠ¨é€Ÿåº¦ä¸å¦‚ Fish. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:16:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…-shell"},{"categories":null,"content":" FishFish Shell æ˜¯ä¸€å¥—å¼€ç®±å³ç”¨çš„ Shell. bash sudo pacman -S fish è¿è¡Œ fish_config å¯ä»¥åœ¨æµè§ˆå™¨äº¤äº’å¼é…ç½®ä¸€äº›ç»†èŠ‚. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:16:1","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#fish"},{"categories":null,"content":" Zshé¦–å…ˆå®‰è£… Zsh æœ¬ä½“: sh yay -S zsh oh-my-zsh é¡¹ç›®æ˜¯ Zsh é…ç½®çš„ä¸»æµé€‰æ‹©, ä½†æ˜¯å®‰è£…ä¹‹åæ— æ’ä»¶å¯åŠ¨ Shell å¯åŠ¨é€Ÿåº¦ä¹Ÿä¼šå¾ˆæ…¢, å¤§æ¦‚ä¼šåˆ° 200ms å·¦å³, å¯ç”¨ä¸€äº›æ’ä»¶ä¹‹åä¼šæ›´æ…¢, æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©è‡ªè¡Œå®‰è£…æ’ä»¶ç®¡ç†å™¨ Antidote æ¥é…ç½®æ’ä»¶: sh yay -S zsh-antidote Antidote å¯ä»¥å¯¹æ’ä»¶è¿›è¡Œå£°æ˜å¼é…ç½®, é¦–å…ˆä¸º .zshrc åŠ å…¥ Antidote çš„å¯åŠ¨é…ç½®: sh zsh_plugins=${ZDOTDIR:-~}/.zsh_plugins [[ -f ${zsh_plugins}.txt ]] || touch ${zsh_plugins}.txt fpath=(/usr/share/zsh-antidote/functions $fpath) autoload -Uz antidote if [[ ! ${zsh_plugins}.zsh -nt ${zsh_plugins}.txt ]]; then antidote bundle \u003c${zsh_plugins}.txt \u003e|${zsh_plugins}.zsh fi source ${zsh_plugins}.zsh è¿™æ˜¯å®˜ç½‘æ¨èçš„é«˜æ€§èƒ½å¯åŠ¨æ–¹å¼. ä¹‹åé…ç½®æ’ä»¶åˆ—è¡¨, åœ¨ ~/.zsh_plugins.txt ä¸‹æ·»åŠ å†…å®¹: text # Zsh è¡¥å…¨ç³»ç»Ÿ mattmc3/ez-compinit # åŠ è½½ Zsh è¡¥å…¨ç³»ç»Ÿ zsh-users/zsh-completions kind:fpath path:src # å¢å¼ºå‘½ä»¤è¡¥å…¨ # zephyr å¥—ä»¶è¡¥å…¨ zsh çš„é»˜è®¤é…ç½® mattmc3/zephyr path:plugins/color # è‰²å½©ç›¸å…³ mattmc3/zephyr path:plugins/directory # ç›®å½•æ“ä½œ mattmc3/zephyr path:plugins/editor # ç¼–è¾‘æ“ä½œ mattmc3/zephyr path:plugins/environment # ç¯å¢ƒå˜é‡ç›¸å…³ mattmc3/zephyr path:plugins/history # å‘½ä»¤å†å² mattmc3/zephyr path:plugins/utility # å·¥å…· # é›†æˆ fzf å’Œ zoxide ajeetdsouza/zoxide Aloxaf/fzf-tab # P10k ä¸»é¢˜ romkatv/powerlevel10k # è¯­æ³•é«˜äº®å’Œè‡ªåŠ¨æç¤º zsh-users/zsh-autosuggestions # è‡ªåŠ¨æç¤º zsh-users/zsh-history-substring-search # å†å²æœç´¢ zdharma-continuum/fast-syntax-highlighting kind:defer # è¯­æ³•é«˜äº® (å»¶è¿ŸåŠ è½½) ç„¶åæ‰“å¼€é…ç½®æ–‡ä»¶ .zshrc ç›®å½•, æ·»åŠ æ’ä»¶é…ç½®é¡¹: sh # P10k å³æ—¶æç¤º if [[ -r \"${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh\" ]]; then source \"${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh\" fi # ez-compinité…ç½®: å¼€å¯è¡¥å…¨ç³»ç»Ÿç¼“å­˜ # è·¯å¾„ä¼˜å…ˆçº§ $ZSH_COMPDUMP \u003e $XDG_CACHE_HOME/zsh/zcompdump \u003e ~/.cache/zsh/zcompdump zstyle ':plugin:ez-compinit' 'use-cache' 'yes' # ez-compinité…ç½®: ä½¿ç”¨oh-my-zsh é£æ ¼çš„è¡¥å…¨ # å®˜æ–¹æä¾› styles: gremlin, ohmy, prez, zshzoo # åªæœ‰ ohmy é¢„è®¾ä¸ fzf-tab å…¼å®¹, å…¶å®ƒæ¨¡å¼ group æ ‡é¢˜ä¼šæœ‰æ— æ³•æ¸²æŸ“çš„å ä½ç¬¦ zstyle ':plugin:ez-compinit' 'compstyle' 'ohmy' # zephyré…ç½®: å¯ç”¨å’Œå…³é—­ä¸€äº› editor é¢„è®¾åŠŸèƒ½ zstyle ':zephyr:plugin:editor' 'prepend-sudo' yes # å¿«æ·é”®åŠ  sudo åŠŸèƒ½ zstyle ':zephyr:plugin:editor' 'pound-toggle' no # ç©ºæ ¼åæ˜¾ç¤ºåˆ«ååŸå§‹å½¢æ€ zstyle ':zephyr:plugin:editor' 'magic-enter' no # å›è½¦è‡ªåŠ¨æ‰§è¡Œ ls æˆ– git å‘½ä»¤ # é…åˆ fzf-tab ç›¸å…³è¡¥å…¨é€‰é¡¹ zstyle ':completion:*:git-checkout:*' sort false # git-checkout å…³é—­æŒ‰å­—æ¯æ’åº zstyle ':completion:*:descriptions' format '[%d]' # çª—å£å¢åŠ  group æ ‡é¢˜ # fzf-tab å†…éƒ¨é…ç½® zstyle ':fzf-tab:*' fzf-flags --bind=tab:accept # ä½¿ç”¨ Tab é”®ç¡®è®¤ fzf-tab ä¸­çš„é€‰é¡¹ zstyle ':fzf-tab:complete:cd:*' fzf-preview 'eza -1 --color=always $realpath' # åœ¨ cd ç•Œé¢ä½¿ç”¨ eza æ˜¾ç¤ºç›®å½•å†…å®¹ # --- Antidote å¯åŠ¨éƒ¨åˆ† --- # å®˜æ–¹æ¨èçš„é«˜æ€§èƒ½å¯åŠ¨æ–¹å¼ zsh_plugins=${ZDOTDIR:-~}/.zsh_plugins [[ -f ${zsh_plugins}.txt ]] || touch ${zsh_plugins}.txt fpath=(/usr/share/zsh-antidote/functions $fpath) autoload -Uz antidote if [[ ! ${zsh_plugins}.zsh -nt ${zsh_plugins}.txt ]]; then antidote bundle \u003c${zsh_plugins}.txt \u003e|${zsh_plugins}.zsh fi source ${zsh_plugins}.zsh # --- Antidote å¯åŠ¨ç»“æŸ --- # å¯åŠ¨ P10k ä¸»é¢˜ [[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh # å¯åŠ¨fzf-tab enable-fzf-tab # ä¿®å¤ zephyr-directory é¢„è®¾ä¸è¡¥å…¨ç³»ç»Ÿçš„é—®é¢˜ # é˜²æ­¢æ“ä½œç›®å½•å‘½ä»¤çš„ Tab é€‰é¡¹ä¸­å‡ºç°éšè—æ–‡ä»¶ unsetopt glob_dots # å»æ‰ zephyr-editor ä¿®æ”¹å…‰æ ‡æ ·å¼åŠŸèƒ½å¹¶æ¢å¤ç»ˆç«¯é»˜è®¤å½¢æ€ function update-cursor-style { : } printf '\\e[0 q' # --- å¿«æ·é”®ç»‘å®š --- # ç»‘å®š Alt + S ä¸ºå‘½ä»¤å‰å¢åŠ  sudo bindkey '\\es' prepend-sudo # é…ç½® zsh-history-substring-search å¿«æ·é”® bindkey '^[[A' history-substring-search-up 2\u003e/dev/null # '^[[A' åºåˆ—çš„ä¸Šæ–¹å‘é”® bindkey '^[OA' history-substring-search-up 2\u003e/dev/null # '^[[A' åºåˆ—çš„ä¸Šæ–¹å‘é”® bindkey '^[[B' history-substring-search-down 2\u003e/dev/null # '^[[B' åºåˆ—çš„ä¸‹æ–¹å‘é”® bindkey '^[OB' history-substring-search-down 2\u003e/dev/null # '^[OB' åºåˆ—çš„ä¸‹æ–¹å‘é”® å…¶ä¸­é¡¶éƒ¨å’Œåº•éƒ¨ P10k ä¸»é¢˜çš„é…ç½®ç¨åå¯åŠ¨æ—¶ P10k ä¼šè‡ªåŠ¨æ·»åŠ . ä¹‹åä¸‹è½½ä¸€äº›ç³»ç»Ÿå·¥å…·: sh yay -S eza fzf zoxide eza å¯ä»¥ä»£æ›¿ ls , fzf æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„æœç´¢è½¯ä»¶, zoxide å¯ä»¥æ ¹æ®æ¨¡ç³Šåç§°æ™ºèƒ½è·³è½¬ç›®å½•. ä¹‹åè¿›å…¥ Zsh ç»ˆç«¯ sh zsh å¯åŠ¨æ—¶ Antidote ä¼šä» GitHub ä¸‹è½½æ’ä»¶, ç­‰æ’ä»¶åŠ è½½å¥½, ç¬¬ä¸€æ¬¡è¿›å…¥ä¼šæœ‰ P10k çš„ä¸»é¢˜é€‰é¡¹, é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜é…ç½®å³å¯è¿›å…¥. è¿›å…¥ Shell ä¹‹å, å¯ä»¥è¿›ä¸€æ­¥åŠ å¿«é€Ÿåº¦, ç”±äº fzf-tab æ’ä»¶éœ€è¦æ¸²æŸ“é¢œè‰², å¦‚æœæ¸²æŸ“é‡å¾ˆå¤§, ä½¿ç”¨å†…éƒ¨ Zsh è„šæœ¬æ¸²æŸ“ä¼šå¾ˆæ…¢, æ‰€ä»¥å¯ä»¥ç¼–è¯‘ C ç‰ˆæœ¬çš„æ¸²æŸ“æ¨¡å—åŠ é€Ÿ fzf-tab ç•Œé¢, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: sh build-fzf-tab-module ä¹‹åé‡å¯ Zsh å³å¯çœ‹åˆ°æ¸²æŸ“å¤§é‡é¢œè‰²æ—¶ fzf-tab é€Ÿåº¦ä¼šæœ‰æ˜æ˜¾æå‡. æ‰€æœ‰æ’ä»¶é…ç½®å®Œæˆå¯ä»¥æµ‹è¯•å¯¹æ¯”ä¸€ä¸‹ Fish å’Œ Zsh çš„é€Ÿåº¦: sh \u003e for i in {1..10}; do time zsh -lic exit; done zsh -lic exit 0.04s user 0.02s system 108% cpu 0.057 total zsh -lic exit 0.05s user 0.04s system 113% cpu 0.080 total zsh -lic exit 0.06s user 0.05s system 11","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:16:2","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#zsh"},{"categories":null,"content":" å®‰è£…è¾“å…¥æ³•è¿™é‡Œä½¿ç”¨ Fcitx5-Rime è¾“å…¥æ³•. bash sudo pacman -S fcitx5-im fcitx5-rime /etc/environmentä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ text XMODIFIERS=@im=fcitx æ¥ä¸‹æ¥å®‰è£…é›¾å‡‡æ‹¼éŸ³é¡¹ç›®, æ”¯æŒå…¨æ‹¼å’Œå¤šç§åŒæ‹¼æ–¹æ¡ˆ, é‡‡ç”¨ ArchLinuxCN ç‰ˆæœ¬åŠ å¿«å›½å†…ä¸‹è½½é€Ÿåº¦ text yay -S archlinuxcn/rime-ice-git ä¸‹è½½åä¼šå°†é…ç½®æ–‡ä»¶æ·»åŠ åˆ° /usr/share/rime-data ä¸‹, è¿™é‡Œæ˜¯ fcitx5-rime çš„é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„ä¹‹ä¸€, ä¹‹ååœ¨ç”¨æˆ·è·¯å¾„ä¸‹ç¼–å†™é…ç½®å¼•ç”¨å’Œä¿®æ”¹å…¶ä¸­çš„ä¸€äº›é…ç½®, åœ¨ ~/.local/share/fcitx5/rime/ ä¸‹åˆ›å»ºæ–‡ä»¶ default.custom.yaml , å†™å…¥ä»¥ä¸‹å†…å®¹: text patch: # å¯¼å…¥é›¾å‡‡æ‹¼éŸ³é»˜è®¤æ–¹æ¡ˆ # rime_ice_suggestion ä¸ºé›¾å‡‡æ–¹æ¡ˆçš„é»˜è®¤é¢„è®¾ __include: rime_ice_suggestion:/ schema_list: - schema: double_pinyin_flypy # å°é¹¤åŒæ‹¼ menu/page_size: 8 # å€™é€‰è¯ä¸ªæ•° # è¦†ç›–æ–¹æ¡ˆé€‰å•å¿«æ·é”®, é˜²æ­¢ä¸ VS Code å¿«æ·é”®å†²çª switcher/hotkeys: - F4 # ä¿®æ”¹ä¸­è‹±åˆ‡æ¢ç›¸å…³å¿«æ·é”®é€»è¾‘ # åˆ‡æ¢ä¸­è‹±ï¼š # ä¸åŒçš„é€‰é¡¹è¡¨ç¤ºï¼šæ‰“å­—æ‰“åˆ°ä¸€åŠæ—¶æŒ‰ä¸‹äº† CapsLockã€Shiftã€Control åï¼š # commit_code ä¸Šå±åŸå§‹çš„ç¼–ç ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # commit_text ä¸Šå±æ‹¼å‡ºçš„è¯å¥ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # clear æ¸…é™¤æœªä¸Šå±å†…å®¹ï¼Œç„¶ååˆ‡æ¢åˆ°è‹±æ–‡ # inline_ascii åˆ‡æ¢åˆ°ä¸´æ—¶è‹±æ–‡æ¨¡å¼ï¼ŒæŒ‰å›è½¦ä¸Šå±åå›åˆ°ä¸­æ–‡çŠ¶æ€ # noop å±è”½å¿«æ·é”®ï¼Œä¸åˆ‡æ¢ä¸­è‹±ï¼Œä½†ä¸è¦å±è”½ CapsLock ascii_composer/switch_key: Caps_Lock: commit_text # commit_code | commit_text | clear Shift_L: noop # commit_code | commit_text | inline_ascii | clear | noop Shift_R: noop # commit_code | commit_text | inline_ascii | clear | noop Control_L: noop # commit_code | commit_text | inline_ascii | clear | noop Control_R: noop # commit_code | commit_text | inline_ascii | clear | noop default.custom.yaml å«ä¹‰ä¸ºä¿®æ”¹é»˜è®¤é…ç½®, __include: rime_ice_suggestion:/ å¯¼å…¥äº†é…ç½®, åœ¨ä¸‹é¢å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ä¸€äº›é”®å€¼. åŒæ ·ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶å®ƒæ–‡ä»¶, æ¯”å¦‚è¦é’ˆå¯¹å°é¹¤åŒæ‹¼ double_pinyin_flypy.schema.yaml æ–¹æ¡ˆå•ç‹¬ä¿®æ”¹, å¯ä»¥åˆ›å»ºæ–‡ä»¶ double_pinyin_flypy.custom.yaml æ¥ä¿®æ”¹, å¦‚ä¸‹ä¸ºä¿®æ”¹è¾“å…¥æ³•é»˜è®¤è‹±æ–‡æ ‡ç‚¹. text patch: # ä¿®æ”¹é»˜è®¤è‹±æ–‡æ ‡ç‚¹ # reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚ # states: æ–¹æ¡ˆé€‰å•æ˜¾ç¤ºçš„åç§°ã€‚å¯ä»¥æ³¨é‡Šæ‰ï¼Œä»å¯ä»¥é€šè¿‡å¿«æ·é”®åˆ‡æ¢ã€‚ # abbrev: é»˜è®¤çš„ç¼©å†™å– states çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œabbrev å¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦ switches: - name: ascii_mode states: [ ä¸­, ï¼¡ ] - name: ascii_punct # ä¸­è‹±æ ‡ç‚¹ states: [ Â¥, $ ] reset: 1 - name: traditionalization states: [ ç®€, ç¹ ] - name: emoji states: [ ğŸ’€, ğŸ˜„ ] reset: 1 - name: full_shape states: [ åŠè§’, å…¨è§’ ] - name: search_single_char # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ states: [æ­£å¸¸, å•å­—] abbrev: [è¯, å•] å…·ä½“é…ç½®è¦†ç›–è¯­æ³•ä¸º: text patch: \"ä¸€çº§è®¾å®šé¡¹/äºŒçº§è®¾å®šé¡¹/ä¸‰çº§è®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å¦ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å†ä¸€ä¸ªè®¾å®šé¡¹\": æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@n\": åˆ—è¡¨ç¬¬nä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ï¼Œä»0å¼€å§‹è®¡æ•° \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@last\": åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ æ–°çš„è®¾å®šå€¼ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@before 0\": åœ¨åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@after last\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/@next\": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾å®šå€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥éªä¸­ä½¿ç”¨ï¼‰ \"å«åˆ—è¡¨çš„è®¾å®šé¡¹/+\": ä¸åˆ—è¡¨åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºåˆ—è¡¨ï¼‰ \"å«å­—å…¸çš„è®¾å®šé¡¹/+\": ä¸å­—å…¸åˆå¹¶çš„è®¾å®šå€¼ï¼ˆå¿…é¡»ä¸ºå­—å…¸ï¼Œæ³¨æ„YAMLå­—å…¸çš„æ— åºæ€§ï¼‰ ç„¶åç‚¹å‡»æ‰˜ç›˜å›¾æ ‡é‡æ–°éƒ¨ç½², ä¹‹åæ¨èåœ¨ fcitx5 é…ç½®ç•Œé¢ä¸­åˆ é™¤æ‰€æœ‰å…¨å±€å¿«æ·é”®é¿å…ä¸ niri å†²çª, ç„¶åé…ç½®è‡ªå·±éœ€è¦çš„å¿«æ·é”®. ç”¨æˆ·ç›®å½• ~/.local/share/fcitx5/rime/ ä¸‹æœ‰ installation.yaml , è¿™æ˜¯åŒæ­¥ç›¸å…³é…ç½®çš„æ–‡ä»¶, éœ€è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªé”®å€¼. text # æœ¬æœºçš„ ID æ ‡å¿—, é»˜è®¤æ˜¯ä¸€ä¸² UUID # åŒæ­¥ç›®å½•æœ¬æœºç”Ÿæˆçš„æ–‡ä»¶å¤¹æ˜¯è¿™ä¸ªåå­—, å¯ä»¥æ”¹æˆæ›´å¥½è¯†åˆ«çš„åç§° installation_id: \"Arch-001\" # åŒæ­¥çš„è·¯å¾„, å¦‚æœä¸é…ç½®, é»˜è®¤æ˜¯å½“å‰é…ç½®ç›®å½•ä¸‹çš„ `sync/` sync_dir: \"/file/path/sync\" ç‚¹å‡»æ‰˜ç›˜çš„åŒæ­¥æŒ‰é’®å, rime ä¼šå…ˆåœ¨åŒæ­¥ç›®å½•ä¸­æœç´¢å¹¶åˆå¹¶å…¶å®ƒç”¨æˆ·è¯å…¸, åˆå¹¶åˆ°æœ¬åœ°, ç„¶åé‡æ–°ç”Ÿæˆæœ¬æœºæœ€æ–°ç‰ˆçš„ç”¨æˆ·è¯å…¸åˆ°åŒæ­¥ç›®å½•. Linux ä¸‹ Rime çš„å¤–è§‚è¢« Fcitx5 æ¥ç®¡, ä¸åƒ Win æˆ–è€… MacOS å¹³å°ä¸€æ ·å¯ä»¥åœ¨ Rime é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¤–è§‚, éœ€è¦åœ¨ Fcitx5 ä¸­é…ç½®. è¿è¡Œ \" Fcitx5 é…ç½®\" å¯ä»¥åœ¨ â€œé™„åŠ ç»„ä»¶ -\u003e ç»å…¸ç”¨æˆ·ç•Œé¢â€ ä¸­è°ƒæ•´å­—ä½“ä»¥åŠå…¶å®ƒå¤–è§‚, 4K åˆ†è¾¨ç‡ 1.5 å€ç¼©æ”¾ä¸‹ 12-14 æ¯”è¾ƒå¥½, çš®è‚¤å¯ä»¥è‡ªè¡Œé€‰æ‹©, è¿™é‡Œé€‰æ‹©ä»¥ä¸‹çš®è‚¤, yay ä¸‹è½½åå°±å¯ä»¥åœ¨ç•Œé¢ä¸­é€‰æ‹©. text yay -S fcitx5-skin-ori-git ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:17:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…è¾“å…¥æ³•"},{"categories":null,"content":" å®‰è£…ç»ˆç«¯æ–‡ä»¶æµè§ˆå™¨yazi æ˜¯ä¸€æ¬¾ç»ˆç«¯ä¸­ä½¿ç”¨çš„æ–‡ä»¶æµè§ˆå™¨. bash yay -S yazi ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:18:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…ç»ˆç«¯æ–‡ä»¶æµè§ˆå™¨"},{"categories":null,"content":" å®‰è£… Visual Studio Code bash yay -S aur/visual-studio-code-bin Visual Studio Code æœ‰å¾ˆå¤šä¸åŒç‰ˆæœ¬, extra/code æ˜¯ Arch Linux å®˜æ–¹ç¼–è¯‘ç‰ˆæœ¬, aur/vscodium æ˜¯ç¤¾åŒºå»é™¤é¥æµ‹çš„ç¼–è¯‘ç‰ˆæœ¬, ç”±äºå¾®è½¯é™åˆ¶, å®ƒä»¬å’Œ Visual Studio Code ä½¿ç”¨ä¸åŒæ’ä»¶å¸‚åœº, ä»æ–¹ä¾¿è§’åº¦æ¥çœ‹è¿™é‡Œä¸‹è½½ aur/visual-studio-code-bin . ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:19:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…-visual-studio-code"},{"categories":null,"content":" å®‰è£…å¾®ä¿¡ text yay -S wechat å®æµ‹åˆ°ç›®å‰(2026-01-13)åœ¨ Wayland ä¸‹è¿è¡Œå·²ç»å¾ˆå®Œç¾äº†, åŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:20:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…å¾®ä¿¡"},{"categories":null,"content":" å®‰è£… LogseqLogseq æ˜¯ä¸€ä¸ªå¼€æºåŒé“¾ç¬”è®°åº”ç”¨. text yay -S aur/logseq-desktop-bin æˆ‘å®‰è£…äº† Logseq journals calendar æ’ä»¶å’Œ bonofix ä¸»é¢˜ ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:21:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…-logseq"},{"categories":null,"content":" å®‰è£…æµè§ˆå™¨EndeavourOS åº”è¯¥æ˜¯è‡ªå¸¦ Firefox çš„, å¯ä»¥ç™»å½•é…ç½®, ä¹Ÿå¯ä»¥å®‰è£… Chrome ç³»æµè§ˆå™¨. sh yay -S chromium è¿™ä¸ªæ˜¯åŸºäº Chrome çš„å¼€æºå†…æ ¸çš„å¼€æºæµè§ˆå™¨, ç”¨èµ·æ¥å’Œ Chrome æ²¡ä»€ä¹ˆä¸åŒ. å®‰è£… Firefox å’Œå®ƒçš„ä¸­æ–‡è¯­è¨€åŒ…, é¿å…æ¯æ¬¡æ›´æ–° Firefo è‡ªåŠ¨åˆ‡å›è‹±æ–‡: sh yay -S firefox firefox-i18n-zh-cn æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è®© DMS æˆä¸ºé»˜è®¤æµè§ˆå™¨çš„é€‰æ‹©è€…: bash xdg-settings set default-web-browser dms-open.desktop å¦‚æœæŠ¥é”™xdg-settings: $BROWSER is set and can't be changed with xdg-settings, é‚£æ˜¯ /etc/environment/~/.profile/~/.bashrc æˆ–è€…å…¶å®ƒçš„åœ°æ–¹æœ‰$BROWSERç¯å¢ƒå˜é‡å·²ç»è¢«é…ç½®äº†, ä¸€èˆ¬æ–°ç³»ç»Ÿå°±æ˜¯ EndeavourOS é»˜è®¤åœ¨/etc/environmentå†™å…¥äº†BROWSER=firefox, åˆ é™¤å³å¯. ä¹Ÿå¯ä»¥é…ç½®ä¸ºå…¶å®ƒè‡ªå·±æƒ³è¦çš„æµè§ˆå™¨. åˆ é™¤ä¹‹åéœ€è¦é‡å¯æ‰èƒ½å»æ‰è¿™ä¸ªç¯å¢ƒå˜é‡, å¯ä»¥å…ˆåœ¨ç»ˆç«¯unset BROWSERç„¶åæ‰§è¡Œ. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:22:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…æµè§ˆå™¨"},{"categories":null,"content":" å®‰è£…éŸ³ä¹è½¯ä»¶ text yay -S yesplaymusic YesPlayMusic å¯ä»¥æ’­æ”¾å¤šå¹³å°éŸ³ä¹, ä¹Ÿå¯ä»¥ç™»å½•ç½‘æ˜“äº‘éŸ³ä¹è´¦å·. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:23:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…éŸ³ä¹è½¯ä»¶"},{"categories":null,"content":" å®‰è£…è…¾è®¯ä¼šè®® text yay -S wemeet è…¾è®¯ä¼šè®®ç°åœ¨æœ‰åŸç”Ÿ Wayland ç‰ˆæœ¬äº†, ä½†æ˜¯åœ¨ niri ä¸‹æ— æ³•å±å¹•å…±äº«, åœ¨ KDE å’Œ Gnome ä¸‹æ˜¯å¯ä»¥çš„, æ®è¯´åœ¨ Hyprland ä¹Ÿå¯ä»¥, å¦‚æœæœ‰éœ€è¦å¯ä»¥åˆ‡æ¢å…¶å®ƒæ¡Œé¢ä½¿ç”¨, æˆ–è€…ä½¿ç”¨ OBS è½¬æ¥çš„æ–¹å¼å…±äº«å±å¹•, å¯ä»¥è‡ªè¡Œæœç´¢. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:24:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…è…¾è®¯ä¼šè®®"},{"categories":null,"content":" å®‰è£… WPS text yay -S wps-office-cn wps-office-mui-zh-cn ttf-wps-fonts freetype2-wps libtiff5 ttf-ms-fonts freetype2-wps å¯ä»¥é˜²æ­¢éƒ¨åˆ†ä¸­æ–‡å­—ä½“è¿‡ç²—. libtiff5 é˜²æ­¢éƒ¨åˆ† PDF æ— æ³•æ‰“å¼€æˆ–å¯¼å‡º. ttf-ms-fonts æ˜¯å¾®è½¯å­—ä½“, é˜²æ­¢ Win ä¸‹ç¼–å†™çš„æ–‡æ¡£å­—ä½“æ˜¾ç¤ºé”™è¯¯. cupsæ˜¯é€šç”¨ Unix æ‰“å°ç³»ç»Ÿ, æœ‰æ‰“å°éœ€æ±‚å¯ä»¥è£…. WPS åœ¨ Wayland ä¸‹ä¸ä¼šéµå¾ªç³»ç»Ÿç¼©æ”¾, å¯ä»¥é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡ QT_SCALE_FACTOR=1.5 æ¥è®©å®ƒå¼ºåˆ¶ç¼©æ”¾, ä¸è¿‡è¿™æ ·å›¾æ ‡æ¨¡ç³Š, æœ‰éœ€è¦å¯ä»¥è‡ªè¡Œä¿®æ”¹ WPS å¯åŠ¨æ–‡ä»¶. ","date":"2026-01-13","objectID":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:25:0","series":null,"tags":null,"title":"ArchLinux å®‰è£…é…ç½®","uri":"/posts/linux/archlinux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#å®‰è£…-wps"},{"categories":null,"content":" é¡¹ç›®ä¸åŒ…å«C/C++ä¾èµ–çš„Crateå¦‚æœä¾èµ–ä¸åŒ…å«C/C++ä¾èµ–, Rustçš„äº¤å‰ç¼–è¯‘éå¸¸ç®€å•, ä¾‹å¦‚éœ€è¦ç¼–è¯‘aarch64å¹³å°çš„é™æ€é“¾æ¥äº§ç‰©, åªéœ€è¦: rustup target add aarch64-unknown-linux-musl, æ·»åŠ ç›¸å…³å·¥å…·é“¾ (*-muslä¸ºé™æ€é“¾æ¥ç‰ˆæœ¬, è€Œaarch64-unknown-linux-gnuä¸€èˆ¬ä¸ºç¼–è¯‘åŠ¨æ€é“¾æ¥çš„ç›®æ ‡, å…·ä½“å·®å¼‚å¯ä»¥æŸ¥è¯¢\"gcc vs musl\") cargo build --release --target aarch64-unknown-linux-musl, ç¼–è¯‘äº§ç‰© ä¼ è¾“åˆ°ç›®æ ‡å¹³å°å, ä½¿ç”¨ldd \u003cfilename\u003eå³å¯æ£€æŸ¥æ˜¯å¦æœ‰åŠ¨æ€ä¾èµ–, è¾“å‡ºstatically linkedå³ä¸ºæˆåŠŸé™æ€é“¾æ¥ ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:1:0","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#é¡¹ç›®ä¸åŒ…å«ccä¾èµ–çš„crate"},{"categories":null,"content":" å¯ä»¥æŒ‡å®šä¸ä½¿ç”¨C/C++ä¾èµ–çš„Crateä¾‹å¦‚Rustä¸­æ¯”è¾ƒæµè¡Œçš„HTTPå®¢æˆ·ç«¯reqwest, å¯ä»¥æŒ‡å®šæ›¿æ¢åº•å±‚çš„OpenSSLä¸ºrustls-tls, è§„é¿Cä»£ç ä¾èµ–, åœ¨Cargo.tomlä¸­æ·»åŠ å¦‚ä¸‹features: toml reqwest = { version = \"0.12\", features = [\"rustls-tls\"], default-features = false } å³å¯æŒ‡å®šä½¿ç”¨rustls-tls, ä»è€Œé¡ºåˆ©ç¼–è¯‘å’Œé™æ€é“¾æ¥, ä¸€èˆ¬æ¯”è¾ƒæµè¡Œçš„Crateéƒ½æ”¯æŒæ›¿æ¢rustls-tls, å¯ä»¥è‡ªè¡Œå»æ–‡æ¡£æˆ–è€…é¡¹ç›®ä»£ç ReadmeæŸ¥çœ‹. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:2:0","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#å¯ä»¥æŒ‡å®šä¸ä½¿ç”¨ccä¾èµ–çš„crate"},{"categories":null,"content":" é¡¹ç›®åŒ…å«æœ‰C/C++ä¾èµ–çš„CrateåŒ…å«C/C++ä¾èµ–çš„é¡¹ç›®äº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥è¾ƒä¸ºå¤æ‚, ä¸€èˆ¬åˆ†ä¸ºæœ¬æœºç¼–è¯‘å’Œå®¹å™¨ç¼–è¯‘ä¸¤ç§æ–¹æ¡ˆ, ä¸‹é¢ä»¥ffmpeg-nextä¸ºä¾‹, åˆ†åˆ«è®²è®²ä¸¤ç§ç¼–è¯‘æ–¹æ³•. é¦–å…ˆåœ¨Cargo.tomlä¸­æ·»åŠ å¦‚ä¸‹: toml ffmpeg-next = {version = \"7.1.0\", features = [\"build\"]} ffmpeg-nexté»˜è®¤åŠ¨æ€é“¾æ¥åˆ°æœ¬æœºçš„FFmpegç›¸å…³Lib, å¼€å¯features = [\"build\"]ç‰¹æ€§, å³å¯å…‹éš†ä»£ç ç¼–è¯‘å¹¶é™æ€ä¾èµ–. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:0","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#é¡¹ç›®åŒ…å«æœ‰ccä¾èµ–çš„crate"},{"categories":null,"content":" æœ¬æœºç¼–è¯‘ å®‰è£…è½¯ä»¶ä»“åº“ä¸­çš„muslå·¥å…·é“¾é¦–å…ˆéœ€è¦åœ¨æœ¬æœºå®‰è£…musläº¤å‰ç¼–è¯‘å·¥å…·é“¾, ä»¥ArchLinuxä¸ºä¾‹, AURä¸­æœ‰ç”¨æˆ·ä¸Šä¼ çš„aarch64-linux-muslå¹³å°å·¥å…·é“¾, ä½¿ç”¨å‘½ä»¤å®‰è£…: sh yay -S aur/aarch64-linux-musl-cross-bin ä¸åŒå¹³å°åç§°ä¸ä¸€è‡´, éœ€è¦è‡ªè¡ŒæŸ¥è¯¢. è‡ªè¡Œç¼–è¯‘muslå·¥å…·é“¾å¦‚æœå¯¹åº”å¹³å°æ²¡æœ‰ç¼–è¯‘å¥½çš„ç›¸å…³å·¥å…·é“¾, åˆ™éœ€è¦è‡ªè¡Œç¼–è¯‘, é¦–å…ˆå…‹éš†ä»£ç : sh git clone https://github.com/richfelker/musl-cross-make.git cd musl-cross-make ç„¶åç¼–å†™ç¼–è¯‘é…ç½®, åœ¨æ ¹ç›®å½•åˆ›å»ºconfig.mak, å†™å…¥: makefile TARGET = x86_64-linux-musl OUTPUT = /usr/bin/ COMMON_CONFIG += CFLAGS=\"-g0 -Os\" CXXFLAGS=\"-g0 -Os\" LDFLAGS=\"-s\" GCC_CONFIG += --enable-default-pie --enable-static-pie å…¶ä¸­TARGETæ˜¯ç›®æ ‡å¹³å°, OUTPUTæ˜¯äº§ç‰©è¾“å‡ºç›®å½•, æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹; COMMON_CONFIGå’ŒGCC_CONFIGæ˜¯ç¼–è¯‘é…ç½®, å«ä¹‰å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢. æ›´å¤šä¿¡æ¯åœ¨æ ¹ç›®å½•config.mak.distè®°è½½. ç„¶åmakeç¼–è¯‘, ç¼–è¯‘æ—¶é—´å¯èƒ½ä¼šå¾ˆé•¿, ç­‰å¾…ç¼–è¯‘å®Œæˆå, make installä¼šæŠŠäº§ç‰©è¾“å‡ºåˆ°é…ç½®çš„ç›®å½•ä¸­. ä¹‹åæŠŠäº§ç‰©çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­, å³å¯å®Œæˆå·¥å…·é“¾é…ç½®. ç¼–è¯‘å¦‚æœå·¥å…·é…ç½®æ²¡æœ‰é—®é¢˜, ä»¥x86_64-unknown-linux-muslç›®æ ‡ä¸ºä¾‹, è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ç¼–è¯‘å®Œæˆ: sh cargo build --release --target x86_64-unknown-linux-musl ä½†æ˜¯FFmpegæœ‰ä¸€éƒ¨åˆ†å†…è”æ±‡ç¼–ä¼˜åŒ–, æ‰€ä»¥ffmpeg-nextç¼–è¯‘æ—¶, ç¼ºå°‘æ±‡ç¼–å™¨ä¼šæŠ¥é”™, è¿˜éœ€è¦å®‰è£…æ±‡ç¼–å™¨, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…: sh # Arch yay -S yasm nasm # Debian/Ubuntu sudo apt install yasm nasm å…¶å®ƒå¹³å°è‡ªè¡ŒæŸ¥è¯¢, å®‰è£…å®Œæˆå, è¿è¡Œç¼–è¯‘å‘½ä»¤, å³å¯é¡ºåˆ©ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:1","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#æœ¬æœºç¼–è¯‘"},{"categories":null,"content":" æœ¬æœºç¼–è¯‘ å®‰è£…è½¯ä»¶ä»“åº“ä¸­çš„muslå·¥å…·é“¾é¦–å…ˆéœ€è¦åœ¨æœ¬æœºå®‰è£…musläº¤å‰ç¼–è¯‘å·¥å…·é“¾, ä»¥ArchLinuxä¸ºä¾‹, AURä¸­æœ‰ç”¨æˆ·ä¸Šä¼ çš„aarch64-linux-muslå¹³å°å·¥å…·é“¾, ä½¿ç”¨å‘½ä»¤å®‰è£…: sh yay -S aur/aarch64-linux-musl-cross-bin ä¸åŒå¹³å°åç§°ä¸ä¸€è‡´, éœ€è¦è‡ªè¡ŒæŸ¥è¯¢. è‡ªè¡Œç¼–è¯‘muslå·¥å…·é“¾å¦‚æœå¯¹åº”å¹³å°æ²¡æœ‰ç¼–è¯‘å¥½çš„ç›¸å…³å·¥å…·é“¾, åˆ™éœ€è¦è‡ªè¡Œç¼–è¯‘, é¦–å…ˆå…‹éš†ä»£ç : sh git clone https://github.com/richfelker/musl-cross-make.git cd musl-cross-make ç„¶åç¼–å†™ç¼–è¯‘é…ç½®, åœ¨æ ¹ç›®å½•åˆ›å»ºconfig.mak, å†™å…¥: makefile TARGET = x86_64-linux-musl OUTPUT = /usr/bin/ COMMON_CONFIG += CFLAGS=\"-g0 -Os\" CXXFLAGS=\"-g0 -Os\" LDFLAGS=\"-s\" GCC_CONFIG += --enable-default-pie --enable-static-pie å…¶ä¸­TARGETæ˜¯ç›®æ ‡å¹³å°, OUTPUTæ˜¯äº§ç‰©è¾“å‡ºç›®å½•, æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹; COMMON_CONFIGå’ŒGCC_CONFIGæ˜¯ç¼–è¯‘é…ç½®, å«ä¹‰å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢. æ›´å¤šä¿¡æ¯åœ¨æ ¹ç›®å½•config.mak.distè®°è½½. ç„¶åmakeç¼–è¯‘, ç¼–è¯‘æ—¶é—´å¯èƒ½ä¼šå¾ˆé•¿, ç­‰å¾…ç¼–è¯‘å®Œæˆå, make installä¼šæŠŠäº§ç‰©è¾“å‡ºåˆ°é…ç½®çš„ç›®å½•ä¸­. ä¹‹åæŠŠäº§ç‰©çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­, å³å¯å®Œæˆå·¥å…·é“¾é…ç½®. ç¼–è¯‘å¦‚æœå·¥å…·é…ç½®æ²¡æœ‰é—®é¢˜, ä»¥x86_64-unknown-linux-muslç›®æ ‡ä¸ºä¾‹, è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ç¼–è¯‘å®Œæˆ: sh cargo build --release --target x86_64-unknown-linux-musl ä½†æ˜¯FFmpegæœ‰ä¸€éƒ¨åˆ†å†…è”æ±‡ç¼–ä¼˜åŒ–, æ‰€ä»¥ffmpeg-nextç¼–è¯‘æ—¶, ç¼ºå°‘æ±‡ç¼–å™¨ä¼šæŠ¥é”™, è¿˜éœ€è¦å®‰è£…æ±‡ç¼–å™¨, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…: sh # Arch yay -S yasm nasm # Debian/Ubuntu sudo apt install yasm nasm å…¶å®ƒå¹³å°è‡ªè¡ŒæŸ¥è¯¢, å®‰è£…å®Œæˆå, è¿è¡Œç¼–è¯‘å‘½ä»¤, å³å¯é¡ºåˆ©ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:1","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#å®‰è£…è½¯ä»¶ä»“åº“ä¸­çš„muslå·¥å…·é“¾"},{"categories":null,"content":" æœ¬æœºç¼–è¯‘ å®‰è£…è½¯ä»¶ä»“åº“ä¸­çš„muslå·¥å…·é“¾é¦–å…ˆéœ€è¦åœ¨æœ¬æœºå®‰è£…musläº¤å‰ç¼–è¯‘å·¥å…·é“¾, ä»¥ArchLinuxä¸ºä¾‹, AURä¸­æœ‰ç”¨æˆ·ä¸Šä¼ çš„aarch64-linux-muslå¹³å°å·¥å…·é“¾, ä½¿ç”¨å‘½ä»¤å®‰è£…: sh yay -S aur/aarch64-linux-musl-cross-bin ä¸åŒå¹³å°åç§°ä¸ä¸€è‡´, éœ€è¦è‡ªè¡ŒæŸ¥è¯¢. è‡ªè¡Œç¼–è¯‘muslå·¥å…·é“¾å¦‚æœå¯¹åº”å¹³å°æ²¡æœ‰ç¼–è¯‘å¥½çš„ç›¸å…³å·¥å…·é“¾, åˆ™éœ€è¦è‡ªè¡Œç¼–è¯‘, é¦–å…ˆå…‹éš†ä»£ç : sh git clone https://github.com/richfelker/musl-cross-make.git cd musl-cross-make ç„¶åç¼–å†™ç¼–è¯‘é…ç½®, åœ¨æ ¹ç›®å½•åˆ›å»ºconfig.mak, å†™å…¥: makefile TARGET = x86_64-linux-musl OUTPUT = /usr/bin/ COMMON_CONFIG += CFLAGS=\"-g0 -Os\" CXXFLAGS=\"-g0 -Os\" LDFLAGS=\"-s\" GCC_CONFIG += --enable-default-pie --enable-static-pie å…¶ä¸­TARGETæ˜¯ç›®æ ‡å¹³å°, OUTPUTæ˜¯äº§ç‰©è¾“å‡ºç›®å½•, æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹; COMMON_CONFIGå’ŒGCC_CONFIGæ˜¯ç¼–è¯‘é…ç½®, å«ä¹‰å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢. æ›´å¤šä¿¡æ¯åœ¨æ ¹ç›®å½•config.mak.distè®°è½½. ç„¶åmakeç¼–è¯‘, ç¼–è¯‘æ—¶é—´å¯èƒ½ä¼šå¾ˆé•¿, ç­‰å¾…ç¼–è¯‘å®Œæˆå, make installä¼šæŠŠäº§ç‰©è¾“å‡ºåˆ°é…ç½®çš„ç›®å½•ä¸­. ä¹‹åæŠŠäº§ç‰©çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­, å³å¯å®Œæˆå·¥å…·é“¾é…ç½®. ç¼–è¯‘å¦‚æœå·¥å…·é…ç½®æ²¡æœ‰é—®é¢˜, ä»¥x86_64-unknown-linux-muslç›®æ ‡ä¸ºä¾‹, è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ç¼–è¯‘å®Œæˆ: sh cargo build --release --target x86_64-unknown-linux-musl ä½†æ˜¯FFmpegæœ‰ä¸€éƒ¨åˆ†å†…è”æ±‡ç¼–ä¼˜åŒ–, æ‰€ä»¥ffmpeg-nextç¼–è¯‘æ—¶, ç¼ºå°‘æ±‡ç¼–å™¨ä¼šæŠ¥é”™, è¿˜éœ€è¦å®‰è£…æ±‡ç¼–å™¨, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…: sh # Arch yay -S yasm nasm # Debian/Ubuntu sudo apt install yasm nasm å…¶å®ƒå¹³å°è‡ªè¡ŒæŸ¥è¯¢, å®‰è£…å®Œæˆå, è¿è¡Œç¼–è¯‘å‘½ä»¤, å³å¯é¡ºåˆ©ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:1","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#è‡ªè¡Œç¼–è¯‘muslå·¥å…·é“¾"},{"categories":null,"content":" æœ¬æœºç¼–è¯‘ å®‰è£…è½¯ä»¶ä»“åº“ä¸­çš„muslå·¥å…·é“¾é¦–å…ˆéœ€è¦åœ¨æœ¬æœºå®‰è£…musläº¤å‰ç¼–è¯‘å·¥å…·é“¾, ä»¥ArchLinuxä¸ºä¾‹, AURä¸­æœ‰ç”¨æˆ·ä¸Šä¼ çš„aarch64-linux-muslå¹³å°å·¥å…·é“¾, ä½¿ç”¨å‘½ä»¤å®‰è£…: sh yay -S aur/aarch64-linux-musl-cross-bin ä¸åŒå¹³å°åç§°ä¸ä¸€è‡´, éœ€è¦è‡ªè¡ŒæŸ¥è¯¢. è‡ªè¡Œç¼–è¯‘muslå·¥å…·é“¾å¦‚æœå¯¹åº”å¹³å°æ²¡æœ‰ç¼–è¯‘å¥½çš„ç›¸å…³å·¥å…·é“¾, åˆ™éœ€è¦è‡ªè¡Œç¼–è¯‘, é¦–å…ˆå…‹éš†ä»£ç : sh git clone https://github.com/richfelker/musl-cross-make.git cd musl-cross-make ç„¶åç¼–å†™ç¼–è¯‘é…ç½®, åœ¨æ ¹ç›®å½•åˆ›å»ºconfig.mak, å†™å…¥: makefile TARGET = x86_64-linux-musl OUTPUT = /usr/bin/ COMMON_CONFIG += CFLAGS=\"-g0 -Os\" CXXFLAGS=\"-g0 -Os\" LDFLAGS=\"-s\" GCC_CONFIG += --enable-default-pie --enable-static-pie å…¶ä¸­TARGETæ˜¯ç›®æ ‡å¹³å°, OUTPUTæ˜¯äº§ç‰©è¾“å‡ºç›®å½•, æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹; COMMON_CONFIGå’ŒGCC_CONFIGæ˜¯ç¼–è¯‘é…ç½®, å«ä¹‰å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢. æ›´å¤šä¿¡æ¯åœ¨æ ¹ç›®å½•config.mak.distè®°è½½. ç„¶åmakeç¼–è¯‘, ç¼–è¯‘æ—¶é—´å¯èƒ½ä¼šå¾ˆé•¿, ç­‰å¾…ç¼–è¯‘å®Œæˆå, make installä¼šæŠŠäº§ç‰©è¾“å‡ºåˆ°é…ç½®çš„ç›®å½•ä¸­. ä¹‹åæŠŠäº§ç‰©çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­, å³å¯å®Œæˆå·¥å…·é“¾é…ç½®. ç¼–è¯‘å¦‚æœå·¥å…·é…ç½®æ²¡æœ‰é—®é¢˜, ä»¥x86_64-unknown-linux-muslç›®æ ‡ä¸ºä¾‹, è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ç¼–è¯‘å®Œæˆ: sh cargo build --release --target x86_64-unknown-linux-musl ä½†æ˜¯FFmpegæœ‰ä¸€éƒ¨åˆ†å†…è”æ±‡ç¼–ä¼˜åŒ–, æ‰€ä»¥ffmpeg-nextç¼–è¯‘æ—¶, ç¼ºå°‘æ±‡ç¼–å™¨ä¼šæŠ¥é”™, è¿˜éœ€è¦å®‰è£…æ±‡ç¼–å™¨, ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…: sh # Arch yay -S yasm nasm # Debian/Ubuntu sudo apt install yasm nasm å…¶å®ƒå¹³å°è‡ªè¡ŒæŸ¥è¯¢, å®‰è£…å®Œæˆå, è¿è¡Œç¼–è¯‘å‘½ä»¤, å³å¯é¡ºåˆ©ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:1","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#ç¼–è¯‘"},{"categories":null,"content":" å®¹å™¨ç¼–è¯‘å®¹å™¨ç¼–è¯‘æ˜¯ä½¿ç”¨Dockeræˆ–è€…Podmanå®¹å™¨æ¥è¿›è¡Œäº¤å‰ç¼–è¯‘, ç›¸æ¯”åœ¨æœ¬æœºé…ç½®ç¼–è¯‘å·¥å…·é“¾, æ›´åŠ æ–¹ä¾¿å¿«æ·, ä¸”æ›´åŠ å®¹æ˜“é›†æˆåˆ°CI/CDæµç¨‹ä¸­, æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼, ç›®å‰æœ‰æŸ¥åˆ°æ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ä¸ªé¡¹ç›®, cross å’Œ rust-musl-cross, ä»¥ä¸‹åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹æ¡ˆ. rust-musl-cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æ˜¯æä¾›ä¸€äº›é¢„æ„å»ºçš„ç¼–è¯‘ç¯å¢ƒ, æ¥å®ç°Rusté¡¹ç›®çš„äº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥. é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•, ç¡®ä¿å¯åŠ¨Docker, æˆ–è€…é…ç½®å¥½Podman, ç„¶åæ‹‰å–å¯¹åº”ç›®æ ‡é•œåƒ: sh docker pull messense/rust-musl-cross:x86_64-musl è¿™é‡Œæ‹‰å–äº†x86_64-muslç›®æ ‡, æ›´å¤šçš„ç›®æ ‡å¹³å°å¯ä»¥å‚è€ƒé¡¹ç›®GitHubä¸»é¡µReadme. ç„¶åè¿è¡Œå‘½ä»¤ç¼–è¯‘: sh docker run --rm -it -v \"$(pwd)\":/home/rust/src messense/rust-musl-cross:x86_64-musl cargo build --release å¦‚æœéœ€è¦å®‰è£…yasm/nasmç­‰å¤–éƒ¨ä¾èµ–, å¯ä»¥è‡ªè¡Œç¼–å†™Dockerfile, æ„å»ºè‡ªå·±çš„ç¼–è¯‘é•œåƒ. è¿™ç§æ–¹æ¡ˆä½¿ç”¨ç®€å•, è´´è¿‘åŸç”Ÿå®¹å™¨, å¯ä»¥è‡ªè¡Œæ„å»ºå®¹å™¨ç»†èŠ‚, ä½†é•¿æœŸä½¿ç”¨ä¸å¤ªæ–¹ä¾¿. cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æä¾›å‘½ä»¤è¡Œå·¥å…·cross, æ¥è¿›è¡Œ\"é›¶é…ç½®\"çš„äº¤å‰ç¼–è¯‘å’Œäº¤å‰æµ‹è¯•. é¦–å…ˆå®‰è£…æ­¤å·¥å…·: sh # Cargoå®‰è£… cargo install cross # ArchåŒ…ç®¡ç†å™¨å®‰è£… sudo pacman -S extra/cross ç„¶åä¿è¯Docker/Podmanæ­£å¸¸é…ç½®, crossä¼šè‡ªåŠ¨æ£€æµ‹, ä¼˜å…ˆä½¿ç”¨Docker, æ™®é€šé¡¹ç›®å°±å¯ä»¥ç›´æ¥è¿è¡Œç¼–è¯‘å‘½ä»¤: sh cross build --release --target x86_64-unknown-linux-musl ä¸cargoçš„å‘½ä»¤æ ¼å¼å®Œå…¨å…¼å®¹, å®é™…å·¥ä½œåŸç†å°±æ˜¯å°†åç»­å‘½ä»¤å‚æ•°ä¼ é€’ç»™å®¹å™¨å†…éƒ¨çš„cargo. åƒffmpeg-nextè¿™ç§æœ‰å¤–éƒ¨ä¾èµ–çš„, éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¤–éƒ¨ä¾èµ–çš„å®‰è£…é€‰é¡¹, åœ¨Cargo.tomlåŒçº§ç›®å½•åˆ›å»ºCross.toml, å†™å…¥å†…å®¹: toml [build] pre-build = [ \"apt-get update \u0026\u0026 apt-get -y install yasm nasm\", ] è¿™ä¼šåœ¨æ„å»ºé•œåƒæ—¶å¢åŠ ä¸€å±‚å†…å®¹ä¸ºapt-get update \u0026\u0026 apt-get -y install yasm nasmçš„image lable. å¦‚æœç¯å¢ƒæ²¡æœ‰é—®é¢˜, å†æ¬¡è¿è¡Œç¼–è¯‘å‘½ä»¤å³å¯æ­£å¸¸æ„å»º. crosså°è£…ç¨‹åº¦è¾ƒé«˜, ä½¿ç”¨ç›¸æ¯”rust-musl-crossæ›´åŠ ä¸æ»‘, ä½†æ˜¯å°è£…ç¨‹åº¦è¿‡é«˜å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›å¥‡æ€ªçš„é—®é¢˜, å°¤å…¶æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«ä¸é‚£ä¹ˆæµè¡Œ, ç½‘ç»œèµ„æ–™å¾ˆå°‘, æ–‡æ¡£ä¸­æ²¡æœ‰çš„è¯, åªèƒ½é é˜…è¯»æºç æ¥å®šä½é—®é¢˜. HTTPS_PROXY ä»£ç†é—®é¢˜åœ¨æˆ‘æœ¬æœºç¯å¢ƒä¸­å°±é‡åˆ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜, å®¹å™¨ä¸­ffmpeg-nextç›¸å…³ä¾èµ–ç¼–è¯‘çš„æ—¶å€™ä¼šå°è¯•git clone https://github.com/FFmpeg/FFmpeg, ä½†æ˜¯å®ƒæ€»æ˜¯è¯·æ±‚127.0.0.1:7897ä»£ç†, å®¿ä¸»æœºåœ¨/etc/environmentæœ‰è¿™ä¸ªé…ç½®: sh HTTPS_PROXY=http://127.0.0.1:7897 HTTP_PROXY=http://127.0.0.1:7897 ALL_PROXY=socks5://127.0.0.1:7897 ä½†æ˜¯å®¹å™¨ä¸­æˆ‘å¹¶æ²¡æœ‰ä»»ä½•é…ç½®, gitè‡ªèº«æ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, Dockerä¹Ÿæ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, æ¢ç”¨Podmanä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µ, å»æ‰/etc/environmentä¸­çš„ä»£ç†å†…å®¹, å³å¯æ­£å¸¸ç¼–è¯‘, åœ¨Cross.tomlå†™å…¥å†…å®¹: toml [build.env] passthrough = [ \"HTTP_PROXY=http://172.17.0.1:7897\", \"HTTPS_PROXY=http://172.17.0.1:7897\", \"http_proxy=http://172.17.0.1:7897\", \"https_proxy=http://172.17.0.1:7897\", ] è¿è¡Œæ—¶docker psæ£€æŸ¥å®¹å™¨, æ‰¾åˆ°crossä½¿ç”¨çš„å®¹å™¨id, æ‰§è¡Œå‘½ä»¤docker inspect fb8911c1cc88 \u003e cross_container_info.json, æŸ¥çœ‹ç¯å¢ƒå˜é‡, ç¡®å®æœ‰ç›¸å…³ç¯å¢ƒå˜é‡ json // ... \"Env\": [ \"HTTPS_PROXY=http://127.0.0.1:7897\", \"XARGO_HOME=/xargo\", // ... \"USER=lixp\", \"HTTP_PROXY=http://172.17.0.1:7897\", \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", // ... ], // ... HTTPS_PROXYä½¿ç”¨äº†http://127.0.0.1:7897, è€Œæ²¡æœ‰è¢«è¦†ç›–, ä¼¼ä¹æ˜¯åœ¨å“ªä¸€æ­¥è¢«æ›´é«˜ä¼˜å…ˆçº§çš„æ“ä½œè¦†ç›–äº†, æŸ¥çœ‹crossæºç , åœ¨src/docker/shared.rsä¸‹å‘ç°: rust impl DockerCommandExt for Command { fn add_configuration_envvars(\u0026mut self) { let other = \u0026[ \"http_proxy\", \"TERM\", \"RUSTDOCFLAGS\", \"RUSTFLAGS\", \"BROWSER\", \"HTTPS_PROXY\", \"HTTP_TIMEOUT\", \"https_proxy\", \"QEMU_STRACE\", ]; let cargo_prefix_skip = \u0026[ \"CARGO_HOME\", \"CARGO_TARGET_DIR\", \"CARGO_BUILD_TARGET_DIR\", \"CARGO_BUILD_RUSTC\", \"CARGO_BUILD_RUSTC_WRAPPER\", \"CARGO_BUILD_RUSTC_WORKSPACE_WRAPPER\", \"CARGO_BUILD_RUSTDOC\", ]; let cross_prefix_skip = \u0026[ \"CROSS_RUNNER\", \"CROSS_RUSTC_MAJOR_VERSION\", \"CROSS_RUSTC_MINOR_VERSION\", \"CROSS_RUSTC_PATCH_VERSION\", ]; let is_passthrough = |key: \u0026str| -\u003e bool { other.contains(\u0026key) || key.starts_with(\"CARGO_\") \u0026\u0026 !cargo_prefix_skip.contains(\u0026key) || key.starts_with(\"CROSS_\") \u0026\u0026 !cross_prefix_skip.contains(\u0026key) }; // also need to accept any additional flags used to configure // cargo or cross, but only pass what's actually present. for (key, _) in env::vars() { if is_passthrough(\u0026key) { self.args([\"-e\", \u0026key]); } } } // å…¶å®ƒä»£ç ... } å¯ä»¥åœ¨crossçš„å¤„ç†é€»è¾‘ä¸­, http_proxy/https_proxy/HTTPS_PROXYä¸‰ä¸ªå˜é‡ä¼šè¢«é€ä¼ åˆ°å®¹å™¨ä¸­, ä½†æ˜¯HTTP_PROXYä¸ä¼šè¢«ä¼ é€’, éå¸¸å¥‡æ€ªçš„é€»è¾‘ ä¸´æ—¶è§£å†³å¯ä»¥è®©è¿è¡Œå®¹å™¨ä½¿ç”¨--network=hostå‚æ•°, è®©å®¹å™¨ä½¿ç”¨æœ¬æœºç½‘ç»œ, è¿™æ ·å°±å¯ä»¥è®¿é—®127.0.0.1:7897ä»£ç†, æ ¹æ®æ–‡æ¡£æŸ¥è¯¢, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¢åŠ ç¯å¢ƒå˜é‡ç¼–è¯‘: sh CROSS_CONTAINER_OPTS=--network=host cross build --release --target x86_64-unknown-linux-musl æˆ–è€…ä¸´æ—¶å–æ¶ˆè¿™äº›ç¯å¢ƒå˜é‡æ¥æ­£å¸¸ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:2","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#å®¹å™¨ç¼–è¯‘"},{"categories":null,"content":" å®¹å™¨ç¼–è¯‘å®¹å™¨ç¼–è¯‘æ˜¯ä½¿ç”¨Dockeræˆ–è€…Podmanå®¹å™¨æ¥è¿›è¡Œäº¤å‰ç¼–è¯‘, ç›¸æ¯”åœ¨æœ¬æœºé…ç½®ç¼–è¯‘å·¥å…·é“¾, æ›´åŠ æ–¹ä¾¿å¿«æ·, ä¸”æ›´åŠ å®¹æ˜“é›†æˆåˆ°CI/CDæµç¨‹ä¸­, æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼, ç›®å‰æœ‰æŸ¥åˆ°æ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ä¸ªé¡¹ç›®, cross å’Œ rust-musl-cross, ä»¥ä¸‹åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹æ¡ˆ. rust-musl-cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æ˜¯æä¾›ä¸€äº›é¢„æ„å»ºçš„ç¼–è¯‘ç¯å¢ƒ, æ¥å®ç°Rusté¡¹ç›®çš„äº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥. é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•, ç¡®ä¿å¯åŠ¨Docker, æˆ–è€…é…ç½®å¥½Podman, ç„¶åæ‹‰å–å¯¹åº”ç›®æ ‡é•œåƒ: sh docker pull messense/rust-musl-cross:x86_64-musl è¿™é‡Œæ‹‰å–äº†x86_64-muslç›®æ ‡, æ›´å¤šçš„ç›®æ ‡å¹³å°å¯ä»¥å‚è€ƒé¡¹ç›®GitHubä¸»é¡µReadme. ç„¶åè¿è¡Œå‘½ä»¤ç¼–è¯‘: sh docker run --rm -it -v \"$(pwd)\":/home/rust/src messense/rust-musl-cross:x86_64-musl cargo build --release å¦‚æœéœ€è¦å®‰è£…yasm/nasmç­‰å¤–éƒ¨ä¾èµ–, å¯ä»¥è‡ªè¡Œç¼–å†™Dockerfile, æ„å»ºè‡ªå·±çš„ç¼–è¯‘é•œåƒ. è¿™ç§æ–¹æ¡ˆä½¿ç”¨ç®€å•, è´´è¿‘åŸç”Ÿå®¹å™¨, å¯ä»¥è‡ªè¡Œæ„å»ºå®¹å™¨ç»†èŠ‚, ä½†é•¿æœŸä½¿ç”¨ä¸å¤ªæ–¹ä¾¿. cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æä¾›å‘½ä»¤è¡Œå·¥å…·cross, æ¥è¿›è¡Œ\"é›¶é…ç½®\"çš„äº¤å‰ç¼–è¯‘å’Œäº¤å‰æµ‹è¯•. é¦–å…ˆå®‰è£…æ­¤å·¥å…·: sh # Cargoå®‰è£… cargo install cross # ArchåŒ…ç®¡ç†å™¨å®‰è£… sudo pacman -S extra/cross ç„¶åä¿è¯Docker/Podmanæ­£å¸¸é…ç½®, crossä¼šè‡ªåŠ¨æ£€æµ‹, ä¼˜å…ˆä½¿ç”¨Docker, æ™®é€šé¡¹ç›®å°±å¯ä»¥ç›´æ¥è¿è¡Œç¼–è¯‘å‘½ä»¤: sh cross build --release --target x86_64-unknown-linux-musl ä¸cargoçš„å‘½ä»¤æ ¼å¼å®Œå…¨å…¼å®¹, å®é™…å·¥ä½œåŸç†å°±æ˜¯å°†åç»­å‘½ä»¤å‚æ•°ä¼ é€’ç»™å®¹å™¨å†…éƒ¨çš„cargo. åƒffmpeg-nextè¿™ç§æœ‰å¤–éƒ¨ä¾èµ–çš„, éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¤–éƒ¨ä¾èµ–çš„å®‰è£…é€‰é¡¹, åœ¨Cargo.tomlåŒçº§ç›®å½•åˆ›å»ºCross.toml, å†™å…¥å†…å®¹: toml [build] pre-build = [ \"apt-get update \u0026\u0026 apt-get -y install yasm nasm\", ] è¿™ä¼šåœ¨æ„å»ºé•œåƒæ—¶å¢åŠ ä¸€å±‚å†…å®¹ä¸ºapt-get update \u0026\u0026 apt-get -y install yasm nasmçš„image lable. å¦‚æœç¯å¢ƒæ²¡æœ‰é—®é¢˜, å†æ¬¡è¿è¡Œç¼–è¯‘å‘½ä»¤å³å¯æ­£å¸¸æ„å»º. crosså°è£…ç¨‹åº¦è¾ƒé«˜, ä½¿ç”¨ç›¸æ¯”rust-musl-crossæ›´åŠ ä¸æ»‘, ä½†æ˜¯å°è£…ç¨‹åº¦è¿‡é«˜å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›å¥‡æ€ªçš„é—®é¢˜, å°¤å…¶æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«ä¸é‚£ä¹ˆæµè¡Œ, ç½‘ç»œèµ„æ–™å¾ˆå°‘, æ–‡æ¡£ä¸­æ²¡æœ‰çš„è¯, åªèƒ½é é˜…è¯»æºç æ¥å®šä½é—®é¢˜. HTTPS_PROXY ä»£ç†é—®é¢˜åœ¨æˆ‘æœ¬æœºç¯å¢ƒä¸­å°±é‡åˆ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜, å®¹å™¨ä¸­ffmpeg-nextç›¸å…³ä¾èµ–ç¼–è¯‘çš„æ—¶å€™ä¼šå°è¯•git clone https://github.com/FFmpeg/FFmpeg, ä½†æ˜¯å®ƒæ€»æ˜¯è¯·æ±‚127.0.0.1:7897ä»£ç†, å®¿ä¸»æœºåœ¨/etc/environmentæœ‰è¿™ä¸ªé…ç½®: sh HTTPS_PROXY=http://127.0.0.1:7897 HTTP_PROXY=http://127.0.0.1:7897 ALL_PROXY=socks5://127.0.0.1:7897 ä½†æ˜¯å®¹å™¨ä¸­æˆ‘å¹¶æ²¡æœ‰ä»»ä½•é…ç½®, gitè‡ªèº«æ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, Dockerä¹Ÿæ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, æ¢ç”¨Podmanä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µ, å»æ‰/etc/environmentä¸­çš„ä»£ç†å†…å®¹, å³å¯æ­£å¸¸ç¼–è¯‘, åœ¨Cross.tomlå†™å…¥å†…å®¹: toml [build.env] passthrough = [ \"HTTP_PROXY=http://172.17.0.1:7897\", \"HTTPS_PROXY=http://172.17.0.1:7897\", \"http_proxy=http://172.17.0.1:7897\", \"https_proxy=http://172.17.0.1:7897\", ] è¿è¡Œæ—¶docker psæ£€æŸ¥å®¹å™¨, æ‰¾åˆ°crossä½¿ç”¨çš„å®¹å™¨id, æ‰§è¡Œå‘½ä»¤docker inspect fb8911c1cc88 \u003e cross_container_info.json, æŸ¥çœ‹ç¯å¢ƒå˜é‡, ç¡®å®æœ‰ç›¸å…³ç¯å¢ƒå˜é‡ json // ... \"Env\": [ \"HTTPS_PROXY=http://127.0.0.1:7897\", \"XARGO_HOME=/xargo\", // ... \"USER=lixp\", \"HTTP_PROXY=http://172.17.0.1:7897\", \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", // ... ], // ... HTTPS_PROXYä½¿ç”¨äº†http://127.0.0.1:7897, è€Œæ²¡æœ‰è¢«è¦†ç›–, ä¼¼ä¹æ˜¯åœ¨å“ªä¸€æ­¥è¢«æ›´é«˜ä¼˜å…ˆçº§çš„æ“ä½œè¦†ç›–äº†, æŸ¥çœ‹crossæºç , åœ¨src/docker/shared.rsä¸‹å‘ç°: rust impl DockerCommandExt for Command { fn add_configuration_envvars(\u0026mut self) { let other = \u0026[ \"http_proxy\", \"TERM\", \"RUSTDOCFLAGS\", \"RUSTFLAGS\", \"BROWSER\", \"HTTPS_PROXY\", \"HTTP_TIMEOUT\", \"https_proxy\", \"QEMU_STRACE\", ]; let cargo_prefix_skip = \u0026[ \"CARGO_HOME\", \"CARGO_TARGET_DIR\", \"CARGO_BUILD_TARGET_DIR\", \"CARGO_BUILD_RUSTC\", \"CARGO_BUILD_RUSTC_WRAPPER\", \"CARGO_BUILD_RUSTC_WORKSPACE_WRAPPER\", \"CARGO_BUILD_RUSTDOC\", ]; let cross_prefix_skip = \u0026[ \"CROSS_RUNNER\", \"CROSS_RUSTC_MAJOR_VERSION\", \"CROSS_RUSTC_MINOR_VERSION\", \"CROSS_RUSTC_PATCH_VERSION\", ]; let is_passthrough = |key: \u0026str| -\u003e bool { other.contains(\u0026key) || key.starts_with(\"CARGO_\") \u0026\u0026 !cargo_prefix_skip.contains(\u0026key) || key.starts_with(\"CROSS_\") \u0026\u0026 !cross_prefix_skip.contains(\u0026key) }; // also need to accept any additional flags used to configure // cargo or cross, but only pass what's actually present. for (key, _) in env::vars() { if is_passthrough(\u0026key) { self.args([\"-e\", \u0026key]); } } } // å…¶å®ƒä»£ç ... } å¯ä»¥åœ¨crossçš„å¤„ç†é€»è¾‘ä¸­, http_proxy/https_proxy/HTTPS_PROXYä¸‰ä¸ªå˜é‡ä¼šè¢«é€ä¼ åˆ°å®¹å™¨ä¸­, ä½†æ˜¯HTTP_PROXYä¸ä¼šè¢«ä¼ é€’, éå¸¸å¥‡æ€ªçš„é€»è¾‘ ä¸´æ—¶è§£å†³å¯ä»¥è®©è¿è¡Œå®¹å™¨ä½¿ç”¨--network=hostå‚æ•°, è®©å®¹å™¨ä½¿ç”¨æœ¬æœºç½‘ç»œ, è¿™æ ·å°±å¯ä»¥è®¿é—®127.0.0.1:7897ä»£ç†, æ ¹æ®æ–‡æ¡£æŸ¥è¯¢, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¢åŠ ç¯å¢ƒå˜é‡ç¼–è¯‘: sh CROSS_CONTAINER_OPTS=--network=host cross build --release --target x86_64-unknown-linux-musl æˆ–è€…ä¸´æ—¶å–æ¶ˆè¿™äº›ç¯å¢ƒå˜é‡æ¥æ­£å¸¸ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:2","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#rust-musl-cross-æ–¹æ¡ˆ"},{"categories":null,"content":" å®¹å™¨ç¼–è¯‘å®¹å™¨ç¼–è¯‘æ˜¯ä½¿ç”¨Dockeræˆ–è€…Podmanå®¹å™¨æ¥è¿›è¡Œäº¤å‰ç¼–è¯‘, ç›¸æ¯”åœ¨æœ¬æœºé…ç½®ç¼–è¯‘å·¥å…·é“¾, æ›´åŠ æ–¹ä¾¿å¿«æ·, ä¸”æ›´åŠ å®¹æ˜“é›†æˆåˆ°CI/CDæµç¨‹ä¸­, æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼, ç›®å‰æœ‰æŸ¥åˆ°æ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ä¸ªé¡¹ç›®, cross å’Œ rust-musl-cross, ä»¥ä¸‹åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹æ¡ˆ. rust-musl-cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æ˜¯æä¾›ä¸€äº›é¢„æ„å»ºçš„ç¼–è¯‘ç¯å¢ƒ, æ¥å®ç°Rusté¡¹ç›®çš„äº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥. é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•, ç¡®ä¿å¯åŠ¨Docker, æˆ–è€…é…ç½®å¥½Podman, ç„¶åæ‹‰å–å¯¹åº”ç›®æ ‡é•œåƒ: sh docker pull messense/rust-musl-cross:x86_64-musl è¿™é‡Œæ‹‰å–äº†x86_64-muslç›®æ ‡, æ›´å¤šçš„ç›®æ ‡å¹³å°å¯ä»¥å‚è€ƒé¡¹ç›®GitHubä¸»é¡µReadme. ç„¶åè¿è¡Œå‘½ä»¤ç¼–è¯‘: sh docker run --rm -it -v \"$(pwd)\":/home/rust/src messense/rust-musl-cross:x86_64-musl cargo build --release å¦‚æœéœ€è¦å®‰è£…yasm/nasmç­‰å¤–éƒ¨ä¾èµ–, å¯ä»¥è‡ªè¡Œç¼–å†™Dockerfile, æ„å»ºè‡ªå·±çš„ç¼–è¯‘é•œåƒ. è¿™ç§æ–¹æ¡ˆä½¿ç”¨ç®€å•, è´´è¿‘åŸç”Ÿå®¹å™¨, å¯ä»¥è‡ªè¡Œæ„å»ºå®¹å™¨ç»†èŠ‚, ä½†é•¿æœŸä½¿ç”¨ä¸å¤ªæ–¹ä¾¿. cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æä¾›å‘½ä»¤è¡Œå·¥å…·cross, æ¥è¿›è¡Œ\"é›¶é…ç½®\"çš„äº¤å‰ç¼–è¯‘å’Œäº¤å‰æµ‹è¯•. é¦–å…ˆå®‰è£…æ­¤å·¥å…·: sh # Cargoå®‰è£… cargo install cross # ArchåŒ…ç®¡ç†å™¨å®‰è£… sudo pacman -S extra/cross ç„¶åä¿è¯Docker/Podmanæ­£å¸¸é…ç½®, crossä¼šè‡ªåŠ¨æ£€æµ‹, ä¼˜å…ˆä½¿ç”¨Docker, æ™®é€šé¡¹ç›®å°±å¯ä»¥ç›´æ¥è¿è¡Œç¼–è¯‘å‘½ä»¤: sh cross build --release --target x86_64-unknown-linux-musl ä¸cargoçš„å‘½ä»¤æ ¼å¼å®Œå…¨å…¼å®¹, å®é™…å·¥ä½œåŸç†å°±æ˜¯å°†åç»­å‘½ä»¤å‚æ•°ä¼ é€’ç»™å®¹å™¨å†…éƒ¨çš„cargo. åƒffmpeg-nextè¿™ç§æœ‰å¤–éƒ¨ä¾èµ–çš„, éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¤–éƒ¨ä¾èµ–çš„å®‰è£…é€‰é¡¹, åœ¨Cargo.tomlåŒçº§ç›®å½•åˆ›å»ºCross.toml, å†™å…¥å†…å®¹: toml [build] pre-build = [ \"apt-get update \u0026\u0026 apt-get -y install yasm nasm\", ] è¿™ä¼šåœ¨æ„å»ºé•œåƒæ—¶å¢åŠ ä¸€å±‚å†…å®¹ä¸ºapt-get update \u0026\u0026 apt-get -y install yasm nasmçš„image lable. å¦‚æœç¯å¢ƒæ²¡æœ‰é—®é¢˜, å†æ¬¡è¿è¡Œç¼–è¯‘å‘½ä»¤å³å¯æ­£å¸¸æ„å»º. crosså°è£…ç¨‹åº¦è¾ƒé«˜, ä½¿ç”¨ç›¸æ¯”rust-musl-crossæ›´åŠ ä¸æ»‘, ä½†æ˜¯å°è£…ç¨‹åº¦è¿‡é«˜å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›å¥‡æ€ªçš„é—®é¢˜, å°¤å…¶æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«ä¸é‚£ä¹ˆæµè¡Œ, ç½‘ç»œèµ„æ–™å¾ˆå°‘, æ–‡æ¡£ä¸­æ²¡æœ‰çš„è¯, åªèƒ½é é˜…è¯»æºç æ¥å®šä½é—®é¢˜. HTTPS_PROXY ä»£ç†é—®é¢˜åœ¨æˆ‘æœ¬æœºç¯å¢ƒä¸­å°±é‡åˆ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜, å®¹å™¨ä¸­ffmpeg-nextç›¸å…³ä¾èµ–ç¼–è¯‘çš„æ—¶å€™ä¼šå°è¯•git clone https://github.com/FFmpeg/FFmpeg, ä½†æ˜¯å®ƒæ€»æ˜¯è¯·æ±‚127.0.0.1:7897ä»£ç†, å®¿ä¸»æœºåœ¨/etc/environmentæœ‰è¿™ä¸ªé…ç½®: sh HTTPS_PROXY=http://127.0.0.1:7897 HTTP_PROXY=http://127.0.0.1:7897 ALL_PROXY=socks5://127.0.0.1:7897 ä½†æ˜¯å®¹å™¨ä¸­æˆ‘å¹¶æ²¡æœ‰ä»»ä½•é…ç½®, gitè‡ªèº«æ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, Dockerä¹Ÿæ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, æ¢ç”¨Podmanä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µ, å»æ‰/etc/environmentä¸­çš„ä»£ç†å†…å®¹, å³å¯æ­£å¸¸ç¼–è¯‘, åœ¨Cross.tomlå†™å…¥å†…å®¹: toml [build.env] passthrough = [ \"HTTP_PROXY=http://172.17.0.1:7897\", \"HTTPS_PROXY=http://172.17.0.1:7897\", \"http_proxy=http://172.17.0.1:7897\", \"https_proxy=http://172.17.0.1:7897\", ] è¿è¡Œæ—¶docker psæ£€æŸ¥å®¹å™¨, æ‰¾åˆ°crossä½¿ç”¨çš„å®¹å™¨id, æ‰§è¡Œå‘½ä»¤docker inspect fb8911c1cc88 \u003e cross_container_info.json, æŸ¥çœ‹ç¯å¢ƒå˜é‡, ç¡®å®æœ‰ç›¸å…³ç¯å¢ƒå˜é‡ json // ... \"Env\": [ \"HTTPS_PROXY=http://127.0.0.1:7897\", \"XARGO_HOME=/xargo\", // ... \"USER=lixp\", \"HTTP_PROXY=http://172.17.0.1:7897\", \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", // ... ], // ... HTTPS_PROXYä½¿ç”¨äº†http://127.0.0.1:7897, è€Œæ²¡æœ‰è¢«è¦†ç›–, ä¼¼ä¹æ˜¯åœ¨å“ªä¸€æ­¥è¢«æ›´é«˜ä¼˜å…ˆçº§çš„æ“ä½œè¦†ç›–äº†, æŸ¥çœ‹crossæºç , åœ¨src/docker/shared.rsä¸‹å‘ç°: rust impl DockerCommandExt for Command { fn add_configuration_envvars(\u0026mut self) { let other = \u0026[ \"http_proxy\", \"TERM\", \"RUSTDOCFLAGS\", \"RUSTFLAGS\", \"BROWSER\", \"HTTPS_PROXY\", \"HTTP_TIMEOUT\", \"https_proxy\", \"QEMU_STRACE\", ]; let cargo_prefix_skip = \u0026[ \"CARGO_HOME\", \"CARGO_TARGET_DIR\", \"CARGO_BUILD_TARGET_DIR\", \"CARGO_BUILD_RUSTC\", \"CARGO_BUILD_RUSTC_WRAPPER\", \"CARGO_BUILD_RUSTC_WORKSPACE_WRAPPER\", \"CARGO_BUILD_RUSTDOC\", ]; let cross_prefix_skip = \u0026[ \"CROSS_RUNNER\", \"CROSS_RUSTC_MAJOR_VERSION\", \"CROSS_RUSTC_MINOR_VERSION\", \"CROSS_RUSTC_PATCH_VERSION\", ]; let is_passthrough = |key: \u0026str| -\u003e bool { other.contains(\u0026key) || key.starts_with(\"CARGO_\") \u0026\u0026 !cargo_prefix_skip.contains(\u0026key) || key.starts_with(\"CROSS_\") \u0026\u0026 !cross_prefix_skip.contains(\u0026key) }; // also need to accept any additional flags used to configure // cargo or cross, but only pass what's actually present. for (key, _) in env::vars() { if is_passthrough(\u0026key) { self.args([\"-e\", \u0026key]); } } } // å…¶å®ƒä»£ç ... } å¯ä»¥åœ¨crossçš„å¤„ç†é€»è¾‘ä¸­, http_proxy/https_proxy/HTTPS_PROXYä¸‰ä¸ªå˜é‡ä¼šè¢«é€ä¼ åˆ°å®¹å™¨ä¸­, ä½†æ˜¯HTTP_PROXYä¸ä¼šè¢«ä¼ é€’, éå¸¸å¥‡æ€ªçš„é€»è¾‘ ä¸´æ—¶è§£å†³å¯ä»¥è®©è¿è¡Œå®¹å™¨ä½¿ç”¨--network=hostå‚æ•°, è®©å®¹å™¨ä½¿ç”¨æœ¬æœºç½‘ç»œ, è¿™æ ·å°±å¯ä»¥è®¿é—®127.0.0.1:7897ä»£ç†, æ ¹æ®æ–‡æ¡£æŸ¥è¯¢, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¢åŠ ç¯å¢ƒå˜é‡ç¼–è¯‘: sh CROSS_CONTAINER_OPTS=--network=host cross build --release --target x86_64-unknown-linux-musl æˆ–è€…ä¸´æ—¶å–æ¶ˆè¿™äº›ç¯å¢ƒå˜é‡æ¥æ­£å¸¸ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:2","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#cross-æ–¹æ¡ˆ"},{"categories":null,"content":" å®¹å™¨ç¼–è¯‘å®¹å™¨ç¼–è¯‘æ˜¯ä½¿ç”¨Dockeræˆ–è€…Podmanå®¹å™¨æ¥è¿›è¡Œäº¤å‰ç¼–è¯‘, ç›¸æ¯”åœ¨æœ¬æœºé…ç½®ç¼–è¯‘å·¥å…·é“¾, æ›´åŠ æ–¹ä¾¿å¿«æ·, ä¸”æ›´åŠ å®¹æ˜“é›†æˆåˆ°CI/CDæµç¨‹ä¸­, æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼, ç›®å‰æœ‰æŸ¥åˆ°æ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ä¸ªé¡¹ç›®, cross å’Œ rust-musl-cross, ä»¥ä¸‹åˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§æ–¹æ¡ˆ. rust-musl-cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æ˜¯æä¾›ä¸€äº›é¢„æ„å»ºçš„ç¼–è¯‘ç¯å¢ƒ, æ¥å®ç°Rusté¡¹ç›®çš„äº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥. é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•, ç¡®ä¿å¯åŠ¨Docker, æˆ–è€…é…ç½®å¥½Podman, ç„¶åæ‹‰å–å¯¹åº”ç›®æ ‡é•œåƒ: sh docker pull messense/rust-musl-cross:x86_64-musl è¿™é‡Œæ‹‰å–äº†x86_64-muslç›®æ ‡, æ›´å¤šçš„ç›®æ ‡å¹³å°å¯ä»¥å‚è€ƒé¡¹ç›®GitHubä¸»é¡µReadme. ç„¶åè¿è¡Œå‘½ä»¤ç¼–è¯‘: sh docker run --rm -it -v \"$(pwd)\":/home/rust/src messense/rust-musl-cross:x86_64-musl cargo build --release å¦‚æœéœ€è¦å®‰è£…yasm/nasmç­‰å¤–éƒ¨ä¾èµ–, å¯ä»¥è‡ªè¡Œç¼–å†™Dockerfile, æ„å»ºè‡ªå·±çš„ç¼–è¯‘é•œåƒ. è¿™ç§æ–¹æ¡ˆä½¿ç”¨ç®€å•, è´´è¿‘åŸç”Ÿå®¹å™¨, å¯ä»¥è‡ªè¡Œæ„å»ºå®¹å™¨ç»†èŠ‚, ä½†é•¿æœŸä½¿ç”¨ä¸å¤ªæ–¹ä¾¿. cross æ–¹æ¡ˆé¡¹ç›®ä¸»è¦æä¾›å‘½ä»¤è¡Œå·¥å…·cross, æ¥è¿›è¡Œ\"é›¶é…ç½®\"çš„äº¤å‰ç¼–è¯‘å’Œäº¤å‰æµ‹è¯•. é¦–å…ˆå®‰è£…æ­¤å·¥å…·: sh # Cargoå®‰è£… cargo install cross # ArchåŒ…ç®¡ç†å™¨å®‰è£… sudo pacman -S extra/cross ç„¶åä¿è¯Docker/Podmanæ­£å¸¸é…ç½®, crossä¼šè‡ªåŠ¨æ£€æµ‹, ä¼˜å…ˆä½¿ç”¨Docker, æ™®é€šé¡¹ç›®å°±å¯ä»¥ç›´æ¥è¿è¡Œç¼–è¯‘å‘½ä»¤: sh cross build --release --target x86_64-unknown-linux-musl ä¸cargoçš„å‘½ä»¤æ ¼å¼å®Œå…¨å…¼å®¹, å®é™…å·¥ä½œåŸç†å°±æ˜¯å°†åç»­å‘½ä»¤å‚æ•°ä¼ é€’ç»™å®¹å™¨å†…éƒ¨çš„cargo. åƒffmpeg-nextè¿™ç§æœ‰å¤–éƒ¨ä¾èµ–çš„, éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¤–éƒ¨ä¾èµ–çš„å®‰è£…é€‰é¡¹, åœ¨Cargo.tomlåŒçº§ç›®å½•åˆ›å»ºCross.toml, å†™å…¥å†…å®¹: toml [build] pre-build = [ \"apt-get update \u0026\u0026 apt-get -y install yasm nasm\", ] è¿™ä¼šåœ¨æ„å»ºé•œåƒæ—¶å¢åŠ ä¸€å±‚å†…å®¹ä¸ºapt-get update \u0026\u0026 apt-get -y install yasm nasmçš„image lable. å¦‚æœç¯å¢ƒæ²¡æœ‰é—®é¢˜, å†æ¬¡è¿è¡Œç¼–è¯‘å‘½ä»¤å³å¯æ­£å¸¸æ„å»º. crosså°è£…ç¨‹åº¦è¾ƒé«˜, ä½¿ç”¨ç›¸æ¯”rust-musl-crossæ›´åŠ ä¸æ»‘, ä½†æ˜¯å°è£…ç¨‹åº¦è¿‡é«˜å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›å¥‡æ€ªçš„é—®é¢˜, å°¤å…¶æ˜¯è¿™ä¸ªå·¥å…·æœ¬èº«ä¸é‚£ä¹ˆæµè¡Œ, ç½‘ç»œèµ„æ–™å¾ˆå°‘, æ–‡æ¡£ä¸­æ²¡æœ‰çš„è¯, åªèƒ½é é˜…è¯»æºç æ¥å®šä½é—®é¢˜. HTTPS_PROXY ä»£ç†é—®é¢˜åœ¨æˆ‘æœ¬æœºç¯å¢ƒä¸­å°±é‡åˆ°ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„é—®é¢˜, å®¹å™¨ä¸­ffmpeg-nextç›¸å…³ä¾èµ–ç¼–è¯‘çš„æ—¶å€™ä¼šå°è¯•git clone https://github.com/FFmpeg/FFmpeg, ä½†æ˜¯å®ƒæ€»æ˜¯è¯·æ±‚127.0.0.1:7897ä»£ç†, å®¿ä¸»æœºåœ¨/etc/environmentæœ‰è¿™ä¸ªé…ç½®: sh HTTPS_PROXY=http://127.0.0.1:7897 HTTP_PROXY=http://127.0.0.1:7897 ALL_PROXY=socks5://127.0.0.1:7897 ä½†æ˜¯å®¹å™¨ä¸­æˆ‘å¹¶æ²¡æœ‰ä»»ä½•é…ç½®, gitè‡ªèº«æ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, Dockerä¹Ÿæ²¡æœ‰é…ç½®ä»»ä½•ä»£ç†, æ¢ç”¨Podmanä¹Ÿæ˜¯ä¸€æ ·çš„æƒ…å†µ, å»æ‰/etc/environmentä¸­çš„ä»£ç†å†…å®¹, å³å¯æ­£å¸¸ç¼–è¯‘, åœ¨Cross.tomlå†™å…¥å†…å®¹: toml [build.env] passthrough = [ \"HTTP_PROXY=http://172.17.0.1:7897\", \"HTTPS_PROXY=http://172.17.0.1:7897\", \"http_proxy=http://172.17.0.1:7897\", \"https_proxy=http://172.17.0.1:7897\", ] è¿è¡Œæ—¶docker psæ£€æŸ¥å®¹å™¨, æ‰¾åˆ°crossä½¿ç”¨çš„å®¹å™¨id, æ‰§è¡Œå‘½ä»¤docker inspect fb8911c1cc88 \u003e cross_container_info.json, æŸ¥çœ‹ç¯å¢ƒå˜é‡, ç¡®å®æœ‰ç›¸å…³ç¯å¢ƒå˜é‡ json // ... \"Env\": [ \"HTTPS_PROXY=http://127.0.0.1:7897\", \"XARGO_HOME=/xargo\", // ... \"USER=lixp\", \"HTTP_PROXY=http://172.17.0.1:7897\", \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", // ... ], // ... HTTPS_PROXYä½¿ç”¨äº†http://127.0.0.1:7897, è€Œæ²¡æœ‰è¢«è¦†ç›–, ä¼¼ä¹æ˜¯åœ¨å“ªä¸€æ­¥è¢«æ›´é«˜ä¼˜å…ˆçº§çš„æ“ä½œè¦†ç›–äº†, æŸ¥çœ‹crossæºç , åœ¨src/docker/shared.rsä¸‹å‘ç°: rust impl DockerCommandExt for Command { fn add_configuration_envvars(\u0026mut self) { let other = \u0026[ \"http_proxy\", \"TERM\", \"RUSTDOCFLAGS\", \"RUSTFLAGS\", \"BROWSER\", \"HTTPS_PROXY\", \"HTTP_TIMEOUT\", \"https_proxy\", \"QEMU_STRACE\", ]; let cargo_prefix_skip = \u0026[ \"CARGO_HOME\", \"CARGO_TARGET_DIR\", \"CARGO_BUILD_TARGET_DIR\", \"CARGO_BUILD_RUSTC\", \"CARGO_BUILD_RUSTC_WRAPPER\", \"CARGO_BUILD_RUSTC_WORKSPACE_WRAPPER\", \"CARGO_BUILD_RUSTDOC\", ]; let cross_prefix_skip = \u0026[ \"CROSS_RUNNER\", \"CROSS_RUSTC_MAJOR_VERSION\", \"CROSS_RUSTC_MINOR_VERSION\", \"CROSS_RUSTC_PATCH_VERSION\", ]; let is_passthrough = |key: \u0026str| -\u003e bool { other.contains(\u0026key) || key.starts_with(\"CARGO_\") \u0026\u0026 !cargo_prefix_skip.contains(\u0026key) || key.starts_with(\"CROSS_\") \u0026\u0026 !cross_prefix_skip.contains(\u0026key) }; // also need to accept any additional flags used to configure // cargo or cross, but only pass what's actually present. for (key, _) in env::vars() { if is_passthrough(\u0026key) { self.args([\"-e\", \u0026key]); } } } // å…¶å®ƒä»£ç ... } å¯ä»¥åœ¨crossçš„å¤„ç†é€»è¾‘ä¸­, http_proxy/https_proxy/HTTPS_PROXYä¸‰ä¸ªå˜é‡ä¼šè¢«é€ä¼ åˆ°å®¹å™¨ä¸­, ä½†æ˜¯HTTP_PROXYä¸ä¼šè¢«ä¼ é€’, éå¸¸å¥‡æ€ªçš„é€»è¾‘ ä¸´æ—¶è§£å†³å¯ä»¥è®©è¿è¡Œå®¹å™¨ä½¿ç”¨--network=hostå‚æ•°, è®©å®¹å™¨ä½¿ç”¨æœ¬æœºç½‘ç»œ, è¿™æ ·å°±å¯ä»¥è®¿é—®127.0.0.1:7897ä»£ç†, æ ¹æ®æ–‡æ¡£æŸ¥è¯¢, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¢åŠ ç¯å¢ƒå˜é‡ç¼–è¯‘: sh CROSS_CONTAINER_OPTS=--network=host cross build --release --target x86_64-unknown-linux-musl æˆ–è€…ä¸´æ—¶å–æ¶ˆè¿™äº›ç¯å¢ƒå˜é‡æ¥æ­£å¸¸ç¼–è¯‘. ","date":"2025-03-26","objectID":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/:3:2","series":null,"tags":null,"title":"Rustäº¤å‰ç¼–è¯‘å’Œé™æ€é“¾æ¥","uri":"/posts/rust/rust%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E5%92%8C%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/#https_proxy-ä»£ç†é—®é¢˜"},{"categories":null,"content":" ä»‹ç»win+rè¿è¡Œregeditæ‰“å¼€æ³¨å†Œè¡¨, ç§»åŠ¨åˆ°HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Keyboard Layout è¾“å…¥: text 00,00,00,00 00,00,00,00 03,00,00,00 3A,00,1D,00 1D,00,3A,00 00,00,00,00 å‰ä¸¤è¡Œç‰ˆæœ¬ä¿¡æ¯å·. ç¬¬ä¸‰è¡Œè¡¨ç¤ºä¿®æ”¹äº†å‡ ä¸ªé”®,ä½ä½åœ¨å·¦,é«˜ä½åœ¨å³.æœ€åä¸€è¡Œä¹Ÿç®—ä¸€ä¸ª. 03,00,00,00æ„ä¸º00,00,00,03 å››äº”è¡Œè¡¨ç¤ºä¿®æ”¹çš„é”®.ä»¥é”®ç›˜æ‰«æç ä½œä¸ºæ ‡è¯†. 3A,00,1D,00è¡¨ç¤ºå°†å·¦Ctrlæ˜ å°„ä¸ºCaps Lock æœ€åä¸€è¡Œä»¥ç»“å°¾. ","date":"2025-01-17","objectID":"/posts/windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%9B%B4%E6%94%B9%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84/:1:0","series":null,"tags":null,"title":"Windowsæ³¨å†Œè¡¨æ›´æ”¹æŒ‰é”®æ˜ å°„","uri":"/posts/windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%9B%B4%E6%94%B9%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84/#ä»‹ç»"},{"categories":null,"content":" é”®ç›˜æ‰«æç  text \"00 00\":\"None\", \"01 00\":\"Esc\", \"02 00\":\"1\", \"03 00\":\"2\", \"04 00\":\"3\", \"05 00\":\"4\", \"06 00\":\"5\", \"07 00\":\"6\", \"08 00\":\"7\", \"09 00\":\"8\", \"0a 00\":\"9\", \"0b 00\":\"0\", \"0c 00\":\"-\", \"0d 00\":\"=\", \"0e 00\":\"Backspace\", \"0f 00\":\"Tab\", \"10 00\":\"Q\", \"11 00\":\"W\", \"12 00\":\"E\", \"13 00\":\"R\", \"14 00\":\"T\", \"15 00\":\"Y\", \"16 00\":\"U\", \"17 00\":\"I\", \"18 00\":\"O\", \"19 00\":\"P\", \"1a 00\":\"[\", \"1b 00\":\"]\", \"1c 00\":\"Enter\", \"1d 00\":\"Left Ctrl\", \"1e 00\":\"A\", \"1f 00\":\"S\", \"20 00\":\"D\", \"21 00\":\"F\", \"22 00\":\"G\", \"23 00\":\"H\", \"24 00\":\"J\", \"25 00\":\"K\", \"26 00\":\"L\", \"27 00\":\"Semicolon\", \"28 00\":\"'\", \"29 00\":\"`\", \"2a 00\":\"Left Shift\", \"2b 00\":\"\\\", \"2c 00\":\"Z\", \"2d 00\":\"X\", \"2e 00\":\"C\", \"2f 00\":\"V\", \"30 00\":\"B\", \"31 00\":\"N\", \"32 00\":\"M\", \"33 00\":\",\", \"34 00\":\".\", \"35 00\":\"/\", \"36 00\":\"Right Shift\", \"37 00\":\"n*\", \"38 00\":\"Left Alt\", \"39 00\":\"Space\", \"3a 00\":\"Caps Lock\", \"3b 00\":\"F1\", \"3c 00\":\"F2\", \"3d 00\":\"F3\", \"3e 00\":\"F4\", \"3f 00\":\"F5\", \"40 00\":\"F6\", \"41 00\":\"F7\", \"42 00\":\"F8\", \"43 00\":\"F9\", \"44 00\":\"F10\", \"45 00\":\"Num Lock\", \"46 00\":\"Scroll Lock\", \"47 00\":\"n7\", \"48 00\":\"n8\", \"49 00\":\"n9\", \"4a 00\":\"n-\", \"4b 00\":\"n4\", \"4c 00\":\"n5\", \"4d 00\":\"n6\", \"4e 00\":\"n+\", \"4f 00\":\"n1\", \"50 00\":\"n2\", \"51 00\":\"n3\", \"52 00\":\"n0\", \"53 00\":\"n.\", \"57 00\":\"F11\", \"58 00\":\"F12\", \"1c e0\":\"nEnter\", \"1d e0\":\"Right Ctrl\", \"37 e0\":\"PrtSc\", \"38 e0\":\"Right Alt\", \"47 e0\":\"Home\", \"48 e0\":\"Up\", \"49 e0\":\"Page Up\", \"4b e0\":\"Left\", \"4d e0\":\"Right\", \"4f e0\":\"End\", \"50 e0\":\"Down\", \"51 e0\":\"Page Down\", \"52 e0\":\"Insert\", \"53 e0\":\"Delete\", \"5b e0\":\"Left Windows\", \"5c e0\":\"Right Windows\" ","date":"2025-01-17","objectID":"/posts/windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%9B%B4%E6%94%B9%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84/:2:0","series":null,"tags":null,"title":"Windowsæ³¨å†Œè¡¨æ›´æ”¹æŒ‰é”®æ˜ å°„","uri":"/posts/windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%9B%B4%E6%94%B9%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84/#é”®ç›˜æ‰«æç "},{"categories":null,"content":"CMDç®¡ç†å‘˜èº«ä»½è¿è¡Œ: cmd sc config i8042prt start= disabled ç¦ç”¨é”®ç›˜ sc config i8042prt start= demand å¯ç”¨é”®ç›˜ sc configæ˜¯è®¾ç½®æœåŠ¡å¯åŠ¨ç±»å‹, å¯é€‰é¡¹disabled(ç¦ç”¨)/demand(æ‰‹åŠ¨)/auto(è‡ªåŠ¨) i8042prtæ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ç¬”è®°æœ¬é©±åŠ¨æœåŠ¡ ","date":"2025-01-17","objectID":"/posts/%E7%A6%81%E7%94%A8windows%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%87%AA%E5%B8%A6%E9%94%AE%E7%9B%98/:0:0","series":null,"tags":null,"title":"ç¦ç”¨Windowsç¬”è®°æœ¬è‡ªå¸¦é”®ç›˜","uri":"/posts/%E7%A6%81%E7%94%A8windows%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%87%AA%E5%B8%A6%E9%94%AE%E7%9B%98/#"},{"categories":null,"content":" å‚è€ƒç½‘å€https://p3terx.com/archives/docker-aria2-pro.html https://p3terx.com/archives/aria2-frontend-ariang-tutorial.html ","date":"2025-01-17","objectID":"/posts/linux/aria2%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/:1:0","series":null,"tags":null,"title":"Aria2æœåŠ¡éƒ¨ç½²","uri":"/posts/linux/aria2%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/#å‚è€ƒç½‘å€"},{"categories":null,"content":" éƒ¨ç½²å‘½ä»¤aria2æœåŠ¡éƒ¨ç½², ä½¿ç”¨å‰æ›¿æ¢\u003cTOKEN\u003e bash docker run -d \\ --name aria2-pro \\ --restart unless-stopped \\ --log-opt max-size=1m \\ --network host \\ -e PUID=$UID \\ -e PGID=$GID \\ -e RPC_SECRET=\\\u003cTOKEN\\\u003e \\ -e RPC_PORT=6800 \\ -e LISTEN_PORT=6888 \\ -v $PWD/aria2-config:/config \\ -v $PWD/aria2-downloads:/downloads \\ p3terx/aria2-pro ariaNGéƒ¨ç½² bash # bridge ç½‘ç»œæ¨¡å¼ docker run -d \\ --name ariang \\ --restart unless-stopped \\ --log-opt max-size=1m \\ -p 6880:6880 \\ p3terx/ariang # host ç½‘ç»œæ¨¡å¼ï¼ˆå¦‚æœä½ éœ€è¦ä½¿ç”¨ IPv6 ç½‘ç»œè®¿é—®ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼‰ docker run -d \\ --name ariang \\ --log-opt max-size=1m \\ --restart unless-stopped \\ --network host \\ p3terx/ariang --port 6880 --ipv6 ","date":"2025-01-17","objectID":"/posts/linux/aria2%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/:2:0","series":null,"tags":null,"title":"Aria2æœåŠ¡éƒ¨ç½²","uri":"/posts/linux/aria2%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/#éƒ¨ç½²å‘½ä»¤"},{"categories":null,"content":"å¦‚æœ‰ a,b ä¸¤ä¸ªå˜é‡, æ€è·¯æ˜¯å…ˆæŸç§è¿ç®—ä½¿ a å‚¨å­˜ a,b çš„å…¨éƒ¨ä¿¡æ¯, ç„¶åç”¨ b ä¸ a è¿›è¡Œé€†è¿ç®—ä½¿ b å¾—åˆ° a çš„åˆå§‹å€¼, ç„¶åç”¨ a ä¸ b é€†è¿ç®—èµ‹å€¼ç»™ a. ç”¨ç¾¤è®ºçš„è¯´æ³•æ˜¯: æˆ–è¿ç®—çš„é›†åˆ G_or({1,0},or) , ä¸è¿ç®—çš„é›†åˆG_and({1,0},and) G_or ä¸ G_and éƒ½æ»¡è¶³å°é—­æ€§ä¸ç»“åˆå¾‹, å•ä½å…ƒ e_or==0,e_and==1, ä½†æ˜¯ G_or ä¸­ 1 æ²¡æœ‰é€†å…ƒ, G_and ä¸­ 0 æ²¡æœ‰é€†å…ƒ. å¼‚æˆ–è¿ç®—é›†åˆ G_xor({1,0},xor)ä¸­,e_xor==0 , 1 xor 1 == 0 , 0 xor 0 == 0 . æ‰€ä»¥ä¸å˜é‡çš„æ•°åŸŸæ„æˆç¾¤çš„è¿ç®—å¯ä»¥ç”¨æ¥äº¤æ¢å˜é‡. c a=a+b; b=a-b; a=a-b; c a=a^b; b=a^b; a=a^b; ","date":"2025-01-17","objectID":"/posts/%E4%B8%8D%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E5%8F%98%E9%87%8F%E4%BA%A4%E6%8D%A2%E5%80%BC/:0:0","series":null,"tags":null,"title":"ä¸ä½¿ç”¨ä¸­é—´å˜é‡äº¤æ¢å€¼","uri":"/posts/%E4%B8%8D%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E5%8F%98%E9%87%8F%E4%BA%A4%E6%8D%A2%E5%80%BC/#"},{"categories":null,"content":" ä»‹ç»Quine ç¨‹åºæ˜¯æŒ‡è‡ªç”Ÿæˆç¨‹åº, å®ƒä¸æ¥å—è¾“å…¥, è¿è¡Œå®ƒä¼šè¾“å‡ºç¨‹åºæºä»£ç . ","date":"2025-01-17","objectID":"/posts/quine%E7%A8%8B%E5%BA%8F/:1:0","series":null,"tags":null,"title":"Quineç¨‹åº","uri":"/posts/quine%E7%A8%8B%E5%BA%8F/#ä»‹ç»"},{"categories":null,"content":" æ€è·¯æ€è·¯(ä»¥Cè¯­è¨€ä¸ºä¾‹): å…ˆåœ¨ä»£ç ä»»æ„ä½ç½®å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸² s ä¸ä¸€ä¸ª printf å‡½æ•°. å…ˆæ„å»ºå­—ç¬¦ä¸² s çš„å†…å®¹, ä½¿å…¶ä¸ºç¨‹åºæºä»£ç , æŠŠå…¶ä¸­ s èµ‹å€¼éƒ¨åˆ†ç•™ä¸€ä¸ª s=%c%s%c, åœ¨å§å…¶ä¸­çš„è½¬ä¹‰å­—ç¬¦ä¿®æ”¹ä¸º%c å¹¶è®°å½•. ä¿®æ”¹ä¸¤ä¸ª printf çš„éƒ¨åˆ†, æŠŠ%s ä½ç½®è¾“å…¥ä¸ºå­—ç¬¦ä¸² s, å…¶å®ƒä½ç½®è¾“å…¥åº”è¯¥çš„è½¬ä¹‰å­—ç¬¦ ASCII ç . å¦‚æœä½¿ç”¨ python, å…¶ä¸­æœ‰ repr()å¯ä»¥è¾“å‡ºå­—ç¬¦ä¸²å¯¹è±¡æœ¬èº«, æˆ–è€…ä½¿ç”¨%r æ¥è°ƒç”¨, å¦‚: Python s=\"\\n\" print(repr(s),end=\" \") print(\"%r\"%s) # è¾“å‡º: '\\n' '\\n' ","date":"2025-01-17","objectID":"/posts/quine%E7%A8%8B%E5%BA%8F/:2:0","series":null,"tags":null,"title":"Quineç¨‹åº","uri":"/posts/quine%E7%A8%8B%E5%BA%8F/#æ€è·¯"},{"categories":null,"content":" ç¤ºä¾‹C è¯­è¨€: C #include \u003cstdio.h\u003e char* s=\"#include \u003cstdio.h\u003e%cchar* s=%c%s%c;int main(){printf(s,10,34,s,34);return 0;}\";int main(){printf(s,10,34,s,34);return 0;} å› ä¸ºä½¿ç”¨ \\n \\\" ä¼šä½¿ printf å‡½æ•°ä¸­çš„ç¬¬äºŒä¸ª s å­—ç¬¦ä¸²ä¸­çš„\\n \\\" ä¹Ÿè¢«è½¬ä¹‰, å¦‚æœæ˜¯ç”¨ä»¥ä¸‹ä»£ç : C #include \u003cstdio.h\u003e char* s=\"#include \u003cstdio.h\u003e\\nchar* s=\\\"%s\\\";int main(){printf(s,s);return 0;}\";int main(){printf(s,s);return 0;} è¾“å‡ºä¸º: C #include \u003cstdio.h\u003e char* s=\"#include \u003cstdio.h\u003e char* s=\"%s\";int main(){printf(s,s);return 0;}\";int main(){printf(s,s);return 0;} Python: Python s='s=%r\\nprint(s%%s)' print(s%s) ","date":"2025-01-17","objectID":"/posts/quine%E7%A8%8B%E5%BA%8F/:3:0","series":null,"tags":null,"title":"Quineç¨‹åº","uri":"/posts/quine%E7%A8%8B%E5%BA%8F/#ç¤ºä¾‹"},{"categories":null,"content":"å°†ä»¥ä¸‹é…ç½®æ·»åŠ åˆ° Nginx é…ç½®æ–‡ä»¶ä¸­, é€šå¸¸åœ¨ /etc/nginx/nginx.conf, æˆ–è€…åœ¨ /etc/nginx/conf.d ä¸‹æ–°å»ºæ–‡ä»¶, æ·»åŠ ç›¸å…³é…ç½®. text server { listen 6006; listen [::]:6006; server_name _; client_max_body_size 100m; location / { root /home/guest/web/dist; try_files $uri /index.html; } location /api/ { proxy_pass http://127.0.0.1:6000/; proxy_set_header Host $proxy_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } ","date":"2024-12-26","objectID":"/posts/service/nginx%E9%83%A8%E7%BD%B2%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9C%8D%E5%8A%A1/:0:0","series":null,"tags":null,"title":"Nginxéƒ¨ç½²å‰åç«¯åˆ†ç¦»æœåŠ¡","uri":"/posts/service/nginx%E9%83%A8%E7%BD%B2%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9C%8D%E5%8A%A1/#"},{"categories":null,"content":"ç¼–å†™ä»¥ä¸‹é…ç½®, æ–‡ä»¶å Caddyfile text :6006 { root * /home/guest/web/dist file_server encode zstd gzip handle_path /api/* { reverse_proxy localhost:6000 } } å¯åŠ¨å‘½ä»¤ä¸º caddy run --environ --config /home/guest/web/Caddyfile. æˆ–è€…ä½¿ç”¨systemdç®¡ç†æœåŠ¡å¯åœ, ç¼–å†™å¦‚ä¸‹é…ç½®æ–‡ä»¶, å‘½åä¸ºweb-app.service: text [Unit] Description=web-app After=network.target [Service] Type=simple WorkingDirectory=/home/guest/web ExecStart=/home/guest/web/caddy_linux_amd64 run --environ --config /home/guest/web/Caddyfile ExecReload=/home/guest/web/caddy_linux_amd64 reload --config /home/guest/web/Caddyfile Restart=on-failure [Install] WantedBy=multi-user.target æ”¾å…¥/etc/systemd/system/, å¦‚æœæ²¡æœ‰rootæƒé™, å¯ä»¥æ”¾å…¥~/.config/systemd/user/, ç¼–å†™å®Œæˆä½¿ç”¨systemctlå‘½ä»¤ç®¡ç†æœåŠ¡. ","date":"2024-12-24","objectID":"/posts/service/caddy%E9%83%A8%E7%BD%B2%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9C%8D%E5%8A%A1/:0:0","series":null,"tags":null,"title":"Caddyéƒ¨ç½²å‰åç«¯åˆ†ç¦»æœåŠ¡","uri":"/posts/service/caddy%E9%83%A8%E7%BD%B2%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9C%8D%E5%8A%A1/#"},{"categories":null,"content":"æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…å¹¶æŒ‚è½½ sh sudo apt install nfs-common mkdir -p /mnt/server-disk sudo mount -t nfs 192.168.10.195:/volume1/server-disk /mnt/server-disk ","date":"2024-09-14","objectID":"/posts/linux/linux%E6%8C%82%E8%BD%BDnfs%E7%A3%81%E7%9B%98/:0:0","series":null,"tags":null,"title":"LinuxæŒ‚è½½NFSç£ç›˜","uri":"/posts/linux/linux%E6%8C%82%E8%BD%BDnfs%E7%A3%81%E7%9B%98/#"},{"categories":null,"content":"ä¸€æ¬¡ubuntu Linuxæœºå™¨å†…å­˜æº¢å‡ºå¼ºè¡Œé‡å¯æœºå™¨, å¯åŠ¨ådockerçš„å®¹å™¨å’Œé•œåƒå…¨éƒ¨æ¶ˆå¤±, åå°è¿˜æœ‰å®¹å™¨ç›¸å…³è¿›ç¨‹åœ¨è¿è¡Œ, apté‡è£…docker, å®¹å™¨å’Œé•œåƒå…¨éƒ¨éƒ½èƒ½çœ‹åˆ°äº†, ç„¶ååœ¨æŸæ¬¡æ­£å¸¸é‡å¯å, åˆæ¶ˆå¤±äº†, ç½‘ä¸ŠæŸ¥è¯¢äº†å¾ˆå¤šæ–¹å¼, éƒ½ä¸è¡Œ, æœ€åå‘ç°æ˜¯å› ä¸ºsnapå®‰è£…çš„dockerå’Œaptå®‰è£…çš„dockerå…±å­˜å¯¼è‡´çš„. docker infoå¯ä»¥çœ‹åˆ°: text Client: Version: 24.0.7 Context: default Debug Mode: false Server: Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 0 Server Version: 24.0.5 Storage Driver: overlay2 Backing Filesystem: btrfs Supports d_type: true Using metacopy: false Native Overlay Diff: true userxattr: false Logging Driver: json-file Cgroup Driver: systemd Cgroup Version: 2 Plugins: Volume: local Network: bridge host ipvlan macvlan null overlay Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog Swarm: inactive Runtimes: io.containerd.runc.v2 runc Default Runtime: runc Init Binary: docker-init containerd version: 3dce8eb055cbb6872793272b4f20ed16117344f8 runc version: init version: de40ad0 Security Options: apparmor seccomp Profile: builtin cgroupns Kernel Version: 6.8.0-41-generic Operating System: Ubuntu Core 22 OSType: linux Architecture: x86_64 CPUs: 8 Total Memory: 7.524GiB Name: alpha01 ID: 2595f729-554d-43f0-ad76-6d9578678fc9 Docker Root Dir: /var/snap/docker/common/var-lib-docker Debug Mode: false Experimental: false Insecure Registries: 127.0.0.0/8 Live Restore Enabled: false å¯ä»¥çœ‹åˆ°Docker Root Dir: /var/snap/docker/common/var-lib-docker, è¡¨ç¤ºç°åœ¨docker cliè¿æ¥çš„æ˜¯snapçš„docker, è€Œä¸æ˜¯aptå®‰è£…çš„docker, æ‰€ä»¥å®¹å™¨å’Œé•œåƒéƒ½æ˜¯ç©ºçš„, å¯èƒ½æ˜¯å†…å­˜æº¢å‡ºå‘ç”Ÿäº†ä¸€äº›é”™è¯¯, å¯¼è‡´/var/run/docker.sockæŒ‡å‘äº†snapçš„docker, snap list dockeræŸ¥çœ‹, ç¡®å®æœ‰dockeræœåŠ¡åœ¨è¿è¡Œ æ‰§è¡Œå‘½ä»¤: sh sudo snap stop docker sudo snap remove docker sudo rm -rf /var/snap/docker snap list dockeræ£€æŸ¥, æ²¡æœ‰è¾“å‡ºå³ä¸ºåˆ é™¤æˆåŠŸ, sudo systemctl restart docker.service é‡å¯å, æ‰§è¡Œdocker pså’Œdocker imagesæ£€æŸ¥, å¯ä»¥çœ‹åˆ°è¾“å‡º. ","date":"2024-09-12","objectID":"/posts/linux/ubuntu%E7%9A%84docker%E5%AE%B9%E5%99%A8%E5%92%8C%E9%95%9C%E5%83%8F%E6%B6%88%E5%A4%B1/:0:0","series":null,"tags":null,"title":"Ubuntuçš„Dockerå®¹å™¨å’Œé•œåƒæ¶ˆå¤±","uri":"/posts/linux/ubuntu%E7%9A%84docker%E5%AE%B9%E5%99%A8%E5%92%8C%E9%95%9C%E5%83%8F%E6%B6%88%E5%A4%B1/#"},{"categories":null,"content":"ä½¿ç”¨lspci | grep NVIDIAæŸ¥çœ‹: text 3b:00.0 VGA compatible controller: NVIDIA Corporation Device 2684 (rev a1) 3b:00.1 Audio device: NVIDIA Corporation Device 22ba (rev a1) 5e:00.0 VGA compatible controller: NVIDIA Corporation Device 2684 (rev a1) 5e:00.1 Audio device: NVIDIA Corporation Device 22ba (rev a1) 86:00.0 VGA compatible controller: NVIDIA Corporation Device 2684 (rev a1) 86:00.1 Audio device: NVIDIA Corporation Device 22ba (rev a1) af:00.0 VGA compatible controller: NVIDIA Corporation Device 2684 (rev a1) af:00.1 Audio device: NVIDIA Corporation Device 22ba (rev a1) æˆ–è€…nvidia-smiæŸ¥çœ‹: text +---------------------------------------------------------------------------------------+ | NVIDIA-SMI 535.161.07 Driver Version: 535.161.07 CUDA Version: 12.2 | |-----------------------------------------+----------------------+----------------------+ | GPU Name Persistence-M | Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap | Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |=========================================+======================+======================| | 0 NVIDIA GeForce RTX 4090 Off | 00000000:3B:00.0 Off | Off | | 0% 41C P8 24W / 450W | 26MiB / 24564MiB | 0% Default | | | | N/A | +-----------------------------------------+----------------------+----------------------+ | 1 NVIDIA GeForce RTX 4090 Off | 00000000:5E:00.0 Off | Off | | 0% 40C P8 12W / 450W | 1093MiB / 24564MiB | 0% Default | | | | N/A | +-----------------------------------------+----------------------+----------------------+ | 2 NVIDIA GeForce RTX 4090 Off | 00000000:86:00.0 Off | Off | | 0% 40C P8 3W / 450W | 14MiB / 24564MiB | 0% Default | | | | N/A | +-----------------------------------------+----------------------+----------------------+ | 3 NVIDIA GeForce RTX 4090 Off | 00000000:AF:00.0 Off | Off | | 0% 40C P8 5W / 450W | 3746MiB / 24564MiB | 0% Default | | | | N/A | +-----------------------------------------+----------------------+----------------------+ å¯ä»¥çœ‹åˆ°pcieæ¥å£å…·ä½“ç¼–å·, æ ¹æ®ç¼–å·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤: sh # å¯ç”¨ nvidia-smi drain -p 0000:18:00.0 -m 0 # ç¦ç”¨ nvidia-smi drain -p 0000:18:00.0 -m 1 ","date":"2024-07-26","objectID":"/posts/linux/%E5%B1%8F%E8%94%BD%E9%83%A8%E5%88%86gpu/:0:0","series":null,"tags":null,"title":"å±è”½éƒ¨åˆ†GPU","uri":"/posts/linux/%E5%B1%8F%E8%94%BD%E9%83%A8%E5%88%86gpu/#"},{"categories":null,"content":"å¼€æœºæŠ¥é”™: text error: unknown filesystem. grub rescue\u003e æ— æ³•è¿›å…¥ç³»ç»Ÿå¼•å¯¼é¡µé¢, è¿™æ˜¯grubæ¢å¤æ¨¡å¼. ä½¿ç”¨lsæŸ¥çœ‹ç£ç›˜, ä¼šå‡ºç°: text (hd0) (hd0,msdos2) (hd0,msdos1) æˆ–è€… text (hd0) (hd0,gpt2) (hd0,gpt1) ä¸Šé¢æ˜¯mbrå¼•å¯¼, ä¸‹é¢æ˜¯gptå¼•å¯¼. ç„¶åä½¿ç”¨ls (hd0,gpt2)æˆ–è€…ls (hd0,2)æ¥æŸ¥çœ‹å„ä¸ªå¼•å¯¼åˆ†åŒº. å¤§éƒ¨åˆ†åˆ†åŒºéƒ½ä¼šæŠ¥é”™unknown filesystem, ç›´åˆ°ä¸æ˜¯è¿™ä¸ªæŠ¥é”™ä¸ºæ­¢. åŠ å…¥ä½ æ‰¾åˆ°çš„æ˜¯(hd0,2): sh set root=(hd0,2) set profix=(hd0,2)/boot/grub/ å¦‚æœä½ æ˜¯Btrfsç³»ç»Ÿ, éœ€è¦è¿™æ ·æ‰§è¡Œ: sh set root=(hd0,2) set profix=(hd0,2)/@/boot/grub/ å› ä¸ºBtrfsæ–‡ä»¶ç³»ç»Ÿä¼šæŠŠ/ç›®å½•æŒ‚è½½åˆ°ä¸€ä¸ªå·ä¸Šé¢, å¦‚æœä¸ç¡®å®šæ˜¯å“ªä¸ª, å¯ä»¥ä½¿ç”¨ ls (hd0,2)/-\u003els (hd0,2)/@-\u003e... é€çº§æŸ¥çœ‹ç›®å½•, ç›´åˆ°æ‰¾åˆ°/bootç›®å½•. ä¹‹åæ‰§è¡Œå‘½ä»¤: sh insmod normal normal è¿™æ ·å°±ä¼šè¿›å…¥åˆ°Grubå¼•å¯¼ç•Œé¢, è¿›å…¥Linuxç³»ç»Ÿå, æ‰§è¡Œå‘½ä»¤: sh sudo grub-mkconfig -o /boot/grub/grub.cfg sudo grub-install /dev/nvme0n1p4 è¿™æ ·ä¼šé‡å»ºgrubå¼•å¯¼, å¦‚æœä¸ç¡®å®š/ç›®å½•åœ¨å“ªä¸ªåˆ†åŒº, ä½¿ç”¨dfå‘½ä»¤æŸ¥çœ‹: text æ–‡ä»¶ç³»ç»Ÿ å¤§å° å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹ dev 16G 0 16G 0% /dev run 16G 11M 16G 1% /run efivarfs 192K 146K 42K 78% /sys/firmware/efi/efivars /dev/nvme0n1p4 471G 96G 370G 21% / tmpfs 16G 14M 16G 1% /dev/shm tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-journald.service tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-udev-load-credentials.service tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-tmpfiles-setup-dev-early.service tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-sysctl.service tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-tmpfiles-setup-dev.service tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-vconsole-setup.service tmpfs 16G 5.2M 16G 1% /tmp /dev/nvme0n1p4 471G 96G 370G 21% /var/tmp /dev/nvme0n1p4 471G 96G 370G 21% /srv /dev/nvme0n1p4 471G 96G 370G 21% /root /dev/nvme0n1p4 471G 96G 370G 21% /var/log /dev/nvme0n1p4 471G 96G 370G 21% /var/cache /dev/nvme0n1p4 471G 96G 370G 21% /home /dev/nvme0n1p1 96M 27M 70M 29% /boot/efi tmpfs 1.0M 0 1.0M 0% /run/credentials/systemd-tmpfiles-setup.service tmpfs 3.2G 172K 3.2G 1% /run/user/1000 å¯ä»¥çœ‹åˆ°æˆ‘çš„/ç›®å½•åœ¨/dev/nvme0n1p4 ","date":"2024-07-11","objectID":"/posts/grub2%E5%BC%95%E5%AF%BC%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/:0:0","series":null,"tags":null,"title":"Btrfs + Grub2 æŠ¥é”™: error: Unknown Filesystem. Grub Rescue\u003e","uri":"/posts/grub2%E5%BC%95%E5%AF%BC%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/#"},{"categories":null,"content":" sh docker run -p 6379:6379 --name redis -d redis ","date":"2024-07-09","objectID":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8redis/:0:0","series":null,"tags":null,"title":"éƒ¨ç½²ä½¿ç”¨redis","uri":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8redis/#"},{"categories":null,"content":"ä½¿ç”¨Ubuntuå®˜æ–¹ä»“åº“å®‰è£…: sudo ubuntu-drivers autoinstall é‡å¯ sudo apt install nvidia-cuda-toolkit sudo apt install nvidia-container-toolkit / sudo apt install nvidia-docker2 è¿™ç§æ–¹å¼æ¯”ä¼ ç»Ÿçš„å»NVIDIAå®˜ç½‘ä¸‹è½½.runæ–‡ä»¶å®‰è£…æ›´ç®€å•, å¹¶ä¸”ä»“åº“æºç”±Ubuntuå®˜æ–¹ç»´æŠ¤, å…¼å®¹æ€§é”™è¯¯æ›´å°‘ ","date":"2024-07-01","objectID":"/posts/linux/ubuntu%E7%B3%BB%E7%BB%9Fnvidia%E9%A9%B1%E5%8A%A8%E5%92%8Ccuda%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Ubuntuç³»ç»ŸNVIDIAé©±åŠ¨å’ŒCUDAå®‰è£…","uri":"/posts/linux/ubuntu%E7%B3%BB%E7%BB%9Fnvidia%E9%A9%B1%E5%8A%A8%E5%92%8Ccuda%E5%AE%89%E8%A3%85/#"},{"categories":null,"content":" å®‰è£… sh # æ™®é€šå®‰è£… docker run -itd --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=å¯†ç  mysql # é€€å‡ºè‡ªåŠ¨é‡å¯ docker run -itd --restart=always --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=å¯†ç  mysql ","date":"2024-07-01","objectID":"/posts/service/mysql%E5%AE%89%E8%A3%85%E7%9B%B8%E5%85%B3/:1:0","series":null,"tags":null,"title":"MySQLå®‰è£…ç›¸å…³","uri":"/posts/service/mysql%E5%AE%89%E8%A3%85%E7%9B%B8%E5%85%B3/#å®‰è£…"},{"categories":null,"content":" å¤‡ä»½æ¢å¤ sh # å¤‡ä»½ mysqldump -u ç”¨æˆ·å -på¯†ç  -h host_address -P port_number database_name \u003e database_dump.sql # æ¢å¤ mysql -u ç”¨æˆ·å -på¯†ç  -h host_address -P port_number database_name \u003c database_dump.sql ","date":"2024-07-01","objectID":"/posts/service/mysql%E5%AE%89%E8%A3%85%E7%9B%B8%E5%85%B3/:2:0","series":null,"tags":null,"title":"MySQLå®‰è£…ç›¸å…³","uri":"/posts/service/mysql%E5%AE%89%E8%A3%85%E7%9B%B8%E5%85%B3/#å¤‡ä»½æ¢å¤"},{"categories":null,"content":" å®‰è£…bspwmå’Œsxhkd bash yay -S sxhkd bspwm archä¼šè‡ªåŠ¨åˆ›å»ºdesktopæ–‡ä»¶ ini [Desktop Entry] Name=bspwm Comment=Binary space partitioning window manager Exec=bspwm Type=Application é…ç½®æ–‡ä»¶ bash cd ~/.config mkdir bspwm sxhkd cp /usr/share/doc/bspwm/examples/bspwmrc bspwm/ cp /usr/share/doc/bspwm/examples/sxhkdrc sxhkd/ ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…bspwmå’Œsxhkd"},{"categories":null,"content":" å®‰è£…rofi bash yay -S rofi ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…rofi"},{"categories":null,"content":" å®‰è£…fehæ˜¾ç¤ºå£çº¸ bash yay -S feh å¯åŠ¨å‘½ä»¤ text feh --bg-center /usr/share/wallpapers/EndeavourOS/contents/images/3840x2160.png ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…fehæ˜¾ç¤ºå£çº¸"},{"categories":null,"content":" å¯åŠ¨è¾“å…¥æ³• text fcitx5 \u0026 ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å¯åŠ¨è¾“å…¥æ³•"},{"categories":null,"content":" å®‰è£…picom text yay -S picom mkdir ~/.config/picom cp /usr/share/doc/picom/picom.conf.example ~/.config/picom/picom.conf # å¯åŠ¨å‘½ä»¤ picom -b \u0026 ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…picom"},{"categories":null,"content":" å®‰è£…polybar text yay -S polybar mkdir ~/.config/polybar cp /usr/share/doc/polybar/examples/config.ini ~/.config/polybar/config.ini åˆ›å»ºå¯åŠ¨æ–‡ä»¶vim ~/.config/polybar/launch.sh bash #!/bin/bash # Terminate already running bar instances killall -q polybar # If all your bars have ipc enabled, you can also use # polybar-msg cmd quit # Launch Polybar, using default config location ~/.config/polybar/config.ini polybar example 2\u003e\u00261 | tee -a /tmp/polybar.log \u0026 disown echo \"Polybar launched...\" å¯åŠ¨å‘½ä»¤ text sh ~/.config/polybar/launch.sh æ·»åŠ ç³»ç»Ÿæ‰˜ç›˜ ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…polybar"},{"categories":null,"content":" å®‰è£…é€šçŸ¥ç®¡ç†å™¨ text yay -S dunst # å¯åŠ¨ dunst \u0026 ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…é€šçŸ¥ç®¡ç†å™¨"},{"categories":null,"content":" å®‰è£…WIFIè¿æ¥æ§åˆ¶è½¯ä»¶ text yay -S network-manager-applet gnome-keyring network-manager-appletç”¨æ¥åœ¨æ‰˜ç›˜å›¾æ ‡æ§åˆ¶æ— çº¿wifiè¿æ¥, gnome-keyringç”¨æ¥å­˜å‚¨å½“å‰ç”¨æˆ·è¿æ¥çš„wifiå¯†ç , å¦åˆ™wifiè¿æ¥é»˜è®¤å°†ä¸ä¼šå­˜å‚¨å¯†ç , éœ€è¦æ‰‹åŠ¨åœ¨wifiè¿æ¥æ§åˆ¶é¢æ¿ä¸­ä¸ºæ‰€æœ‰ç”¨æˆ·æ˜æ–‡ä¿å­˜å¯†ç , ä¸”å¯†ç ä¸ä¼šè¢«åŠ å¯†. ","date":"2024-07-01","objectID":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Bspwmé…ç½®å®‰è£…","uri":"/posts/linux/bspwm%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85/#å®‰è£…wifiè¿æ¥æ§åˆ¶è½¯ä»¶"},{"categories":null,"content":" sh docker run -d \\ --name aria2-pro \\ --restart unless-stopped \\ --log-opt max-size=50m \\ --network host \\ -e RPC_SECRET=\"å¯†ç \" \\ -e RPC_PORT=6800 \\ -e LISTEN_PORT=6888 \\ -v $PWD/aria2/config:/config \\ -v $PWD/aria2/downloads:/downloads \\ p3terx/aria2-pro ","date":"2024-07-01","objectID":"/posts/service/%E9%83%A8%E7%BD%B2aria2-pro%E6%9C%8D%E5%8A%A1/:0:0","series":null,"tags":null,"title":"éƒ¨ç½²aria2 ProæœåŠ¡","uri":"/posts/service/%E9%83%A8%E7%BD%B2aria2-pro%E6%9C%8D%E5%8A%A1/#"},{"categories":null,"content":"å°†ä»¥ä¸‹å†…å®¹æŠ¥é”™ä¸ºadd_xiaohe.reg, ç„¶åæ‰§è¡Œ: text Windows Registry Editor Version 5.00 [HKEY_CURRENT_USER\\Software\\Microsoft\\InputMethod\\Settings\\CHS] \"Enable Cloud Candidate\"=dword:00000000 \"Enable Dynamic Candidate Ranking\"=dword:00000001 \"EnableExtraDomainType\"=dword:00000001 \"Enable self-learning\"=dword:00000001 \"EnableSmartSelfLearning\"=dword:00000001 \"EnableLiveSticker\"=dword:00000000 \"Enable EUDP\"=dword:00000001 \"Enable Double Pinyin\"=dword:00000001 \"UserDefinedDoublePinyinScheme0\"=\"å°é¹¤åŒæ‹¼*2*^*iuvdjhcwfg^xmlnpbksqszxkrltvyovt\" \"DoublePinyinScheme\"=dword:0000000a ","date":"2024-07-01","objectID":"/posts/windows%E6%8B%BC%E9%9F%B3%E6%B7%BB%E5%8A%A0%E5%B0%8F%E9%B9%A4%E5%8F%8C%E6%8B%BC/:0:0","series":null,"tags":null,"title":"Windowsæ‹¼éŸ³æ·»åŠ å°é¹¤åŒæ‹¼","uri":"/posts/windows%E6%8B%BC%E9%9F%B3%E6%B7%BB%E5%8A%A0%E5%B0%8F%E9%B9%A4%E5%8F%8C%E6%8B%BC/#"},{"categories":null,"content":" socks5ä»£ç† sh ssh -NT -p 52032 -D 6999 cmet@202.141.163.4 å¼€å¯ä»£ç†åä½¿ç”¨Proxy SwitchyOmegaç­‰æµè§ˆå™¨æ’ä»¶ä½¿ç”¨ä»£ç† ","date":"2024-07-01","objectID":"/posts/linux/ssh%E5%8A%A8%E6%80%81socks5%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/:1:0","series":null,"tags":null,"title":"sshåŠ¨æ€socks5ä»£ç†å’Œç«¯å£è½¬å‘","uri":"/posts/linux/ssh%E5%8A%A8%E6%80%81socks5%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/#socks5ä»£ç†"},{"categories":null,"content":" ç«¯å£è½¬å‘ sh ssh -NT -p 52032 -L 0.0.0.0:9900:localhost:80 -o ServerAliveInterval=60 cmet@202.141.163.4 ","date":"2024-07-01","objectID":"/posts/linux/ssh%E5%8A%A8%E6%80%81socks5%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/:2:0","series":null,"tags":null,"title":"sshåŠ¨æ€socks5ä»£ç†å’Œç«¯å£è½¬å‘","uri":"/posts/linux/ssh%E5%8A%A8%E6%80%81socks5%E4%BB%A3%E7%90%86%E5%92%8C%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/#ç«¯å£è½¬å‘"},{"categories":null,"content":"python3.11ä»¥åé»˜è®¤ä¸å…è®¸å…¨å±€pipä¸‹è½½, éœ€è¦ä½¿ç”¨é…ç½®å¼€å¯ sh pip config set global.break-system-packages true æˆ–è€…å¯ä»¥ç”¨venv/poetryç­‰è™šæ‹Ÿç¯å¢ƒå·¥å…·åˆ›å»ºç¯å¢ƒ, ä¸æ¨èç›´æ¥pipä¸‹è½½åˆ°å…¨å±€ç¯å¢ƒ ","date":"2024-07-01","objectID":"/posts/python/python%E5%85%81%E8%AE%B8pip%E5%85%A8%E5%B1%80%E4%B8%8B%E8%BD%BD/:0:0","series":null,"tags":null,"title":"Pythonå…è®¸pipå…¨å±€ä¸‹è½½","uri":"/posts/python/python%E5%85%81%E8%AE%B8pip%E5%85%A8%E5%B1%80%E4%B8%8B%E8%BD%BD/#"},{"categories":null,"content":" sh apt update apt install portaudio19-dev pip install pyaudio ","date":"2024-07-01","objectID":"/posts/linux/debian%E5%AE%B9%E5%99%A8%E5%AE%89%E8%A3%85pyaudio/:0:0","series":null,"tags":null,"title":"Debianå®¹å™¨å®‰è£…pyaudio","uri":"/posts/linux/debian%E5%AE%B9%E5%99%A8%E5%AE%89%E8%A3%85pyaudio/#"},{"categories":null,"content":" python import sys import pathlib if __name__==\"__main__\": print(sys.argv[0]) print(pathlib.Path(sys.argv[0]).absolute()) ","date":"2024-07-01","objectID":"/posts/python/python%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84/:0:0","series":null,"tags":null,"title":"Pythonè·å–å½“å‰æ–‡ä»¶ç»å¯¹è·¯å¾„","uri":"/posts/python/python%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84/#"},{"categories":null,"content":" sh # å®‰è£… curl -s https://install.zerotier.com | sudo bash # è®¾ç½® zerotier å¼€æœºè‡ªå¯ systemctl enable zerotier-one.service # å¯åŠ¨ zerotier æœåŠ¡ systemctl start zerotier-one.service # åŠ å…¥ç½‘ç»œ zerotier-cli join xxxxx # åŠ å…¥ä¸­ç»§ zerotier-cli orbit xxxx xxxx ","date":"2024-07-01","objectID":"/posts/linux/zerotier%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":null,"title":"Zerotierå®‰è£…","uri":"/posts/linux/zerotier%E5%AE%89%E8%A3%85/#"},{"categories":null,"content":" æ­å»ºmoonä¸­ç»§æœåŠ¡é¦–å…ˆ: sh cd /var/lib/zerotier-one ç”Ÿæˆä¸­ç»§é…ç½®: sh zerotier-idtool initmoon identity.public \u003e\u003e moon.json å¦‚æœæŠ¥é”™: dentity.public is not a valid identity, åˆ™æ‰§è¡Œ: sh zerotier-idtool generate zerotier-idtool generate identity.secret identity.public # ç„¶åç»§ç»­æ­£å¸¸æµç¨‹ zerotier-idtool initmoon identity.public \u003e\u003e moon.json ç”Ÿæˆçš„æ–‡ä»¶ç±»ä¼¼: json { \"id\": \"xxx\", \"objtype\": \"world\", \"roots\": [ { \"identity\": \"xxx\", \"stableEndpoints\": [ \"å…¬ç½‘ip/ç«¯å£\" ] } ], \"signingKey\": \"xxx\", \"signingKey_SECRET\": \"xxx\", \"updatesMustBeSignedBy\": \"xxx\", \"worldType\": \"moon\" } ä¿®æ”¹å…¶ä¸­çš„stableEndpointså€¼ä¸ºä½ å…¬ç½‘æœåŠ¡å™¨IP ç„¶å: sh # ç”Ÿæˆæ–‡ä»¶ zerotier-idtool genmoon moon.json # æ”¾å…¥é…ç½® mkdir moons.d cp *.moon moons.d/ # é‡å¯ systemctl restart zerotier-one.service ç›®å½•ä¸‹æœ‰xxxxxxxxx.moonæ–‡ä»¶, è®°ä½id, ç„¶å: text zerotier-cli orbit xxxxxxxxx xxxxxxxxx ","date":"2024-07-01","objectID":"/posts/linux/zerotier%E5%AE%89%E8%A3%85/:1:0","series":null,"tags":null,"title":"Zerotierå®‰è£…","uri":"/posts/linux/zerotier%E5%AE%89%E8%A3%85/#æ­å»ºmoonä¸­ç»§æœåŠ¡"},{"categories":null,"content":" sh # å¯åŠ¨æœåŠ¡ sudo systemctl start docker # åœæ­¢æœåŠ¡ sudo systemctl stop docker # å¼€æœºå¯åŠ¨æœåŠ¡ sudo systemctl enable docker # ç¦æ­¢å¼€æœºå¯åŠ¨æœåŠ¡ sudo systemctl disable docker ","date":"2024-07-01","objectID":"/posts/linux/systemd%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1/:0:0","series":null,"tags":null,"title":"Systemdç®¡ç†æœåŠ¡","uri":"/posts/linux/systemd%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1/#"},{"categories":null,"content":" ç¼–å†™é…ç½®æ–‡ä»¶ ini [Unit] Description=my_server # æœåŠ¡åç§° After=network.target [Service] Type=simple User=ubuntu # ç”¨æˆ· Group=ubuntu # ç”¨æˆ·ç»„ WorkingDirectory=/home/ubuntu # å·¥ä½œç›®å½• ExecStart=/home/ubuntu/start.sh # å¯åŠ¨å‘½ä»¤ Restart=on-failure # å¼‚å¸¸é‡å¯æœºåˆ¶ on-failure: å¼‚å¸¸é€€å‡ºé‡å¯, always: é€€å‡ºåæ€»æ˜¯é‡å¯ [Install] WantedBy=multi-user.target ","date":"2024-07-01","objectID":"/posts/linux/systemd%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1/:1:0","series":null,"tags":null,"title":"Systemdç®¡ç†æœåŠ¡","uri":"/posts/linux/systemd%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1/#ç¼–å†™é…ç½®æ–‡ä»¶"},{"categories":null,"content":" sh # æ¥å—ç«¯ nc -l -p 1234 \u003e file.tar.gz # å‘é€ç«¯ nc 192.168.1.1 1234 \u003c file.tar.gz é€‚ç”¨äºscp/rsyncä¸èƒ½ç”¨çš„æƒ…å†µ ","date":"2024-07-01","objectID":"/posts/linux/netcat%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/:0:0","series":null,"tags":null,"title":"Netcatä¼ è¾“æ–‡ä»¶","uri":"/posts/linux/netcat%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/#"},{"categories":null,"content":" sh sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst virt-manager sudo systemctl enable --now libvirtd # å¯åŠ¨å¹¶ä½¿èƒ½libvirtdæœåŠ¡ sudo lsmod | grep kvm # ç¡®è®¤KVMæ¨¡å—å·²æ­£ç¡®åŠ è½½ # VirtIOé©±åŠ¨, åœ°å€: https://github.com/virtio-win/virtio-win-pkg-scripts/blob/master/README.md sudo virt-install \\ --name=windows10 \\ --ram=8192 \\ --vcpus=4 \\ --cpu host \\ --hvm \\ --disk path=/home/ubuntu/kvm/win10.img,size=60,bus=virtio,format=qcow2 \\ --disk path=/data/aria2/downloads/virtio-win-0.1.240.iso,device=cdrom \\ --cdrom /data/aria2/downloads/Win10_22H2_Chinese_Simplified_x64v1.iso \\ --os-type=windows \\ --os-variant=win10 \\ --network bridge=virbr0,model=virtio \\ --graphics spice,listen=0.0.0.0 \\ --video qxl ","date":"2024-07-01","objectID":"/posts/linux/kvm%E5%AE%89%E8%A3%85win10%E8%99%9A%E6%8B%9F%E6%9C%BA/:0:0","series":null,"tags":null,"title":"Kvmå®‰è£…win10è™šæ‹Ÿæœº","uri":"/posts/linux/kvm%E5%AE%89%E8%A3%85win10%E8%99%9A%E6%8B%9F%E6%9C%BA/#"},{"categories":null,"content":" sh docker run -itd -p 15672:15672 -p 5672:5672 -e RABBITMQ_DEFAULT_USER=ç”¨æˆ·å -e RABBITMQ_DEFAULT_PASS=å¯†ç  --name rabbitmq --hostname=rabbitmqhostone rabbitmq:management ç®¡ç†ç•Œé¢: sh wget http://localhost:15672/cli/rabbitmqadmin ","date":"2024-07-01","objectID":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8rabbitmq/:0:0","series":null,"tags":null,"title":"éƒ¨ç½²ä½¿ç”¨rabbitmq","uri":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8rabbitmq/#"},{"categories":null,"content":" sh apt install alsa-utils apt install libatlas-base-dev ","date":"2024-07-01","objectID":"/posts/linux/debian%E5%AE%B9%E5%99%A8%E5%AE%89%E8%A3%85alsa%E4%BE%9D%E8%B5%96/:0:0","series":null,"tags":null,"title":"Debianå®¹å™¨å®‰è£…alsaä¾èµ–","uri":"/posts/linux/debian%E5%AE%B9%E5%99%A8%E5%AE%89%E8%A3%85alsa%E4%BE%9D%E8%B5%96/#"},{"categories":null,"content":" sh # åœ¨æœºå™¨ä¸Šæ·»åŠ  echo \"ssh-key\" \u003e\u003e ~/.ssh/authorized_keys # ç›´æ¥æ·»åŠ åˆ°è¿œç¨‹ ssh-copy-id user@host ","date":"2024-07-01","objectID":"/posts/linux/%E6%B7%BB%E5%8A%A0ssh-key/:0:0","series":null,"tags":null,"title":"æ·»åŠ ssh Key","uri":"/posts/linux/%E6%B7%BB%E5%8A%A0ssh-key/#"},{"categories":null,"content":" sh sudo usermod -a -G docker $USER ","date":"2024-07-01","objectID":"/posts/linux/linux%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84/:0:0","series":null,"tags":null,"title":"Linuxæ·»åŠ ç”¨æˆ·åˆ°ç”¨æˆ·ç»„","uri":"/posts/linux/linux%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84/#"},{"categories":null,"content":" bash docker run -d -p 9000:9000 -p 9090:9090 \\ --name minio \\ -e \"MINIO_ACCESS_KEY=ç”¨æˆ·å\" \\ -e \"MINIO_SECRET_KEY=å¯†ç \" \\ -v /data/minio_data:/data \\ minio/minio server \\ /data --console-address \":9090\" -address \":9000\" ","date":"2024-07-01","objectID":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8minio/:0:0","series":null,"tags":null,"title":"éƒ¨ç½²ä½¿ç”¨minio","uri":"/posts/service/%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8minio/#"},{"categories":null,"content":"Linux KDEæ¡Œé¢ç¯å¢ƒä¸‹æŒ‚è½½NTFSæ ¼å¼ç§»åŠ¨ç¡¬ç›˜å¤±è´¥, ç»è¿‡æ£€æŸ¥æ˜¯å› ä¸ºç¡¬ç›˜æŸäº›åŒºå—æ•°æ®æ˜¯drityçš„, é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¿®å¤: bash sudo ntfsfix -d /dev/sda1 æ³¨æ„ç¡¬ç›˜è·¯å¾„æ”¹ä¸ºç›®æ ‡ç¡¬ç›˜åˆ†åŒº. ","date":"2024-05-13","objectID":"/posts/linux%E6%97%A0%E6%B3%95%E6%8C%82%E8%BD%BDntfs%E7%A1%AC%E7%9B%98/:0:0","series":null,"tags":null,"title":"Linuxæ— æ³•æŒ‚è½½NTFSç¡¬ç›˜","uri":"/posts/linux%E6%97%A0%E6%B3%95%E6%8C%82%E8%BD%BDntfs%E7%A1%AC%E7%9B%98/#"},{"categories":null,"content":" å‰è¨€å¹³å¸¸ç»å¸¸é‡åˆ°ä¸çŸ¥é“å±€åŸŸç½‘å†…æœåŠ¡å™¨ip, éœ€è¦ä½¿ç”¨ç«¯å£æ‰«ææ¥ç¡®å®šæœåŠ¡å™¨ipçš„æƒ…å†µ, éœ€è¦ç«¯å£æ‰«æçš„è§£å†³æ–¹æ¡ˆ. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:1:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#å‰è¨€"},{"categories":null,"content":" nmapnmapæ˜¯æœ€æµè¡Œçš„ç«¯å£æ‰«æå·¥å…·, ä½¿ç”¨æ–¹æ³•: sh sudo nmap -sT -p 22 192.168.10.0-255 è¾“å‡º: text Starting Nmap 7.94 ( https://nmap.org ) at 2024-04-25 16:08 CST Nmap scan report for 192.168.10.0 Host is up (0.00018s latency). PORT STATE SERVICE 22/tcp open ssh MAC Address: 4C:CC:6A:C3:3D:52 (Micro-Star Intl) Nmap scan report for 192.168.10.1 Host is up (0.00040s latency). PORT STATE SERVICE 22/tcp closed ssh MAC Address: F4:DE:AF:DB:9C:9B (Huawei Technologies) Nmap scan report for 192.168.10.5 Host is up (0.17s latency). PORT STATE SERVICE 22/tcp filtered ssh MAC Address: 34:7D:F6:62:5D:EF (Intel Corporate) Nmap scan report for 192.168.10.9 Host is up (0.13s latency). PORT STATE SERVICE 22/tcp filtered ssh MAC Address: CC:D9:AC:03:1B:D2 (Intel Corporate) ç»è¿‡ä½“éªŒé€Ÿåº¦è¾ƒæ…¢, ä½†æ˜¯æ ¹æ®å®˜ç½‘æ–‡æ¡£æ‰€è¿°, åŠŸèƒ½å¾ˆå¤š, é€‚åˆé’ˆå¯¹ç¡®å®šçš„ipå’ŒåŸŸåæ‰«æ. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:2:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#nmap"},{"categories":null,"content":" masscanmasscanæ˜¯cè¯­è¨€ç¼–å†™çš„ç«¯å£æ‰«æå·¥å…·, ä¸»æ‰“é€Ÿåº¦å¿«, éœ€è¦è‡ªè¡Œç¼–è¯‘æˆ–ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…, ä½¿ç”¨: sh sudo masscan -p22 192.168.10.0/24 è¾“å‡º: text Starting masscan 1.3.2 (http://bit.ly/14GZzcT) at 2024-04-25 08:17:30 GMT Initiating SYN Stealth Scan Scanning 256 hosts [1 port/host] Discovered open port 22/tcp on 192.168.10.199 Discovered open port 22/tcp on 192.168.10.229 Discovered open port 22/tcp on 192.168.10.65 é€Ÿåº¦å¾ˆå¿«, é»˜è®¤æ¯ç§’100ä¸ªæ•°æ®åŒ…, é€šè¿‡æ·»åŠ --max-rateå‚æ•°å¯ä»¥åŠ å¿«æ‰«æé€Ÿåº¦: sh sudo masscan -p22 192.168.0.0/16 --max-rate 100000 ä½†æ˜¯å®ƒä¸æ”¯æŒåŸŸåæ‰«æ, ä¹Ÿä¸æ”¯æŒudp, ä¼˜ç‚¹æ˜¯é€Ÿåº¦å¾ˆå¿«, å¯ä»¥å’Œnmapç»“åˆä½¿ç”¨. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:3:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#masscan"},{"categories":null,"content":" zmapzmapå’Œmasscanä¸€æ ·æ˜¯ä¸ºäº†ipv4å…¨ç½‘æ‰«æçš„å·¥å…·, åŒæ ·ä¸»æ‰“é€Ÿåº¦å¿«, åŒæ ·ä¸æä¾›äºŒè¿›åˆ¶æ–‡ä»¶, ä½¿ç”¨: sh sudo zmap -p22 192.168.10.0/24 æŠ¥é”™: text Apr 25 17:31:46.236 [INFO] zmap: By default, ZMap will output the unique IP addresses of hosts that respond successfully (e.g., SYN-ACK packet). This is equivalent to running ZMap with the following flags: --output-module=csv --output-fields=saddr --output-filter='success=1 \u0026\u0026 repeat=0' --no-header-row. If you want all responses, explicitly set an output module or set --output-filter=\"\". Apr 25 17:31:46.236 [WARN] blocklist: ZMap is currently using the default blocklist located at /etc/zmap/blocklist.conf. By default, this blocklist excludes locally scoped networks (e.g. 10.0.0.0/8, 127.0.0.1/8, and 192.168.0.0/16). If you are trying to scan local networks, you can change the default blocklist by editing the default ZMap configuration at /etc/zmap/blocklist.conf. If you have modified the default blocklist, you can ignore this message. Apr 25 17:31:46.237 [ERROR] blocklist: no addresses are eligible to be scanned in the current configuration. This may be because the blocklist being used by ZMap (/etc/zmap/blocklist.conf) prevents any addresses from receiving probe packets. Apr 25 17:31:46.237 [FATAL] zmap: unable to initialize blocklist / allowlist çœ‹èµ·æ¥zmapé»˜è®¤æ˜¯ä¸å…è®¸æ‰«æå±€åŸŸç½‘çš„. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:4:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#zmap"},{"categories":null,"content":" naabunaabuæ˜¯goè¯­è¨€ç¼–å†™çš„ç«¯å£æ‰«æå·¥å…·, ç›¸æ¯”masscanéœ€è¦ç”¨makeç¼–è¯‘å®‰è£…(æˆ–è€…ç”¨åŒ…ç®¡ç†å™¨ä¸‹è½½), naabuçš„ç¼–è¯‘å®‰è£…æ›´åŠ å‹å¥½, ä¸”å®˜æ–¹æœ‰ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶æä¾›. ä½¿ç”¨æ–¹å¼: sh sudo naabu -p 22 -host 192.168.10.0/24 è¾“å‡º: text __ ___ ___ ___ _/ / __ __ / _ \\/ _ \\/ _ \\/ _ \\/ // / /_//_/\\_,_/\\_,_/_.__/\\_,_/ projectdiscovery.io [INF] Current naabu version 2.3.0 (latest) [INF] Running host discovery scan [INF] Running SYN scan with CAP_NET_RAW privileges 192.168.10.212:80 192.168.10.212:443 [INF] Found 3 ports on host 192.168.10.212 (192.168.10.212) é€Ÿåº¦ä¹Ÿå¾ˆå¿«. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:5:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#naabu"},{"categories":null,"content":" RustScanRustScanå¦‚å…¶åæ˜¯rustç¼–å†™çš„ç«¯å£æ‰«æå·¥å…·, ç¤¾åŒºæ–‡æ¡£å†™å¾—å¾ˆå¥½, å®˜æ–¹ä¹Ÿæä¾›windowså’Œlinuxçš„äºŒè¿›åˆ¶æ–‡ä»¶, é€Ÿåº¦ä¿æŒå¾ˆå¿«çš„åŒæ—¶, æ”¯æŒå¾ˆå¤šç°ä»£åŒ–çš„ç‰¹æ€§, æ¯”å¦‚æ”¯æŒPython/Lua/Shellè„šæœ¬é›†æˆ, å®˜æ–¹æ–‡æ¡£è¯´æ”¯æŒè‡ªé€‚åº”å­¦ä¹ , â€œè¶Šç”¨è¶Šæµç•…â€. è¿˜æ”¯æŒæ— éšœç¢, è¿™å¾ˆé…·. ä½¿ç”¨: sh rustscan -a 192.168.10.0/24 -p22 å…ˆæ˜¯è¾“å‡ºäº†æ‰«æåˆ°çš„ç«¯å£, ç„¶åæŠ¥äº†ä¸€å¤§å †è­¦å‘Š, å’Œè°ƒç”¨nmapçš„è¾“å‡º, çœ‹èµ·æ¥å¾ˆæ‚ä¹±. ç»è¿‡æŸ¥è¯¢, å¾—çŸ¥é»˜è®¤rustscanä¼šå°†æ‰«æçš„çš„æœºå™¨ç«¯å£å†ä¼ å…¥nmapæ‰«æ, ä½¿å¾—æ•°æ®æ›´å‡†ç¡®, å¯ä»¥åŠ ä¸Š-gå‚æ•°ç¦æ­¢ä¼ å…¥nmap: sh rustscan -a 192.168.10.0/24 -p22 --ulimit 5000 -g è¾“å‡ºç»“æœå¾ˆçº¯å‡€: text 192.168.10.93 -\u003e [22] 192.168.10.65 -\u003e [22] 192.168.10.47 -\u003e [22] 192.168.10.192 -\u003e [22] 192.168.10.229 -\u003e [22] 192.168.10.212 -\u003e [22] 192.168.10.0 -\u003e [22] 192.168.10.11 -\u003e [22] æ®æ–‡æ¡£è¯´, æ˜¯ä¸ºäº†æ–¹ä¾¿grepè¿‡æ»¤çš„æ¨¡å¼. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:6:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#rustscan"},{"categories":null,"content":" æ€»ç»“nmapæœ€æµè¡Œ, åŠŸèƒ½æœ€å¼ºå¤§, ä½†æ˜¯æ‰«æé€Ÿåº¦éå¸¸æ…¢; masscanå’Œzmapç±»ä¼¼, ä¸»æ‰“é€Ÿåº¦å¿«, ä¸æä¾›ç¼–è¯‘å¥½çš„æ–‡ä»¶, ä½¿ç”¨èµ·æ¥æ„Ÿè§‰masscanæ›´å‹å¥½ä¸€ç‚¹; naabuæ˜¯æœ‰å…¬å¸é©±åŠ¨çš„å¼€æºé¡¹ç›®, ä½¿ç”¨goç¼–å†™, ä½¿ç”¨å’Œè¾“å‡ºéƒ½æ¯”è¾ƒç®€å•; rustscanæ˜¯ç¤¾åŒºé©±åŠ¨çš„ç«¯å£æ‰«æè½¯ä»¶, åŠŸèƒ½ä¸°å¯Œ, ä¸»è¦æ€è·¯æ˜¯å…ˆç”¨rustscanåˆç­›ç„¶åæ”¾å…¥nmapè¯¦ç»†æ‰«æ. ","date":"2024-04-25","objectID":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/:7:0","series":null,"tags":null,"title":"ç«¯å£æ‰«æå·¥å…·","uri":"/posts/linux/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7/#æ€»ç»“"},{"categories":null,"content":" å®‰è£… sh pkg install openssh ","date":"2024-04-23","objectID":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/:1:0","series":null,"tags":null,"title":"Termuxå®‰è£…ssh","uri":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/#å®‰è£…"},{"categories":null,"content":" è¿è¡Œç”±äºTermuxæ²¡æœ‰systemd, æ¯æ¬¡éœ€è¦æ‰‹åŠ¨å¯åŠ¨sshd sh sshd å‘ç°æŠ¥é”™: text CANNOT LINK EXECUTABLE \"sshd\": library \"libcrypto.so.3\" not found: needed by main executable å®‰è£…opessl: sh pkg install openssl æŠ¥é”™: text sshd: no hostkeys available -- exiting. æŸ¥èµ„æ–™å¾—çŸ¥æ‰§è¡Œ: sh ssh-keygen -A å†æ¬¡è¿è¡Œå³å¯ ","date":"2024-04-23","objectID":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/:2:0","series":null,"tags":null,"title":"Termuxå®‰è£…ssh","uri":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/#è¿è¡Œ"},{"categories":null,"content":" è¿æ¥åŸºäºå®‰å…¨ç­–ç•¥, Termuxçš„sshdåªå…è®¸ssh-keyç™»å½•, å°†sshå…¬é’¥ä¼ è¾“åˆ°æ‰‹æœº, ç„¶å: sh # å¦‚æœæ²¡æœ‰ç›®å½•åˆ™åˆ›å»º mkdir .ssh # æ·»åŠ å…¬é’¥åˆ°authorized_keysæ–‡ä»¶æœ€åä¸€è¡Œ echo \"ssh-rsa xxx= user\" \u003e\u003e .ssh/authorized_keys å¦‚æœå®¢æˆ·æœºä¹Ÿå®‰è£…äº†sshd, ä¹Ÿå¯ä»¥: sh mkdir .ssh ssh user@host \"cat ~/.ssh/id_rsa.pub\" \u003e\u003e ~/.ssh/authorized_keys Termuxä¾ç„¶éœ€è¦è®¾ç½®å¯†ç , æ‰§è¡Œ: sh passwd æŸ¥çœ‹ç”¨æˆ·å: sh whoami æŸ¥çœ‹ip: sh ifconfig è¿æ¥: sh ssh -p 8022 user@host ä¹‹åuè¾“å…¥å¯†ç å³å¯è¿æ¥, æ³¨æ„ç«¯å£ä¸º8022, è€Œä¸æ˜¯22. ","date":"2024-04-23","objectID":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/:3:0","series":null,"tags":null,"title":"Termuxå®‰è£…ssh","uri":"/posts/termux/termux%E5%AE%89%E8%A3%85ssh/#è¿æ¥"},{"categories":null,"content":"dockerä¸­å®‰è£…yolo-v8è¿è¡ŒæŠ¥é”™: text ImportError: libGL.so.1: cannot open shared object file: No such file or directory æŸ¥è¯¢å‘ç°ä¸ºopencvåŒ…ç¼ºå°‘åŠ¨æ€é“¾æ¥åº“ä¾èµ–, ä½¿ç”¨aptä¸‹è½½opencvæ‰€æœ‰ç³»ç»Ÿä¾èµ–: sh apt install python3-opencv ä¸‹è½½ä¹‹åé‡æ–°è¿è¡Œå³å¯. ","date":"2024-04-23","objectID":"/posts/python/docker%E4%B8%ADpython%E6%8A%A5%E9%94%99importerrorlibgl.so.1/:0:0","series":null,"tags":null,"title":"Dockerä¸­PythonæŠ¥é”™ ImportError: libGL.so.1: cannot open shared object file: No such file or directory","uri":"/posts/python/docker%E4%B8%ADpython%E6%8A%A5%E9%94%99importerrorlibgl.so.1/#"},{"categories":null,"content":" ç°è±¡åœ¨æœåŠ¡å™¨å¤–éƒ¨å¯åŠ¨gradio, è¾“å…¥ä¸€ä¸ªmp4è§†é¢‘, è¾“å‡ºä¸€ä¸ªaviæ ¼å¼è§†é¢‘, ç®€å•ä»£ç å¦‚ä¸‹: python if __name__ == '__main__': input = gr.Video() output = gr.Video() ... iface = gr.Interface( fn=pcwp, inputs=input, outputs=output, ) uvicorn.run( gr.mount_gradio_app(FastAPI(), iface, path=\"\"), host=\"0.0.0.0\", port=9120 ) åœ¨condaç¯å¢ƒä¸‹å¯ä»¥æ­£å¸¸è¿è¡Œ, æ‰“åŒ…ä¸ºdockerå®¹å™¨æ— æ³•æ’­æ”¾outputè§†é¢‘, ä»£ç å®Œå…¨ç›¸åŒ. ","date":"2024-04-23","objectID":"/posts/python/gradio%E6%92%AD%E6%94%BE%E8%BF%94%E5%9B%9E.avi%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE%E9%97%AE%E9%A2%98/:1:0","series":null,"tags":null,"title":"Gradioæ’­æ”¾è¿”å›.aviæ ¼å¼è§†é¢‘æ— æ³•æ’­æ”¾é—®é¢˜","uri":"/posts/python/gradio%E6%92%AD%E6%94%BE%E8%BF%94%E5%9B%9E.avi%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE%E9%97%AE%E9%A2%98/#ç°è±¡"},{"categories":null,"content":" æ’æŸ¥é¦–å…ˆprintå‡ºå·¥ä½œç›®å½•å’Œè§†é¢‘è·¯å¾„, æ£€æŸ¥åæ— é—®é¢˜, ç„¶åå°†è§†é¢‘æ”¹ä¸ºç»å¯¹è·¯å¾„, ä¾ç„¶æ— æ³•æ’­æ”¾. F12æ‰“å¼€ç½‘ç»œè¯·æ±‚è®°å½•, æŸ¥çœ‹condaç¯å¢ƒæœåŠ¡æ’­æ”¾çš„è§†é¢‘æ¥è‡ªç£ç›˜ç¼“å­˜, å‹¾é€‰ä¸ä½¿ç”¨ç¼“å­˜, ç„¶åé‡æ–°è¯·æ±‚, å‘ç°ä»ç„¶å¯ä»¥æ’­æ”¾. å¯¹æ¯”condaæœåŠ¡å’ŒdockeræœåŠ¡çš„è¯·æ±‚åˆ—è¡¨, å‘ç°condaä¸­æœ‰å¸¦ffmpegå­—æ ·çš„è¯·æ±‚, å°è¯•åœ¨dockerç¯å¢ƒä¸­å®‰è£…ffmpeg: sh docker exec -it container_name bash # è¿›å…¥å®¹å™¨shell apt install ffmpeg docker restart container_nameåé‡æ–°å°è¯•è¯·æ±‚dockeræœåŠ¡, å‘ç°è§†é¢‘å¯ä»¥æ­£å¸¸æ’­æ”¾. ","date":"2024-04-23","objectID":"/posts/python/gradio%E6%92%AD%E6%94%BE%E8%BF%94%E5%9B%9E.avi%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE%E9%97%AE%E9%A2%98/:2:0","series":null,"tags":null,"title":"Gradioæ’­æ”¾è¿”å›.aviæ ¼å¼è§†é¢‘æ— æ³•æ’­æ”¾é—®é¢˜","uri":"/posts/python/gradio%E6%92%AD%E6%94%BE%E8%BF%94%E5%9B%9E.avi%E6%A0%BC%E5%BC%8F%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE%E9%97%AE%E9%A2%98/#æ’æŸ¥"},{"categories":null,"content":"é¦–å…ˆå®‰è£…termux-api: sh pkg install termux-api ä¹‹åæ‰§è¡Œ: sh termux-setup-storage ä¹‹åæ‰‹æœºä¼šå¼¹å‡ºTermuxè¯·æ±‚è®¿é—®å†…éƒ¨å­˜å‚¨, å…è®¸ä¹‹å, ä¼šç”Ÿæˆ~/storage, å®ƒæ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥, æŒ‡å‘æ‰‹æœºå†…éƒ¨å­˜å‚¨. ","date":"2024-04-22","objectID":"/posts/termux/termux%E8%AE%BF%E9%97%AE%E6%89%8B%E6%9C%BA%E5%86%85%E9%83%A8%E5%AD%98%E5%82%A8/:0:0","series":null,"tags":null,"title":"Termuxè®¿é—®æ‰‹æœºå†…éƒ¨å­˜å‚¨","uri":"/posts/termux/termux%E8%AE%BF%E9%97%AE%E6%89%8B%E6%9C%BA%E5%86%85%E9%83%A8%E5%AD%98%E5%82%A8/#"},{"categories":null,"content":"Termuxæ¢æºéå¸¸ç®€å•, æ‰§è¡Œ\"termux-change-repo, åœ¨cliå›¾å½¢ç•Œé¢é€‰æ‹©è¦æ›´æ¢çš„æºå³å¯. ","date":"2024-04-22","objectID":"/posts/termux/termux%E6%8D%A2%E6%BA%90/:0:0","series":null,"tags":null,"title":"Termuxæ¢æº","uri":"/posts/termux/termux%E6%8D%A2%E6%BA%90/#"},{"categories":null,"content":" æ–°å»ºç”¨æˆ· sh sudo adduser newuser # ä¿®æ”¹å¯†ç  sudo passwd newuser # æˆäºˆsudoæƒé™ sudo usermod -aG sudo newuser ","date":"2024-04-19","objectID":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/:1:0","series":null,"tags":null,"title":"LinuxæœåŠ¡å™¨åˆ›å»ºä½æƒé™ç”¨æˆ·å¹¶ç¦æ­¢å¯†ç ç™»å½•","uri":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/#æ–°å»ºç”¨æˆ·"},{"categories":null,"content":" ä¸ºç”¨æˆ·æ·»åŠ å…¬é’¥ä½¿ç”¨ssh-keygen -t rsa -C \"newuser\" å‘½ä»¤ç”Ÿæˆä¸€å¯¹å…¬ç§é’¥, åœ¨æœåŠ¡å™¨ä¸Šå°†å…¬é’¥å†…å®¹æ·»åŠ åˆ°authorized_keysä¸­. sh # å¦‚æœæ²¡æœ‰ç›®å½•åˆ™åˆ›å»º mkdir .ssh # æ·»åŠ å…¬é’¥åˆ°authorized_keysæ–‡ä»¶æœ€åä¸€è¡Œ echo \"ssh-rsa xxx= newuser\" \u003e\u003e .ssh/authorized_keys ","date":"2024-04-19","objectID":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/:2:0","series":null,"tags":null,"title":"LinuxæœåŠ¡å™¨åˆ›å»ºä½æƒé™ç”¨æˆ·å¹¶ç¦æ­¢å¯†ç ç™»å½•","uri":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/#ä¸ºç”¨æˆ·æ·»åŠ å…¬é’¥"},{"categories":null,"content":" ç¦æ­¢ç”¨æˆ·å¯†ç ç™»å½•ç¼–è¾‘sshdé…ç½®æ–‡ä»¶sudo vim /etc/ssh/sshd_config, åœ¨å…¶ä¸­æ·»åŠ å†…å®¹: sh Match User username PasswordAuthentication no ä¿å­˜é€€å‡ºåé‡å¯sshæœåŠ¡: sh sudo systemctl restart ssh ","date":"2024-04-19","objectID":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/:3:0","series":null,"tags":null,"title":"LinuxæœåŠ¡å™¨åˆ›å»ºä½æƒé™ç”¨æˆ·å¹¶ç¦æ­¢å¯†ç ç™»å½•","uri":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E5%B9%B6%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/#ç¦æ­¢ç”¨æˆ·å¯†ç ç™»å½•"},{"categories":null,"content":"é»˜è®¤é…ç½®ä¸‹çš„gitåœ¨ä¿®æ”¹åŒ…å«ä¸­æ–‡å†…å®¹çš„æ—¶å€™, ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µ: text ä½äºåˆ†æ”¯ writer æ‚¨çš„åˆ†æ”¯ä¸ä¸Šæ¸¸åˆ†æ”¯ 'origin/writer' ä¸€è‡´ã€‚ å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š ï¼ˆä½¿ç”¨ \"git add \u003cæ–‡ä»¶\u003e...\" æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰ ï¼ˆä½¿ç”¨ \"git restore \u003cæ–‡ä»¶\u003e...\" ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰ ä¿®æ”¹ï¼š .gitignore ä¿®æ”¹ï¼š \"content/posts/\\346\\265\\213\\350\\257\\225\\346\\226\\207\\347\\253\\240.md\" ä¿®æ”¹å°šæœªåŠ å…¥æäº¤ï¼ˆä½¿ç”¨ \"git add\" å’Œ/æˆ– \"git commit -a\"ï¼‰ å¯ä»¥çœ‹åˆ°ä¸­æ–‡æ˜¾ç¤ºä¸ºASCIIç¼–ç , è¿™æ˜¯ç”±äºGitçš„core.quotepathé…ç½®é»˜è®¤æ˜¯true, å®ƒä¼šå°†æ‰€æœ‰éASCIIå­—ç¬¦è½¬æ¢ä¸ºASCIIç¼–ç ï¼Œå› æ­¤ä¸­æ–‡è·¯å¾„å’Œæ–‡ä»¶åä¼šæ˜¾ç¤ºä¸ºä¸å¯è¯»çš„å­—ç¬¦ã€‚ ä½¿ç”¨å‘½ä»¤git config --global core.quotepath falseå¯ä»¥ä¸å°†éASCIIå­—ç¬¦çš„æ–‡ä»¶åè¿›è¡Œç¼–ç è½¬æ¢, æ›´æ”¹åæ˜¾ç¤ºå¦‚ä¸‹: text ä½äºåˆ†æ”¯ writer æ‚¨çš„åˆ†æ”¯ä¸ä¸Šæ¸¸åˆ†æ”¯ 'origin/writer' ä¸€è‡´ã€‚ å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š ï¼ˆä½¿ç”¨ \"git add \u003cæ–‡ä»¶\u003e...\" æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰ ï¼ˆä½¿ç”¨ \"git restore \u003cæ–‡ä»¶\u003e...\" ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰ ä¿®æ”¹ï¼š .gitignore ä¿®æ”¹ï¼š content/posts/æµ‹è¯•æ–‡ç« .md ä¿®æ”¹å°šæœªåŠ å…¥æäº¤ï¼ˆä½¿ç”¨ \"git add\" å’Œ/æˆ– \"git commit -a\"ï¼‰ ","date":"2024-04-16","objectID":"/posts/%E7%BB%88%E7%AB%AF%E4%B8%ADgit%E4%BF%A1%E6%81%AF%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E4%B8%BAascii%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/:0:0","series":null,"tags":null,"title":"ç»ˆç«¯ä¸­gitä¿¡æ¯ä¸­æ–‡æ˜¾ç¤ºä¸ºASCIIç¼–ç é—®é¢˜","uri":"/posts/%E7%BB%88%E7%AB%AF%E4%B8%ADgit%E4%BF%A1%E6%81%AF%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E4%B8%BAascii%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/#"},{"categories":null,"content":"ç¼–è¾‘æ–‡ä»¶~/.config/kwalletrc: ini [Auto Deny] kdewallet=codium åœ¨å…¶ä¸­åŠ å…¥ä½ éœ€è¦å¯åŠ¨çš„åº”ç”¨åç§° ","date":"2024-04-16","objectID":"/posts/kde%E4%B8%AD%E6%AF%8F%E6%AC%A1%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8%E9%83%BD%E7%94%B3%E8%AF%B7%E5%BC%80%E5%90%AFkdewallet%E7%9A%84%E9%97%AE%E9%A2%98/:0:0","series":null,"tags":null,"title":"KDEä¸­æ¯æ¬¡å¯åŠ¨åº”ç”¨éƒ½ç”³è¯·å¼€å¯kdewalletçš„é—®é¢˜","uri":"/posts/kde%E4%B8%AD%E6%AF%8F%E6%AC%A1%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8%E9%83%BD%E7%94%B3%E8%AF%B7%E5%BC%80%E5%90%AFkdewallet%E7%9A%84%E9%97%AE%E9%A2%98/#"},{"categories":null,"content":"ä»Šå¤©pushçš„æ—¶å€™çœ‹åˆ°ä»“åº“æœ‰äº›commitæ˜¯ä½¿ç”¨å…¬å¸çš„é‚®ç®±æäº¤çš„, éœ€è¦ä¿®æ”¹æ‰€æœ‰å†å²commitä¸­çš„æäº¤ä½œè€…ä¿¡æ¯ ","date":"2024-04-16","objectID":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/:0:0","series":null,"tags":null,"title":"æ‰¹é‡ä¿®æ”¹gitä»“åº“å†å²æäº¤ä½œè€…ä¿¡æ¯","uri":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/#"},{"categories":null,"content":" filter-branchæŸ¥è¯¢ç½‘ä¸Šä¿¡æ¯å‘ç°äº†filter-branchè„šæœ¬, å¦‚ä¸‹: sh #!/bin/sh git filter-branch --env-filter ' OLD_EMAIL=\"æ—§é‚®ç®±\" CORRECT_NAME=\"æ–°åå­—\" CORRECT_EMAIL=\"æ–°é‚®ç®±\" if [ \"$GIT_COMMITTER_EMAIL\" = \"$OLD_EMAIL\" ] then export GIT_COMMITTER_NAME=\"$CORRECT_NAME\" export GIT_COMMITTER_EMAIL=\"$CORRECT_EMAIL\" fi if [ \"$GIT_AUTHOR_EMAIL\" = \"$OLD_EMAIL\" ] then export GIT_AUTHOR_NAME=\"$CORRECT_NAME\" export GIT_AUTHOR_EMAIL=\"$CORRECT_EMAIL\" fi ' --tag-name-filter cat -- --branches --tags ä¿®æ”¹ä¿¡æ¯è¿è¡ŒåæŠ¥è­¦å‘Š: text WARNING: git-filter-branch has a glut of gotchas generating mangled history rewrites. Hit Ctrl-C before proceeding to abort, then use an alternative filtering tool such as 'git filter-repo' (https://github.com/newren/git-filter-repo/) instead. See the filter-branch manual page for more details; to squelch this warning, set FILTER_BRANCH_SQUELCH_WARNING=1. Proceeding with filter-branch... Rewrite 256e869ada89ce0adae33aa01a732c9a71b00992 (1/1) (0 seconds passed, remaining 0 predicted) Ref 'refs/heads/master' was rewritten æŸ¥è¯¢åå‘ç°git-filter-branchå·²è¢«å®˜æ–¹å¼ƒç”¨, æ”¹ç”¨æ–°çš„åŸºäºPython3ç¼–å†™çš„å·¥å…·git-filter-repo. ","date":"2024-04-16","objectID":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/:1:0","series":null,"tags":null,"title":"æ‰¹é‡ä¿®æ”¹gitä»“åº“å†å²æäº¤ä½œè€…ä¿¡æ¯","uri":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/#filter-branch"},{"categories":null,"content":" git-filter-repoéœ€è¦é€šè¿‡pip install git-filter-repoå®‰è£… ä¹‹åè¿è¡Œå‘½ä»¤: sh git filter-repo \\ --email-callback ' return email if email != b\"OLD_EMAIL\" else b\"NEW_EMAIL\" ' \\ --name-callback 'return name.replace(b\"OLD_AUTHOR\", b\"NEW_AUTHOR\")' \\ --force ","date":"2024-04-16","objectID":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/:2:0","series":null,"tags":null,"title":"æ‰¹é‡ä¿®æ”¹gitä»“åº“å†å²æäº¤ä½œè€…ä¿¡æ¯","uri":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/#git-filter-repo"},{"categories":null,"content":" æ€»ç»“ç»è¿‡å°è¯•ä¹‹å, å‘ç°ä¸è®ºæ˜¯filter-branchè¿˜æ˜¯git-filter-repoéƒ½æ— æ³•å»é™¤è¿œç¨‹ä»“åº“ä¸­çš„æ‰€æœ‰æäº¤ä¿¡æ¯, åœ¨.gitä¸­è¿˜æ˜¯ä¼šä¿ç•™, ç„¶è€Œç›´æ¥åˆ é™¤.gitçš„ç›¸å…³å†…å®¹ä¼šå¯¼è‡´æŸäº›å†å²çš„æ–‡ä»¶æŸå, æ‰€ä»¥æ”¾å¼ƒä¿®æ”¹, é™¤äº†çœ‹commitå†å²çš„æ—¶å€™æœ‰äº›ä¸é¡ºçœ¼ä¹‹å¤–ä¹Ÿæ²¡ä»€ä¹ˆå½±å“. ","date":"2024-04-16","objectID":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/:3:0","series":null,"tags":null,"title":"æ‰¹é‡ä¿®æ”¹gitä»“åº“å†å²æäº¤ä½œè€…ä¿¡æ¯","uri":"/posts/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9git%E4%BB%93%E5%BA%93%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF/#æ€»ç»“"},{"categories":null,"content":" éœ€æ±‚ç°æœ‰ä¸¤ä¸ªç›®å½•, å…¶ä¸­å›¾ç‰‡image/source/ç›®å½•éƒ¨åˆ†å†…å®¹: text -rw-r--r-- 1 root root 632719 May 16 2023 20230516091500_8ea8f4755ab211ed864a0050569539e0.jpg -rw-r--r-- 1 root root 165811 May 16 2023 20230516091500_9535f376ca0611ed9d690050569539e0.jpg -rw-r--r-- 1 root root 282415 May 16 2023 20230516091500_a08f20f9cdf111ed9d690050569539e0.jpg ... éŸ³é¢‘ç›®å½•audioéƒ¨åˆ†å†…å®¹: text drwxr-xr-x 2 root root 4096 Apr 1 15:33 ffe4db567548a8852daa715ef23336b8 drwxr-xr-x 2 root root 12288 Mar 12 18:18 fff75084e08309e56bbb6034f00ca75d drwxr-xr-x 2 root root 4096 Oct 31 15:33 fffd822ac90a7546cf5ab457c8a1ca64 ... éŸ³é¢‘ç›®å½•ä¸‹ä¸€ä¸ªå­ç›®å½•audio/fffd822ac90a7546cf5ab457c8a1ca64ä¸‹å†…å®¹: text -rw-r--r-- 1 root root 176090 Oct 31 15:30 20231031152954_e25e2be5ba9011ed9d690050569539e0.wav -rw-r--r-- 1 root root 176090 Oct 31 15:32 20231031153154_e25e2be5ba9011ed9d690050569539e0.wav -rw-r--r-- 1 root root 176090 Oct 31 15:34 20231031153354_e25e2be5ba9011ed9d690050569539e0.wav ... å…¶ä¸­image/source/ç›®å½•ä¸‹æ–‡ä»¶åä¸­çš„uuidä»£è¡¨æ‘„åƒå¤´id, ä¸audioå­ç›®å½•ä¸‹wavæ–‡ä»¶çš„æ–‡ä»¶åä¸­çš„uuidå«ä¹‰ä¸€è‡´, ä½†æ˜¯ä¸audioç›®å½•ä¸‹çš„å­ç›®å½•åç§°æ— å…³. ç°è¦æ±‚å°†ä¸¤ä¸ªç›®å½•ä¸‹ç›¸è¿‘æ—¶é—´è®°å½•çš„éŸ³é¢‘å’Œå›¾ç‰‡ä¸€ä¸€å¯¹åº”. ä¾‹å¦‚: 20231031091500_a08f20f9cdf111ed9d690050569539e0.jpg ä¸ 20231031091454_a08f20f9cdf111ed9d690050569539e0.wav å¯¹åº”. ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:1:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#éœ€æ±‚"},{"categories":null,"content":" æå–æ–‡ä»¶åˆ—è¡¨é¦–å…ˆç”¨findå‘½ä»¤æå–å®Œæ•´çš„audioæ‰€æœ‰å­ç›®å½•æ–‡ä»¶åˆ—è¡¨ sh find audio/ -type f \u003e audio.txt æ–‡ä»¶å†…å®¹: text audio/140cb49659d4105009c8c8ca4d539cd9/20231020195154_547a1f69ca0611ed9d690050569539e0.wav audio/140cb49659d4105009c8c8ca4d539cd9/20231020193554_547a1f69ca0611ed9d690050569539e0.wav audio/140cb49659d4105009c8c8ca4d539cd9/20231020202754_547a1f69ca0611ed9d690050569539e0.wav image/source/ç›®å½•ä¸‹æ˜¯å®Œæ•´çš„æ–‡ä»¶åˆ—è¡¨, æ²¡æœ‰å­ç›®å½•å±‚çº§, æ‰€ä»¥ä½¿ç”¨lså‘½ä»¤æå–: sh ls -1 image/source/ \u003e img.txt æ–‡ä»¶å†…å®¹: text 20230303153200_b999967758c411ed864a0050569539e0.jpg 20230305084000_3103656d5ab511ed864a0050569539e0.jpg 20230305084000_3a4bb49e5ab511ed864a0050569539e0.jpg ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:2:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#æå–æ–‡ä»¶åˆ—è¡¨"},{"categories":null,"content":" è§£ææ–‡ä»¶åç”±è§‚å¯Ÿå¯ä»¥å¾—çŸ¥æ–‡ä»¶åç§°æ ¼å¼å›ºå®š, ç”±14ä½æ—¥æœŸ+32ä½uuid+åç¼€æ„æˆ. ç¼–å†™è§£æå‡½æ•°: ç›´æ¥åˆ‡å‰²: python def split(s): return (s[0:14], s[15:48], s[-3:]) æ ¹æ®ç¬¦å·åˆ‡å‰²: python def split(s): return ( s[0 : s.find(\"_\")], s[s.find(\"_\") + 1 : s.find(\".\")], s[s.find(\".\") + 1 :] ) è¿è¡Œ: python print(split(\"20230303153200_b999967758c411ed864a0050569539e0.jpg\")) è¾“å‡º: text ('20230303153200', 'b999967758c411ed864a0050569539e0', 'jpg') ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:3:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#è§£ææ–‡ä»¶å"},{"categories":null,"content":" æå–ç‰¹å¾ç”±äºè¦å¯¹æ¯”20231031091500_a08f20f9cdf111ed9d690050569539e0.jpg ä¸ 20231031091454_a08f20f9cdf111ed9d690050569539e0.wav è¿™ç§å¯¹åº”å…³ç³», åªéœ€è¦è®©éŸ³é¢‘æ–‡ä»¶ç²¾ç¡®åˆ°åˆ†é’Ÿçš„æ—¶é—´+1åˆ†é’Ÿç­‰äºå›¾ç‰‡çš„æ—¶é—´å³ä¸ºåŒæ—¶çš„å›¾ç‰‡, å°†ç²¾ç¡®åˆ°åˆ†é’Ÿçš„æ—¶é—´å’Œåé¢çš„uuidæ‹¼æ¥ä¸ºå­—ç¬¦ä¸², å­—ç¬¦ä¸²ç›¸ç­‰, å›¾ç‰‡å’ŒéŸ³é¢‘å°±å¯¹åº”ä¸Šäº†. ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:4:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#æå–ç‰¹å¾"},{"categories":null,"content":" å¤„ç†imagesç›®å½•æ–‡ä»¶åˆ—è¡¨æ–‡ä»¶è¾ƒå°, ä¸åˆ°60MB, ä¸éœ€è¦ä¼˜åŒ–å†…å­˜å ç”¨, æ‰€ä»¥ç›´æ¥åŠ è½½åˆ°å†…å­˜åœ¨å†…å­˜å¤„ç† python def img(): with open(\"åŒ¹é…å›¾ç‰‡/img.txt\", \"r\") as f: # è¯»å–å¹¶å»é™¤æ¢è¡Œç¬¦ data = f.read().splitlines() res = dict() for i in data: timestamp, uuid, _ = split(i) trait = timestamp[:-2] + uuid res[trait] = i return res ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:4:1","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#å¤„ç†imagesç›®å½•æ–‡ä»¶åˆ—è¡¨"},{"categories":null,"content":" è§£æaudioç›®å½•æ–‡ä»¶åˆ—è¡¨å’Œimagesç›®å½•ç±»ä¼¼, éœ€è¦æ³¨æ„å¤„ç†æ–‡ä»¶è·¯å¾„, è¿˜æœ‰æ—¶é—´+1åˆ†é’Ÿéœ€è¦è½¬æ¢ä¸ºæ—¶é—´å¯¹è±¡, è¿™æ ·å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œ60è¿›åˆ¶è¿ç®—. python def audio(): with open(\"åŒ¹é…å›¾ç‰‡/audio.txt\", \"r\") as f: # è¯»å–å¹¶å»é™¤æ¢è¡Œç¬¦ data = f.read().splitlines() res = dict() for i in data: timestamp, uuid, _ = split(i[i.rfind(\"/\") + 1 :]) # å°†æ—¶é—´+1åˆ†é’Ÿ date_time = datetime.strptime(timestamp, r\"%Y%m%d%H%M%S\") + timedelta(minutes=1) timestamp = date_time.strftime(r\"%Y%m%d%H%M%S\") trait = timestamp[:-2] + uuid res[trait] = i return res ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:4:2","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#è§£æaudioç›®å½•æ–‡ä»¶åˆ—è¡¨"},{"categories":null,"content":" æ¯”è¾ƒä¸¤ä¸ªç›®å½•æ–‡ä»¶åˆ—è¡¨ python imgd = img() audiod = audio() res = list() for key, value in audiod.items(): if key in imgd: res.append((\"image/source/\" + imgd[key], value)) print(res) ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:5:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#æ¯”è¾ƒä¸¤ä¸ªç›®å½•æ–‡ä»¶åˆ—è¡¨"},{"categories":null,"content":" å¤åˆ¶æ–‡ä»¶ python for i in res: _, uuid, _ = split(i[0][i[0].rfind(\"/\") + 1 :]) target = Path(f\"data/{uuid}\") target.mkdir(parents=True, exist_ok=True) shutil.copy(i[0], target) shutil.copy(i[1], target) ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:6:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#å¤åˆ¶æ–‡ä»¶"},{"categories":null,"content":" æœ€ç»ˆä»£ç  python import shutil from datetime import datetime, timedelta from pathlib import Path def split(s): return (s[0 : s.find(\"_\")], s[s.find(\"_\") + 1 : s.find(\".\")], s[s.find(\".\") + 1 :]) def img(): with open(\"img.txt\", \"r\") as f: # è¯»å–å¹¶å»é™¤æ¢è¡Œç¬¦ data = f.read().splitlines() res = dict() for i in data: timestamp, uuid, _ = split(i) trait = timestamp[:-2] + uuid res[trait] = i return res def audio(): with open(\"audio.txt\", \"r\") as f: # è¯»å–å¹¶å»é™¤æ¢è¡Œç¬¦ data = f.read().splitlines() res = dict() for i in data: timestamp, uuid, _ = split(i[i.rfind(\"/\") + 1 :]) # å°†æ—¶é—´+1åˆ†é’Ÿ date_time = datetime.strptime(timestamp, r\"%Y%m%d%H%M%S\") + timedelta(minutes=1) timestamp = date_time.strftime(r\"%Y%m%d%H%M%S\") trait = timestamp[:-2] + uuid res[trait] = i return res if __name__ == \"__main__\": imgd = img() audiod = audio() res = list() for key, value in audiod.items(): if key in imgd: res.append((\"image/source/\" + imgd[key], value)) print(res) ... # å¤åˆ¶æ–‡ä»¶ for i in res: _, uuid, _ = split(i[0][i[0].rfind(\"/\") + 1 :]) target = Path(f\"data/{uuid}\") target.mkdir(parents=True, exist_ok=True) shutil.copy(i[0], target) shutil.copy(i[1], target) ","date":"2024-04-16","objectID":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/:7:0","series":null,"tags":null,"title":"Pythonè„šæœ¬ç¼–å†™-åŒ¹é…åŒæ—¶é—´æ®µçš„éŸ³é¢‘å’Œå›¾ç‰‡","uri":"/posts/python/python%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-%E5%8C%B9%E9%85%8D%E5%90%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84%E9%9F%B3%E9%A2%91%E5%92%8C%E5%9B%BE%E7%89%87/#æœ€ç»ˆä»£ç "},{"categories":null,"content":" åˆ›å»ºcondaç¯å¢ƒ sh conda create -n moused python=3.10 ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:1:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#åˆ›å»ºcondaç¯å¢ƒ"},{"categories":null,"content":" è¿›å…¥condaç¯å¢ƒ sh conda activate moused ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:2:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#è¿›å…¥condaç¯å¢ƒ"},{"categories":null,"content":" é…ç½®ç¯å¢ƒ sh mkdir moused cd moused pip install ultralytics ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:3:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#é…ç½®ç¯å¢ƒ"},{"categories":null,"content":" é¢„æµ‹ sh yolo detect predict model=yolov8x.pt source=mouse.mp4 æ•ˆæœå¹¶ä¸å¥½, éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†å¾®è°ƒ. ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:4:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#é¢„æµ‹"},{"categories":null,"content":" ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†å¾®è°ƒç»è¿‡æŒ‘é€‰, ä¸‹è½½å®‰è£…X-AnyLabelingä½œä¸ºæ•°æ®æ ‡æ³¨å·¥å…·, æˆªå–ä¸€äº›æœ‰è€é¼ çš„å›¾åƒ, å¹¶ä¸”æ ‡æ³¨æ£€æµ‹æ¡†, æ ‡æ³¨å®Œæˆå, æ–°å»ºä¸€ä¸ªæ ‡ç­¾æ–‡ä»¶classes.txt, å†…å®¹å¦‚ä¸‹: text mouse é€‰æ‹©å¯¼å‡ºä¸ºyoloæ ‡ç­¾, ä¼šåœ¨å›¾ç‰‡ç›®å½•åŒçº§å‡ºç°labelsç›®å½•. ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:5:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†å¾®è°ƒ"},{"categories":null,"content":" æ‹†åˆ†è®­ç»ƒé›†å°†imageç›®å½•å’Œlabelsç›®å½•æ”¾åˆ°ä¸€ä¸ªdataç›®å½•ä¸‹, ç„¶åè¿è¡Œå¦‚ä¸‹ä»£ç : python import os import random import shutil # è®¾ç½®éšæœºæ•°ç§å­ random.seed(123) # å®šä¹‰æ–‡ä»¶å¤¹è·¯å¾„ root_dir = 'data' image_dir = os.path.join(root_dir, 'images') label_dir = os.path.join(root_dir, 'labels') output_dir = 'dataset' # å®šä¹‰è®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†æ¯”ä¾‹ train_ratio = 0.7 valid_ratio = 0.15 test_ratio = 0.15 # è·å–æ‰€æœ‰å›¾åƒæ–‡ä»¶å’Œæ ‡ç­¾æ–‡ä»¶çš„æ–‡ä»¶åï¼ˆä¸åŒ…æ‹¬æ–‡ä»¶æ‰©å±•åï¼‰ image_filenames = [os.path.splitext(f)[0] for f in os.listdir(image_dir)] label_filenames = [os.path.splitext(f)[0] for f in os.listdir(label_dir)] # éšæœºæ‰“ä¹±æ–‡ä»¶ååˆ—è¡¨ random.shuffle(image_filenames) # è®¡ç®—è®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†çš„æ•°é‡ total_count = len(image_filenames) train_count = int(total_count * train_ratio) valid_count = int(total_count * valid_ratio) test_count = total_count - train_count - valid_count # å®šä¹‰è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„ train_image_dir = os.path.join(output_dir, 'train', 'images') train_label_dir = os.path.join(output_dir, 'train', 'labels') valid_image_dir = os.path.join(output_dir, 'valid', 'images') valid_label_dir = os.path.join(output_dir, 'valid', 'labels') test_image_dir = os.path.join(output_dir, 'test', 'images') test_label_dir = os.path.join(output_dir, 'test', 'labels') # åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹ os.makedirs(train_image_dir, exist_ok=True) os.makedirs(train_label_dir, exist_ok=True) os.makedirs(valid_image_dir, exist_ok=True) os.makedirs(valid_label_dir, exist_ok=True) os.makedirs(test_image_dir, exist_ok=True) os.makedirs(test_label_dir, exist_ok=True) # å°†å›¾åƒå’Œæ ‡ç­¾æ–‡ä»¶åˆ’åˆ†åˆ°ä¸åŒçš„æ•°æ®é›†ä¸­ for i, filename in enumerate(image_filenames): if i \u003c train_count: output_image_dir = train_image_dir output_label_dir = train_label_dir elif i \u003c train_count + valid_count: output_image_dir = valid_image_dir output_label_dir = valid_label_dir else: output_image_dir = test_image_dir output_label_dir = test_label_dir # å¤åˆ¶å›¾åƒæ–‡ä»¶ src_image_path = os.path.join(image_dir, filename + '.png') dst_image_path = os.path.join(output_image_dir, filename + '.png') shutil.copy(src_image_path, dst_image_path) # å¤åˆ¶æ ‡ç­¾æ–‡ä»¶ src_label_path = os.path.join(label_dir, filename + '.txt') dst_label_path = os.path.join(output_label_dir, filename + '.txt') shutil.copy(src_label_path, dst_label_path) å°†æ‹†åˆ†å‡ºè®­ç»ƒé›†/éªŒè¯é›†/æµ‹è¯•é›†. ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:6:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#æ‹†åˆ†è®­ç»ƒé›†"},{"categories":null,"content":" è®­ç»ƒåˆ›å»ºdata.ymlæ–‡ä»¶, å†…å®¹å¦‚ä¸‹: yml train: /home/user/moused/dataset/train # train images (relative to 'path') 128 images val: /home/user/moused/dataset/valid # val images (relative to 'path') 128 images test: /home/user/moused/dataset/test # test images (optional) # Classes names: 0: mouse è¿è¡Œå‘½ä»¤yolo detect train data=data.yml model=yolov8x.pt epochs=100 imgsz=640, å°†å¼€å§‹è®­ç»ƒ. ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:7:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#è®­ç»ƒ"},{"categories":null,"content":" é¢„æµ‹ sh yolo detect predict model=runs/detect/train/weights/best.pt source=mouse.mp4 æ•ˆæœè¿˜ä¸é”™ ","date":"2024-04-15","objectID":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/:8:0","series":null,"tags":null,"title":"ä½¿ç”¨yolo-v8æ£€æµ‹è§†é¢‘ä¸­çš„è€é¼ ","uri":"/posts/python/%E4%BD%BF%E7%94%A8yolo-v8%E6%A3%80%E6%B5%8B%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E8%80%81%E9%BC%A0/#é¢„æµ‹-1"}]